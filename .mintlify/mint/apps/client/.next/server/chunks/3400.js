"use strict";exports.id=3400,exports.ids=[3400],exports.modules={31908:(a,b,c)=>{c.d(b,{y:()=>d});function d(a,b){var c=b.methodName,d=b.integrationName,e=b.type,f=b.didError;a.stats.increment("analytics_js.integration.invoke".concat(void 0!==f&&f?".error":""),1,["method:".concat(c),"integration_name:".concat(d),"type:".concat(e)])}},34376:(a,b,c)=>{c.d(b,{h:()=>f});var d=c(622749),e=c(488030),f=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c=(0,e.m)();return(c&&c.fetch||d.A).apply(void 0,a)}},153814:(a,b,c)=>{c.d(b,{d:()=>e.d,o:()=>g});var d=c(508524),e=c(973272),f=c(874012),g=function(a){function b(b,c){return a.call(this,b,c,new f.U)||this}return(0,d.C6)(b,a),b.system=function(){return new this({type:"track",event:"system"})},b}(e.j)},194080:(a,b,c)=>{c.d(b,{u:()=>d});var d=function(){var a,b,c=!1,d=new Promise(function(d,e){a=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=!0,d.apply(void 0,a)},b=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];c=!0,e.apply(void 0,a)}});return{resolve:a,reject:b,promise:d,isSettled:function(){return c}}}},374351:(a,b,c)=>{c.d(b,{C:()=>f,D:()=>g});var d=c(508524),e=c(973272);function f(a,b){a.log("debug","plugin",{plugin:b.name});var c=new Date().getTime(),f=b[a.event.type];return void 0===f?Promise.resolve(a):(function(a){return(0,d.sH)(this,void 0,void 0,function(){return(0,d.YH)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,a()];case 1:return[2,b.sent()];case 2:return[2,Promise.reject(b.sent())];case 3:return[2]}})})})(function(){return f.apply(b,[a])}).then(function(a){var d=new Date().getTime()-c;return a.stats.gauge("plugin_time",d,["plugin:".concat(b.name)]),a}).catch(function(c){if(c instanceof e.d&&"middleware_cancellation"===c.type)throw c;return c instanceof e.d?a.log("warn",c.type,{plugin:b.name,error:c}):(a.log("error","plugin Error",{plugin:b.name,error:c}),a.stats.increment("plugin_error",1,["plugin:".concat(b.name)])),c})}function g(a,b){return f(a,b).then(function(b){if(b instanceof e.j)return b;a.log("debug","Context canceled"),a.stats.increment("context_canceled"),a.cancel(b)})}},445594:(a,b,c)=>{c.d(b,{r:()=>d});var d="1.81.1"},452069:(a,b,c)=>{c.d(b,{J:()=>e});var d=c(508524);function e(a,b){var c,e=Object.entries(null!=(c=b.integrations)?c:{}).reduce(function(a,b){var c,e,f=b[0],g=b[1];return"object"==typeof g?(0,d.Cl)((0,d.Cl)({},a),((c={})[f]=g,c)):(0,d.Cl)((0,d.Cl)({},a),((e={})[f]={},e))},{});return Object.entries(a.integrations).reduce(function(a,b){var c,f=b[0],g=b[1];return(0,d.Cl)((0,d.Cl)({},a),((c={})[f]=(0,d.Cl)((0,d.Cl)({},g),e[f]),c))},{})}},471863:(a,b,c)=>{c.d(b,{p:()=>e,r:()=>f});var d=c(508524),e=function(){function a(){this.metrics=[]}return a.prototype.increment=function(a,b,c){void 0===b&&(b=1),this.metrics.push({metric:a,value:b,tags:null!=c?c:[],type:"counter",timestamp:Date.now()})},a.prototype.gauge=function(a,b,c){this.metrics.push({metric:a,value:b,tags:null!=c?c:[],type:"gauge",timestamp:Date.now()})},a.prototype.flush=function(){var a=this.metrics.map(function(a){return(0,d.Cl)((0,d.Cl)({},a),{tags:a.tags.join(",")})});console.table?console.table(a):console.log(a),this.metrics=[]},a.prototype.serialize=function(){return this.metrics.map(function(a){return{m:a.metric,v:a.value,t:a.tags,k:({gauge:"g",counter:"c"})[a.type],e:a.timestamp}})},a}(),f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,d.C6)(b,a),b.prototype.gauge=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b]},b.prototype.increment=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b]},b.prototype.flush=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b]},b.prototype.serialize=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return[]},b}(e)},488030:(a,b,c)=>{c.d(b,{m:()=>d});var d=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null}},505976:(a,b,c)=>{c.d(b,{_:()=>e});var d=c(508524),e=function(a,b){return(0,d.sH)(void 0,void 0,void 0,function(){var c;return(0,d.YH)(this,function(e){return[2,(c=function(e){return(0,d.sH)(void 0,void 0,void 0,function(){var f;return(0,d.YH)(this,function(d){switch(d.label){case 0:if(!a(e))return[3,2];return f=c,[4,b()];case 1:return[2,f.apply(void 0,[d.sent()])];case 2:return[2]}})})})(void 0)]})})}},556093:(a,b,c)=>{c.d(b,{Ud:()=>g,kJ:()=>e,rY:()=>f});var d="analytics";function e(){return window[d]}function f(a){d=a}function g(a){window[d]=a}},597538:(a,b,c)=>{c.d(b,{x:()=>m});var d=c(508524),e=c(615960),f=c(153814),g=c(792912),h={getItem:function(){},setItem:function(){},removeItem:function(){}};try{h=(0,g.B)()&&window.localStorage?window.localStorage:h}catch(a){console.warn("Unable to access localStorage",a)}function i(a){var b=h.getItem(a);return(b?JSON.parse(b):[]).map(function(a){return new f.o(a.event,a.id)})}function j(a){var b=h.getItem(a);return b?JSON.parse(b):{}}function k(a){h.removeItem(a)}function l(a,b,c){void 0===c&&(c=0);var d="persisted-queue:v1:".concat(a,":lock"),e=h.getItem(d),f=e?JSON.parse(e):null,g=null===f||new Date().getTime()>f;if(g){h.setItem(d,JSON.stringify(new Date().getTime()+50)),b(),h.removeItem(d);return}!g&&c<3?setTimeout(function(){l(a,b,c+1)},50):console.error("Unable to retrieve lock")}var m=function(a){function b(b,c){var e=a.call(this,b,[])||this,f="persisted-queue:v1:".concat(c,":items"),g="persisted-queue:v1:".concat(c,":seen"),m=[],n={};return l(c,function(){try{m=i(f),n=j(g),k(f),k(g),e.queue=(0,d.fX)((0,d.fX)([],m,!0),e.queue,!0),e.seen=(0,d.Cl)((0,d.Cl)({},n),e.seen)}catch(a){console.error(a)}}),window.addEventListener("pagehide",function(){if(e.todo>0){var a=(0,d.fX)((0,d.fX)([],e.queue,!0),e.future,!0);try{l(c,function(){var b,c,k,l;b=i(f),c=(0,d.fX)((0,d.fX)([],a,!0),b,!0).reduce(function(a,b){var c;return(0,d.Cl)((0,d.Cl)({},a),((c={})[b.id]=b,c))},{}),h.setItem(f,JSON.stringify(Object.values(c))),k=e.seen,l=j(g),h.setItem(g,JSON.stringify((0,d.Cl)((0,d.Cl)({},l),k)))})}catch(a){console.error(a)}}}),e}return(0,d.C6)(b,a),b}(e.M)},615960:(a,b,c)=>{c.d(b,{g:()=>f,M:()=>g});var d=c(508524),e=c(666228),f="onRemoveFromFuture",g=function(a){function b(b,c,d){var e=a.call(this)||this;return e.future=[],e.maxAttempts=b,e.queue=c,e.seen=null!=d?d:{},e}return(0,d.C6)(b,a),b.prototype.push=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=b.map(function(b){return!(a.updateAttempts(b)>a.maxAttempts||a.includes(b))&&(a.queue.push(b),!0)});return this.queue=this.queue.sort(function(b,c){return a.getAttempts(b)-a.getAttempts(c)}),d},b.prototype.pushWithBackoff=function(a,b){var c,d,e,g,h,i=this;if(void 0===b&&(b=0),0==b&&0===this.getAttempts(a))return this.push(a)[0];var j=this.updateAttempts(a);if(j>this.maxAttempts||this.includes(a))return!1;var k=(c={attempt:j-1},d=Math.random()+1,e=c.minTimeout,g=c.factor,Math.min(d*(void 0===e?500:e)*Math.pow(void 0===g?2:g,c.attempt),void 0===(h=c.maxTimeout)?1/0:h));return b>0&&k<b&&(k=b),setTimeout(function(){i.queue.push(a),i.future=i.future.filter(function(b){return b.id!==a.id}),i.emit(f)},k),this.future.push(a),!0},b.prototype.getAttempts=function(a){var b;return null!=(b=this.seen[a.id])?b:0},b.prototype.updateAttempts=function(a){return this.seen[a.id]=this.getAttempts(a)+1,this.getAttempts(a)},b.prototype.includes=function(a){return this.queue.includes(a)||this.future.includes(a)||!!this.queue.find(function(b){return b.id===a.id})||!!this.future.find(function(b){return b.id===a.id})},b.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(b.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),b}(e.v)},666228:(a,b,c)=>{c.d(b,{v:()=>d});var d=function(){function a(a){var b;this.callbacks={},this.warned=!1,this.maxListeners=null!=(b=null==a?void 0:a.maxListeners)?b:10}return a.prototype.warnIfPossibleMemoryLeak=function(a){!this.warned&&this.maxListeners&&this.callbacks[a].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(a)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},a.prototype.on=function(a,b){return this.callbacks[a]?(this.callbacks[a].push(b),this.warnIfPossibleMemoryLeak(a)):this.callbacks[a]=[b],this},a.prototype.once=function(a,b){var c=this,d=function(){for(var e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];c.off(a,d),b.apply(c,e)};return this.on(a,d),this},a.prototype.off=function(a,b){var c,d=(null!=(c=this.callbacks[a])?c:[]).filter(function(a){return a!==b});return this.callbacks[a]=d,this},a.prototype.emit=function(a){for(var b,c=this,d=[],e=1;e<arguments.length;e++)d[e-1]=arguments[e];return(null!=(b=this.callbacks[a])?b:[]).forEach(function(a){a.apply(c,d)}),this},a}()},671676:(a,b,c)=>{function d(a){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(b){return b.src===a})}function e(a,b){var c=d(a);if(void 0!==c){var e=null==c?void 0:c.getAttribute("status");if("loaded"===e)return Promise.resolve(c);if("loading"===e)return new Promise(function(a,b){c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(a){return b(a)})})}return new Promise(function(c,d){var e,f=window.document.createElement("script");f.type="text/javascript",f.src=a,f.async=!0,f.setAttribute("status","loading");for(var g=0,h=Object.entries(null!=b?b:{});g<h.length;g++){var i=h[g],j=i[0],k=i[1];f.setAttribute(j,k)}f.onload=function(){f.onerror=f.onload=null,f.setAttribute("status","loaded"),c(f)},f.onerror=function(){f.onerror=f.onload=null,f.setAttribute("status","error"),d(Error("Failed to load ".concat(a)))};var l=window.document.querySelector("script");l?null==(e=l.parentElement)||e.insertBefore(f,l):window.document.head.appendChild(f)})}function f(a){var b=d(a);return void 0!==b&&b.remove(),Promise.resolve()}c.d(b,{d:()=>f,k:()=>e})},722880:(a,b,c)=>{c.d(b,{a:()=>d});var d="api.segment.io/v1"},792912:(a,b,c)=>{function d(){return"undefined"!=typeof window}function e(){return!d()}c.d(b,{B:()=>d,S:()=>e})},819431:(a,b,c)=>{c.d(b,{a:()=>f,s:()=>e});var d=c(792912);function e(){return!(0,d.B)()||window.navigator.onLine}function f(){return!e()}},874012:(a,b,c)=>{c.d(b,{U:()=>n});var d,e=c(508524),f=c(471863),g=c(34376),h=c(445594),i=c(952841),j=c(722880),k=function(a,b,c){var d=b.reduce(function(a,b){var c=b.split(":"),d=c[0],e=c[1];return a[d]=e,a},{});return{type:"Counter",metric:a,value:1,tags:(0,e.Cl)((0,e.Cl)({},d),{library:"analytics.js",library_version:"web"===c?"next-".concat(h.r):"npm:next-".concat(h.r)})}};function l(a){console.error("Error sending segment performance metrics",a)}var m=function(){function a(a){var b,c,d,e,f,g=this;if(this.host=null!=(b=null==a?void 0:a.host)?b:j.a,this.sampleRate=null!=(c=null==a?void 0:a.sampleRate)?c:1,this.flushTimer=null!=(d=null==a?void 0:a.flushTimer)?d:3e4,this.maxQueueSize=null!=(e=null==a?void 0:a.maxQueueSize)?e:20,this.protocol=null!=(f=null==a?void 0:a.protocol)?f:"https",this.queue=[],this.sampleRate>0){var h=!1,i=function(){h||(h=!0,g.flush().catch(l),h=!1,setTimeout(i,g.flushTimer))};i()}}return a.prototype.increment=function(a,b){if(!(!a.includes("analytics_js.")||0===b.length||Math.random()>this.sampleRate)&&!(this.queue.length>=this.maxQueueSize)){var c=k(a,b,(0,i.X)());this.queue.push(c),a.includes("error")&&this.flush().catch(l)}},a.prototype.flush=function(){return(0,e.sH)(this,void 0,void 0,function(){var a=this;return(0,e.YH)(this,function(b){switch(b.label){case 0:if(this.queue.length<=0)return[2];return[4,this.send().catch(function(b){l(b),a.sampleRate=0})];case 1:return b.sent(),[2]}})})},a.prototype.send=function(){return(0,e.sH)(this,void 0,void 0,function(){var a,b,c;return(0,e.YH)(this,function(d){return a={series:this.queue},this.queue=[],b={"Content-Type":"text/plain"},c="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,g.h)(c,{headers:b,body:JSON.stringify(a),method:"POST"})]})})},a}(),n=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,e.C6)(b,a),b.initRemoteMetrics=function(a){d=new m(a)},b.prototype.increment=function(b,c,e){a.prototype.increment.call(this,b,c,e),null==d||d.increment(b,null!=e?e:[])},b}(f.p)},874376:(a,b,c)=>{c.r(b),c.d(b,{applyDestinationMiddleware:()=>g,sourceMiddlewarePlugin:()=>h});var d=c(508524),e=c(973272),f=c(969174);function g(a,b,c){return(0,d.sH)(this,void 0,void 0,function(){var e,g,h,i,j;return(0,d.YH)(this,function(k){switch(k.label){case 0:e=(0,f.W)(b,{clone:!0,traverse:!1}).rawEvent(),g=0,h=c,k.label=1;case 1:if(!(g<h.length))return[3,4];return i=h[g],[4,function(b,c){return(0,d.sH)(this,void 0,void 0,function(){var e,g,h;return(0,d.YH)(this,function(i){switch(i.label){case 0:return e=!1,g=null,[4,c({payload:(0,f.W)(b,{clone:!0,traverse:!1}),integration:a,next:function(a){e=!0,null===a&&(g=null),a&&(g=a.obj)}})];case 1:return i.sent(),e||null===g||(g.integrations=(0,d.Cl)((0,d.Cl)({},b.integrations),((h={})[a]=!1,h))),[2,g]}})})}(e,i)];case 2:if(null===(j=k.sent()))return[2,null];e=j,k.label=3;case 3:return g++,[3,1];case 4:return[2,e]}})})}function h(a,b){function c(c){return(0,d.sH)(this,void 0,void 0,function(){var g;return(0,d.YH)(this,function(d){switch(d.label){case 0:return g=!1,[4,a({payload:(0,f.W)(c.event,{clone:!0,traverse:!1}),integrations:null!=b?b:{},next:function(a){g=!0,a&&(c.event=a.obj)}})];case 1:if(d.sent(),!g)throw new e.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,c]}})})}return{name:"Source Middleware ".concat(a.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(a){return Promise.resolve(a)},track:c,page:c,screen:c,identify:c,alias:c,group:c}}},888398:(a,b,c)=>{function d(a){return"string"==typeof a}function e(a){return"number"==typeof a}function f(a){return"function"==typeof a}function g(a){return null!=a}function h(a){return"object"===Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}c.d(b,{Et:()=>e,Kg:()=>d,Qd:()=>h,Tn:()=>f,t2:()=>g})},952841:(a,b,c)=>{c.d(b,{X:()=>d});function d(){return"npm"}},969174:(a,b,c)=>{c.d(b,{W:()=>e});var d=c(917897);function e(a,b){var c=new d.Facade(a,b);return"track"===a.type&&(c=new d.Track(a,b)),"identify"===a.type&&(c=new d.Identify(a,b)),"page"===a.type&&(c=new d.Page(a,b)),"alias"===a.type&&(c=new d.Alias(a,b)),"group"===a.type&&(c=new d.Group(a,b)),"screen"===a.type&&(c=new d.Screen(a,b)),Object.defineProperty(c,"obj",{value:a,writable:!0}),c}},973272:(a,b,c)=>{c.d(b,{d:()=>i,j:()=>j});var d=c(107090),e=c(212418),f=c(508524),g=function(){function a(){this._logs=[]}return a.prototype.log=function(a,b,c){var d=new Date;this._logs.push({level:a,message:b,time:d,extras:c})},Object.defineProperty(a.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),a.prototype.flush=function(){if(this.logs.length>1){var a=this._logs.reduce(function(a,b){var c,d,e,g=(0,f.Cl)((0,f.Cl)({},b),{json:JSON.stringify(b.extras,null," "),extras:b.extras});delete g.time;var h=null!=(e=null==(d=b.time)?void 0:d.toISOString())?e:"";return a[h]&&(h="".concat(h,"-").concat(Math.random())),(0,f.Cl)((0,f.Cl)({},a),((c={})[h]=g,c))},{});console.table?console.table(a):console.log(a)}else this.logs.forEach(function(a){var b=a.level,c=a.message,d=a.extras;"info"===b||"debug"===b?console.log(c,null!=d?d:""):console[b](c,null!=d?d:"")});this._logs=[]},a}(),h=c(471863),i=function(a){var b,c,d;this.retry=null==(b=a.retry)||b,this.type=null!=(c=a.type)?c:"plugin Error",this.reason=null!=(d=a.reason)?d:""},j=function(){function a(a,b,c,e){void 0===b&&(b=(0,d.v4)()),void 0===c&&(c=new h.r),void 0===e&&(e=new g),this.attempts=0,this.event=a,this._id=b,this.logger=e,this.stats=c}return a.system=function(){},a.prototype.isSame=function(a){return a.id===this.id},a.prototype.cancel=function(a){if(a)throw a;throw new i({reason:"Context Cancel"})},a.prototype.log=function(a,b,c){this.logger.log(a,b,c)},Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),a.prototype.updateEvent=function(a,b){var c;if("integrations"===a.split(".")[0]){var d=a.split(".")[1];if((null==(c=this.event.integrations)?void 0:c[d])===!1)return this.event}return(0,e.J)(this.event,a,b),this.event},a.prototype.failedDelivery=function(){return this._failedDelivery},a.prototype.setFailedDelivery=function(a){this._failedDelivery=a},a.prototype.logs=function(){return this.logger.logs},a.prototype.flush=function(){this.logger.flush(),this.stats.flush()},a.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},a}()},977137:(a,b,c)=>{c.d(b,{I2:()=>j,YM:()=>k,qQ:()=>i});var d,e=c(556093),f=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,g=function(){var a;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(b){var c,d=null!=(c=b.getAttribute("src"))?c:"",e=f.exec(d);e&&e[1]&&(a=e[1])}),a},h=function(){var a;return null!=d?d:null==(a=(0,e.kJ)())?void 0:a._cdn},i=function(a){var b=(0,e.kJ)();b&&(b._cdn=a),d=a},j=function(){var a=h();if(a)return a;var b=g();return b||"https://cdn.segment.com"},k=function(){var a=j();return"".concat(a,"/next-integrations")}}};