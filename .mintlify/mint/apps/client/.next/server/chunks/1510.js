"use strict";exports.id=1510,exports.ids=[1510],exports.modules={361510:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{OTLPHttpJsonTraceExporter:()=>rr,registerOTel:()=>xv});var url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(379551),module__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(508086),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(333873),_opentelemetry_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(764587),_opentelemetry_api_logs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(977165);let require=(0,module__WEBPACK_IMPORTED_MODULE_1__.createRequire)("file:///home/runner/_work/mint/mint/node_modules/@vercel/otel/dist/node/index.js"),__filename=(0,url__WEBPACK_IMPORTED_MODULE_0__.fileURLToPath)("file:///home/runner/_work/mint/mint/node_modules/@vercel/otel/dist/node/index.js"),__dirname=path__WEBPACK_IMPORTED_MODULE_2__.dirname(__filename);var _f=Object.create,js=Object.defineProperty,pf=Object.getOwnPropertyDescriptor,hf=Object.getOwnPropertyNames,ff=Object.getPrototypeOf,Ef=Object.prototype.hasOwnProperty,z=(a=>"u">typeof require?require:"u">typeof Proxy?new Proxy(a,{get:(a,b)=>("u">typeof require?require:a)[b]}):a)(function(a){if("u">typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),dc=(a,b)=>()=>(a&&(b=a(a=0)),b),l=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),$r=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of hf(b))Ef.call(a,e)||e===c||js(a,e,{get:()=>b[e],enumerable:!(d=pf(b,e))||d.enumerable});return a},ht=(a,b,c)=>($r(a,b,"default"),c&&$r(c,b,"default")),Y=(a,b,c)=>(c=null!=a?_f(ff(a)):{},$r(!b&&a&&a.__esModule?c:js(c,"default",{value:a,enumerable:!0}),a)),m=a=>$r(js({},"__esModule",{value:!0}),a),d={},h=dc(()=>{ht(d,_opentelemetry_api__WEBPACK_IMPORTED_MODULE_3__)}),dr=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isTracingSuppressed=a.unsuppressTracing=a.suppressTracing=void 0;var b=(0,(h(),m(d)).createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");a.suppressTracing=function(a){return a.setValue(b,!0)},a.unsuppressTracing=function(a){return a.deleteValue(b)},a.isTracingSuppressed=function(a){return!0===a.getValue(b)}}),ks=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BAGGAGE_MAX_TOTAL_LENGTH=a.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=a.BAGGAGE_MAX_NAME_VALUE_PAIRS=a.BAGGAGE_HEADER=a.BAGGAGE_ITEMS_SEPARATOR=a.BAGGAGE_PROPERTIES_SEPARATOR=a.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,a.BAGGAGE_KEY_PAIR_SEPARATOR="=",a.BAGGAGE_PROPERTIES_SEPARATOR=";",a.BAGGAGE_ITEMS_SEPARATOR=",",a.BAGGAGE_HEADER="baggage",a.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,a.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,a.BAGGAGE_MAX_TOTAL_LENGTH=8192}),$s=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseKeyPairsIntoRecord=a.parsePairKeyValue=a.getKeyPairs=a.serializeKeyPairs=void 0;var b=(h(),m(d)),c=ks();function e(a){let e=a.split(c.BAGGAGE_PROPERTIES_SEPARATOR);if(e.length<=0)return;let f=e.shift();if(!f)return;let g=f.indexOf(c.BAGGAGE_KEY_PAIR_SEPARATOR);if(g<=0)return;let i=decodeURIComponent(f.substring(0,g).trim()),j=decodeURIComponent(f.substring(g+1).trim()),k;return e.length>0&&(k=(0,b.baggageEntryMetadataFromString)(e.join(c.BAGGAGE_PROPERTIES_SEPARATOR))),{key:i,value:j,metadata:k}}a.serializeKeyPairs=function(a){return a.reduce((a,b)=>{let e=`${a}${""!==a?c.BAGGAGE_ITEMS_SEPARATOR:""}${b}`;return e.length>c.BAGGAGE_MAX_TOTAL_LENGTH?a:e},"")},a.getKeyPairs=function(a){return a.getAllEntries().map(([a,b])=>{let e=`${encodeURIComponent(a)}=${encodeURIComponent(b.value)}`;return void 0!==b.metadata&&(e+=c.BAGGAGE_PROPERTIES_SEPARATOR+b.metadata.toString()),e})},a.parsePairKeyValue=e,a.parseKeyPairsIntoRecord=function(a){return"string"!=typeof a||0===a.length?{}:a.split(c.BAGGAGE_ITEMS_SEPARATOR).map(a=>e(a)).filter(a=>void 0!==a&&a.value.length>0).reduce((a,b)=>(a[b.key]=b.value,a),{})}}),pc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.W3CBaggagePropagator=void 0;var b=(h(),m(d)),c=dr(),e=ks(),f=$s();a.W3CBaggagePropagator=class{inject(a,g,i){let j=b.propagation.getBaggage(a);if(!j||(0,c.isTracingSuppressed)(a))return;let k=(0,f.getKeyPairs)(j).filter(a=>a.length<=e.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,e.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=(0,f.serializeKeyPairs)(k);l.length>0&&i.set(g,e.BAGGAGE_HEADER,l)}extract(a,c,g){let i=g.get(c,e.BAGGAGE_HEADER),j=Array.isArray(i)?i.join(e.BAGGAGE_ITEMS_SEPARATOR):i;if(!j)return a;let k={};return 0===j.length||(j.split(e.BAGGAGE_ITEMS_SEPARATOR).forEach(a=>{let b=(0,f.parsePairKeyValue)(a);if(b){let a={value:b.value};b.metadata&&(a.metadata=b.metadata),k[b.key]=a}}),0===Object.entries(k).length)?a:b.propagation.setBaggage(a,b.propagation.createBaggage(k))}fields(){return[e.BAGGAGE_HEADER]}}}),hc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnchoredClock=void 0,a.AnchoredClock=class{constructor(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}now(){let a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a}}}),Tc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isAttributeValue=a.isAttributeKey=a.sanitizeAttributes=void 0;var b=(h(),m(d));function c(a){return"string"==typeof a&&a.length>0}function e(a){return null==a||(Array.isArray(a)?f(a):g(a))}function f(a){let b;for(let c of a)if(null!=c){if(!b){if(g(c)){b=typeof c;continue}return!1}if(typeof c!==b)return!1}return!0}function g(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}a.sanitizeAttributes=function(a){let f={};if("object"!=typeof a||null==a)return f;for(let[g,i]of Object.entries(a)){if(!c(g)){b.diag.warn(`Invalid attribute key: ${g}`);continue}if(!e(i)){b.diag.warn(`Invalid attribute value set for key: ${g}`);continue}Array.isArray(i)?f[g]=i.slice():f[g]=i}return f},a.isAttributeKey=c,a.isAttributeValue=e}),Ys=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.loggingErrorHandler=void 0;var b=(h(),m(d));function c(a){return"string"==typeof a?a:JSON.stringify(e(a))}function e(a){let b={},c=a;for(;null!==c;)Object.getOwnPropertyNames(c).forEach(a=>{if(b[a])return;let e=c[a];e&&(b[a]=String(e))}),c=Object.getPrototypeOf(c);return b}a.loggingErrorHandler=function(){return a=>{b.diag.error(c(a))}}}),Qs=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.globalErrorHandler=a.setGlobalErrorHandler=void 0;var b=(0,Ys().loggingErrorHandler)();a.setGlobalErrorHandler=function(a){b=a},a.globalErrorHandler=function(a){try{b(a)}catch{}}}),Zs=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.TracesSamplerValues=void 0,function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(b=a.TracesSamplerValues||(a.TracesSamplerValues={}))}),Ac=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a._globalThis=void 0,a._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{}}),Yr=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getEnvWithoutDefaults=a.parseEnvironment=a.DEFAULT_ENVIRONMENT=a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=a.DEFAULT_ATTRIBUTE_COUNT_LIMIT=a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var b=(h(),m(d)),c=Zs(),e=Ac(),f=",",g=["OTEL_SDK_DISABLED"];function i(a){return g.indexOf(a)>-1}var j=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function k(a){return j.indexOf(a)>-1}var l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function n(a){return l.indexOf(a)>-1}function o(a,b,c){if(typeof c[a]>"u")return;let e=String(c[a]);b[a]="true"===e.toLowerCase()}function p(a,b,c,e=-1/0,f=1/0){if("u">typeof c[a]){let g=Number(c[a]);isNaN(g)||(g<e?b[a]=e:g>f?b[a]=f:b[a]=g)}}function q(a,b,c,e=f){let g=c[a];"string"==typeof g&&(b[a]=g.split(e).map(a=>a.trim()))}a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,a.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,a.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:b.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:c.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};var r={ALL:b.DiagLogLevel.ALL,VERBOSE:b.DiagLogLevel.VERBOSE,DEBUG:b.DiagLogLevel.DEBUG,INFO:b.DiagLogLevel.INFO,WARN:b.DiagLogLevel.WARN,ERROR:b.DiagLogLevel.ERROR,NONE:b.DiagLogLevel.NONE};function s(a,b,c){let e=c[a];if("string"==typeof e){let c=r[e.toUpperCase()];null!=c&&(b[a]=c)}}function t(b){let c={};for(let e in a.DEFAULT_ENVIRONMENT){let a=e;if("OTEL_LOG_LEVEL"===a)s(a,c,b);else if(i(a))o(a,c,b);else if(k(a))p(a,c,b);else if(n(a))q(a,c,b);else{let e=b[a];"u">typeof e&&null!==e&&(c[a]=String(e))}}return c}a.parseEnvironment=t,a.getEnvWithoutDefaults=function(){return"u">typeof process&&process&&process.env?t(process.env):t(e._globalThis)}}),Rc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getEnv=void 0;var b=z("os"),c=Yr();a.getEnv=function(){let a=(0,c.parseEnvironment)(process.env);return Object.assign({HOSTNAME:b.hostname()},c.DEFAULT_ENVIRONMENT,a)}}),bc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a._globalThis=void 0,a._globalThis="object"==typeof globalThis?globalThis:global}),yc=l(a=>{function b(a){return a>=48&&a<=57?a-48:a>=97&&a<=102?a-87:a-55}Object.defineProperty(a,"__esModule",{value:!0}),a.hexToBase64=void 0;var c=Buffer.alloc(8),d=Buffer.alloc(16);a.hexToBase64=function(a){let e;e=16===a.length?c:32===a.length?d:Buffer.alloc(a.length/2);let f=0;for(let c=0;c<a.length;c+=2){let d=b(a.charCodeAt(c)),g=b(a.charCodeAt(c+1));e.writeUInt8(d<<4|g,f++)}return e.toString("base64")}}),Lc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RandomIdGenerator=void 0;var b=8,c=16;a.RandomIdGenerator=class{constructor(){this.generateTraceId=e(c),this.generateSpanId=e(b)}};var d=Buffer.allocUnsafe(c);function e(a){return function(){for(let b=0;b<a/4;b++)d.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(let b=0;b<a&&!(d[b]>0);b++)b===a-1&&(d[a-1]=1);return d.toString("hex",0,a)}}}),Mc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.otperformance=void 0,a.otperformance=z("perf_hooks").performance}),to=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VERSION=void 0,a.VERSION="1.19.0"}),Nc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageTypeValues=a.RpcGrpcStatusCodeValues=a.MessagingOperationValues=a.MessagingDestinationKindValues=a.HttpFlavorValues=a.NetHostConnectionSubtypeValues=a.NetHostConnectionTypeValues=a.NetTransportValues=a.FaasInvokedProviderValues=a.FaasDocumentOperationValues=a.FaasTriggerValues=a.DbCassandraConsistencyLevelValues=a.DbSystemValues=a.SemanticAttributes=void 0,a.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},a.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},a.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},a.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},a.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},a.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},a.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},a.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},a.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},a.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},a.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},a.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},a.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},a.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}}),Cc=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Nc(),a)}),wc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TelemetrySdkLanguageValues=a.OsTypeValues=a.HostArchValues=a.AwsEcsLaunchtypeValues=a.CloudPlatformValues=a.CloudProviderValues=a.SemanticResourceAttributes=void 0,a.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},a.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},a.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},a.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},a.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},a.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},a.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}}),xc=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(wc(),a)}),Ae=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Cc(),a),c(xc(),a)}),Uc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SDK_INFO=void 0;var b=to(),c=Ae();a.SDK_INFO={[c.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[c.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[c.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:c.TelemetrySdkLanguageValues.NODEJS,[c.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:b.VERSION}}),Bc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.unrefTimer=void 0,a.unrefTimer=function(a){a.unref()}}),qc=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Rc(),a),c(bc(),a),c(yc(),a),c(Lc(),a),c(Mc(),a),c(Uc(),a),c(Bc(),a)}),ro=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(qc(),a)}),jc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addHrTimes=a.isTimeInput=a.isTimeInputHrTime=a.hrTimeToMicroseconds=a.hrTimeToMilliseconds=a.hrTimeToNanoseconds=a.hrTimeToTimeStamp=a.hrTimeDuration=a.timeInputToHrTime=a.hrTime=a.getTimeOrigin=a.millisToHrTime=void 0;var b=ro(),c=9,d=1e6,e=1e9;function f(a){return[Math.trunc(a/1e3),Math.round(a%1e3*d)]}function g(){let a=b.otperformance.timeOrigin;if("number"!=typeof a){let c=b.otperformance;a=c.timing&&c.timing.fetchStart}return a}function h(a){return j(f(g()),f("number"==typeof a?a:b.otperformance.now()))}function i(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function j(a,b){let c=[a[0]+b[0],a[1]+b[1]];return c[1]>=e&&(c[1]-=e,c[0]+=1),c}a.millisToHrTime=f,a.getTimeOrigin=g,a.hrTime=h,a.timeInputToHrTime=function(a){if(i(a))return a;if("number"==typeof a)return a<g()?h(a):f(a);if(a instanceof Date)return f(a.getTime());throw TypeError("Invalid input type")},a.hrTimeDuration=function(a,b){let c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=e),[c,d]},a.hrTimeToTimeStamp=function(a){let b=c,d=`${"0".repeat(b)}${a[1]}Z`,e=d.substr(d.length-b-1);return new Date(1e3*a[0]).toISOString().replace("000Z",e)},a.hrTimeToNanoseconds=function(a){return a[0]*e+a[1]},a.hrTimeToMilliseconds=function(a){return 1e3*a[0]+a[1]/1e6},a.hrTimeToMicroseconds=function(a){return 1e6*a[0]+a[1]/1e3},a.isTimeInputHrTime=i,a.isTimeInput=function(a){return i(a)||"number"==typeof a||a instanceof Date},a.addHrTimes=j}),kc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),$c=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.ExportResultCode=void 0,function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(b=a.ExportResultCode||(a.ExportResultCode={}))}),Wc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CompositePropagator=void 0;var b=(h(),m(d));a.CompositePropagator=class{constructor(a={}){var b;this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(a=>"function"==typeof a.fields?a.fields():[]).reduce((a,b)=>a.concat(b),[])))}inject(a,c,e){for(let f of this._propagators)try{f.inject(a,c,e)}catch(a){b.diag.warn(`Failed to inject with ${f.constructor.name}. Err: ${a.message}`)}}extract(a,c,e){return this._propagators.reduce((a,f)=>{try{return f.extract(a,c,e)}catch(a){b.diag.warn(`Failed to inject with ${f.constructor.name}. Err: ${a.message}`)}return a},a)}fields(){return this._fields.slice()}}}),Kc=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.validateValue=a.validateKey=void 0;var b="[_0-9a-z-*/]",c=`[a-z]${b}{0,255}`,d=`[a-z0-9]${b}{0,240}@[a-z]${b}{0,13}`,e=RegExp(`^(?:${c}|${d})$`),f=/^[ -~]{0,255}[!-~]$/,g=/,|=/;a.validateKey=function(a){return e.test(a)},a.validateValue=function(a){return f.test(a)&&!g.test(a)}}),co=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceState=void 0;var b=Kc(),c=32,d=512,e=",",f="=";a.TraceState=class a{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+f+this.get(b)),a),[]).join(e)}_parse(a){a.length>d||(this._internalState=a.split(e).reverse().reduce((a,c)=>{let d=c.trim(),e=d.indexOf(f);if(-1!==e){let f=d.slice(0,e),g=d.slice(e+1,c.length);(0,b.validateKey)(f)&&(0,b.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>c&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,c))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let b=new a;return b._internalState=new Map(this._internalState),b}}}),el=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.W3CTraceContextPropagator=a.parseTraceParent=a.TRACE_STATE_HEADER=a.TRACE_PARENT_HEADER=void 0;var b=(h(),m(d)),c=dr(),e=co();a.TRACE_PARENT_HEADER="traceparent",a.TRACE_STATE_HEADER="tracestate";var f="00",g="(?!ff)[\\da-f]{2}",i="(?![0]{32})[\\da-f]{32}",j="(?![0]{16})[\\da-f]{16}",k="[\\da-f]{2}",l=RegExp(`^\\s?(${g})-(${i})-(${j})-(${k})(-.*)?\\s?$`);function n(a){let b=l.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}a.parseTraceParent=n;var o=class{inject(e,g,i){let j=b.trace.getSpanContext(e);if(!j||(0,c.isTracingSuppressed)(e)||!(0,b.isSpanContextValid)(j))return;let k=`${f}-${j.traceId}-${j.spanId}-0${Number(j.traceFlags||b.TraceFlags.NONE).toString(16)}`;i.set(g,a.TRACE_PARENT_HEADER,k),j.traceState&&i.set(g,a.TRACE_STATE_HEADER,j.traceState.serialize())}extract(c,f,g){let i=g.get(f,a.TRACE_PARENT_HEADER);if(!i)return c;let j=Array.isArray(i)?i[0]:i;if("string"!=typeof j)return c;let k=n(j);if(!k)return c;k.isRemote=!0;let l=g.get(f,a.TRACE_STATE_HEADER);if(l){let a=Array.isArray(l)?l.join(","):l;k.traceState=new e.TraceState("string"==typeof a?a:void 0)}return b.trace.setSpanContext(c,k)}fields(){return[a.TRACE_PARENT_HEADER,a.TRACE_STATE_HEADER]}};a.W3CTraceContextPropagator=o}),rl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),nl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRPCMetadata=a.deleteRPCMetadata=a.setRPCMetadata=a.RPCType=void 0;var b,c=(0,(h(),m(d)).createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");!function(a){a.HTTP="http"}(b=a.RPCType||(a.RPCType={})),a.setRPCMetadata=function(a,b){return a.setValue(c,b)},a.deleteRPCMetadata=function(a){return a.deleteValue(c)},a.getRPCMetadata=function(a){return a.getValue(c)}}),ho=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOffSampler=void 0;var b=(h(),m(d));a.AlwaysOffSampler=class{shouldSample(){return{decision:b.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}}),Eo=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOnSampler=void 0;var b=(h(),m(d));a.AlwaysOnSampler=class{shouldSample(){return{decision:b.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}}),sl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParentBasedSampler=void 0;var b=(h(),m(d)),c=Qs(),e=ho(),f=Eo();a.ParentBasedSampler=class{constructor(a){var b,g,i,j;this._root=a.root,this._root||((0,c.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new f.AlwaysOnSampler),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new f.AlwaysOnSampler,this._remoteParentNotSampled=null!=(g=a.remoteParentNotSampled)?g:new e.AlwaysOffSampler,this._localParentSampled=null!=(i=a.localParentSampled)?i:new f.AlwaysOnSampler,this._localParentNotSampled=null!=(j=a.localParentNotSampled)?j:new e.AlwaysOffSampler}shouldSample(a,c,e,f,g,i){let j=b.trace.getSpanContext(a);return j&&(0,b.isSpanContextValid)(j)?j.isRemote?j.traceFlags&b.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(a,c,e,f,g,i):this._remoteParentNotSampled.shouldSample(a,c,e,f,g,i):j.traceFlags&b.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(a,c,e,f,g,i):this._localParentNotSampled.shouldSample(a,c,e,f,g,i):this._root.shouldSample(a,c,e,f,g,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}}),ol=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceIdRatioBasedSampler=void 0;var b=(h(),m(d));a.TraceIdRatioBasedSampler=class{constructor(a=0){this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(a,c){return{decision:(0,b.isValidTraceId)(c)&&this._accumulate(c)<this._upperBound?b.SamplingDecision.RECORD_AND_SAMPLED:b.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a}_accumulate(a){let b=0;for(let c=0;c<a.length/8;c++){let e=8*c;b=(b^parseInt(a.slice(e,e+8),16))>>>0}return b}}}),dl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isPlainObject=void 0;var b="[object Object]",c="[object Null]",d="[object Undefined]",e=Function.prototype.toString,f=e.call(Object),g=l(Object.getPrototypeOf,Object),h=Object.prototype,i=h.hasOwnProperty,j=Symbol?Symbol.toStringTag:void 0,k=h.toString;function l(a,b){return function(c){return a(b(c))}}function m(a){return null!=a&&"object"==typeof a}function n(a){return null==a?void 0===a?d:c:j&&j in Object(a)?o(a):p(a)}function o(a){let b=i.call(a,j),c=a[j],d=!1;try{a[j]=void 0,d=!0}catch{}let e=k.call(a);return d&&(b?a[j]=c:delete a[j]),e}function p(a){return k.call(a)}a.isPlainObject=function(a){if(!m(a)||n(a)!==b)return!1;let c=g(a);if(null===c)return!0;let d=i.call(c,"constructor")&&c.constructor;return"function"==typeof d&&d instanceof d&&e.call(d)===f}}),El=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.merge=void 0;var b=dl(),c=20;function d(a){return g(a)?a.slice():a}function e(a,b,l=0,m){let n;if(!(l>c)){if(l++,j(a)||j(b)||h(b))n=d(b);else if(g(a)){if(n=a.slice(),g(b))for(let a=0,c=b.length;a<c;a++)n.push(d(b[a]));else if(i(b)){let a=Object.keys(b);for(let c=0,e=a.length;c<e;c++){let e=a[c];n[e]=d(b[e])}}}else if(i(a))if(i(b)){if(!k(a,b))return b;n=Object.assign({},a);let c=Object.keys(b);for(let d=0,g=c.length;d<g;d++){let g=c[d],h=b[g];if(j(h))typeof h>"u"?delete n[g]:n[g]=h;else{let c=n[g],d=h;if(f(a,g,m)||f(b,g,m))delete n[g];else{if(i(c)&&i(d)){let e=m.get(c)||[],f=m.get(d)||[];e.push({obj:a,key:g}),f.push({obj:b,key:g}),m.set(c,e),m.set(d,f)}n[g]=e(n[g],h,l,m)}}}}else n=b;return n}}function f(a,b,c){let d=c.get(a[b])||[];for(let c=0,e=d.length;c<e;c++){let e=d[c];if(e.key===b&&e.obj===a)return!0}return!1}function g(a){return Array.isArray(a)}function h(a){return"function"==typeof a}function i(a){return!j(a)&&!g(a)&&!h(a)&&"object"==typeof a}function j(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||typeof a>"u"||a instanceof Date||a instanceof RegExp||null===a}function k(a,c){return!(!(0,b.isPlainObject)(a)||!(0,b.isPlainObject)(c))}a.merge=function(...a){let b=a.shift(),c=new WeakMap;for(;a.length>0;)b=e(b,a.shift(),0,c);return b}}),ml=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.callWithTimeout=a.TimeoutError=void 0;var b=class a extends Error{constructor(b){super(b),Object.setPrototypeOf(this,a.prototype)}};a.TimeoutError=b,a.callWithTimeout=function(a,c){let d;return Promise.race([a,new Promise(function(a,e){d=setTimeout(function(){e(new b("Operation timed out."))},c)})]).then(a=>(clearTimeout(d),a),a=>{throw clearTimeout(d),a})}}),Tl=l(a=>{function b(a,b){return"string"==typeof b?a===b:!!a.match(b)}Object.defineProperty(a,"__esModule",{value:!0}),a.isUrlIgnored=a.urlMatches=void 0,a.urlMatches=b,a.isUrlIgnored=function(a,c){if(!c)return!1;for(let d of c)if(b(a,d))return!0;return!1}}),Sl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isWrapped=void 0,a.isWrapped=function(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}}),Al=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Deferred=void 0,a.Deferred=class{constructor(){this._promise=new Promise((a,b)=>{this._resolve=a,this._reject=b})}get promise(){return this._promise}resolve(a){this._resolve(a)}reject(a){this._reject(a)}}}),Ol=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BindOnceFuture=void 0;var b=Al();a.BindOnceFuture=class{constructor(a,c){this._callback=a,this._that=c,this._isCalled=!1,this._deferred=new b.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...a){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...a)).then(a=>this._deferred.resolve(a),a=>this._deferred.reject(a))}catch(a){this._deferred.reject(a)}}return this._deferred.promise}}}),bl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a._export=void 0;var b=(h(),m(d)),c=dr();a._export=function(a,e){return new Promise(f=>{b.context.with((0,c.suppressTracing)(b.context.active()),()=>{a.export(e,a=>{f(a)})})})}}),A=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),a.internal=a.baggageUtils=void 0,c(pc(),a),c(hc(),a),c(Tc(),a),c(Qs(),a),c(Ys(),a),c(jc(),a),c(kc(),a),c($c(),a),a.baggageUtils=$s(),c(ro(),a),c(Wc(),a),c(el(),a),c(rl(),a),c(nl(),a),c(ho(),a),c(Eo(),a),c(sl(),a),c(ol(),a),c(dr(),a),c(co(),a),c(Yr(),a),c(El(),a),c(Zs(),a),c(ml(),a),c(Tl(),a),c(Sl(),a),c(Ol(),a),c(to(),a),a.internal={_export:bl()._export}}),Pl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExceptionEventName=void 0,a.ExceptionEventName="exception"}),Po=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Span=void 0;var b=(h(),m(d)),c=A(),e=Ae(),f=Pl();a.Span=class{constructor(a,e,f,g,i,j,k=[],l,n,o){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:b.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=f,this._spanContext=g,this.parentSpanId=j,this.kind=i,this.links=k;let p=Date.now();this._performanceStartTime=c.otperformance.now(),this._performanceOffset=p-(this._performanceStartTime+(0,c.getTimeOrigin)()),this._startTimeProvided=null!=l,this.startTime=this._getTime(l??p),this.resource=a.resource,this.instrumentationLibrary=a.instrumentationLibrary,this._spanLimits=a.getSpanLimits(),null!=o&&this.setAttributes(o),this._spanProcessor=a.getActiveSpanProcessor(),this._spanProcessor.onStart(this,e),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(a,e){return null==e||this._isSpanEnded()||(0===a.length?b.diag.warn(`Invalid attribute key: ${a}`):(0,c.isAttributeValue)(e)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)?this._droppedAttributesCount++:this.attributes[a]=this._truncateToSize(e):b.diag.warn(`Invalid attribute value set for key: ${a}`)),this}setAttributes(a){for(let[b,c]of Object.entries(a))this.setAttribute(b,c);return this}addEvent(a,e,f){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return b.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(b.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,c.isTimeInput)(e)&&((0,c.isTimeInput)(f)||(f=e),e=void 0);let g=(0,c.sanitizeAttributes)(e);return this.events.push({name:a,attributes:g,time:this._getTime(f),droppedAttributesCount:0}),this}setStatus(a){return this._isSpanEnded()||(this.status=a),this}updateName(a){return this._isSpanEnded()||(this.name=a),this}end(a){if(this._isSpanEnded())return void b.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);this._ended=!0,this.endTime=this._getTime(a),this._duration=(0,c.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(b.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(a){if("number"==typeof a&&a<c.otperformance.now())return(0,c.hrTime)(a+this._performanceOffset);if("number"==typeof a)return(0,c.millisToHrTime)(a);if(a instanceof Date)return(0,c.millisToHrTime)(a.getTime());if((0,c.isTimeInputHrTime)(a))return a;if(this._startTimeProvided)return(0,c.millisToHrTime)(Date.now());let b=c.otperformance.now()-this._performanceStartTime;return(0,c.addHrTimes)(this.startTime,(0,c.millisToHrTime)(b))}isRecording(){return!1===this._ended}recordException(a,c){let g={};"string"==typeof a?g[e.SemanticAttributes.EXCEPTION_MESSAGE]=a:a&&(a.code?g[e.SemanticAttributes.EXCEPTION_TYPE]=a.code.toString():a.name&&(g[e.SemanticAttributes.EXCEPTION_TYPE]=a.name),a.message&&(g[e.SemanticAttributes.EXCEPTION_MESSAGE]=a.message),a.stack&&(g[e.SemanticAttributes.EXCEPTION_STACKTRACE]=a.stack)),g[e.SemanticAttributes.EXCEPTION_TYPE]||g[e.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(f.ExceptionEventName,g,c):b.diag.warn(`Failed to record an exception ${a}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&b.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(a,b){return a.length<=b?a:a.substr(0,b)}_truncateToSize(a){let c=this._attributeValueLengthLimit;return c<=0?(b.diag.warn(`Attribute value limit must be positive, got ${c}`),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(a=>"string"==typeof a?this._truncateToLimitUtil(a,c):a):a}}}),gr=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(b=a.SamplingDecision||(a.SamplingDecision={}))}),In=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOffSampler=void 0;var b=gr();a.AlwaysOffSampler=class{shouldSample(){return{decision:b.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}}),Mn=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOnSampler=void 0;var b=gr();a.AlwaysOnSampler=class{shouldSample(){return{decision:b.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}}),Mo=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParentBasedSampler=void 0;var b=(h(),m(d)),c=A(),e=In(),f=Mn();a.ParentBasedSampler=class{constructor(a){var b,g,i,j;this._root=a.root,this._root||((0,c.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new f.AlwaysOnSampler),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new f.AlwaysOnSampler,this._remoteParentNotSampled=null!=(g=a.remoteParentNotSampled)?g:new e.AlwaysOffSampler,this._localParentSampled=null!=(i=a.localParentSampled)?i:new f.AlwaysOnSampler,this._localParentNotSampled=null!=(j=a.localParentNotSampled)?j:new e.AlwaysOffSampler}shouldSample(a,c,e,f,g,i){let j=b.trace.getSpanContext(a);return j&&(0,b.isSpanContextValid)(j)?j.isRemote?j.traceFlags&b.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(a,c,e,f,g,i):this._remoteParentNotSampled.shouldSample(a,c,e,f,g,i):j.traceFlags&b.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(a,c,e,f,g,i):this._localParentNotSampled.shouldSample(a,c,e,f,g,i):this._root.shouldSample(a,c,e,f,g,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}}),Co=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceIdRatioBasedSampler=void 0;var b=(h(),m(d)),c=gr();a.TraceIdRatioBasedSampler=class{constructor(a=0){this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(a,e){return{decision:(0,b.isValidTraceId)(e)&&this._accumulate(e)<this._upperBound?c.SamplingDecision.RECORD_AND_SAMPLED:c.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a}_accumulate(a){let b=0;for(let c=0;c<a.length/8;c++){let e=8*c;b=(b^parseInt(a.slice(e,e+8),16))>>>0}return b}}}),Do=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.buildSamplerFromEnv=a.loadDefaultConfig=void 0;var b=(h(),m(d)),c=A(),e=In(),f=Mn(),g=Mo(),i=Co(),j=(0,c.getEnv)(),k=c.TracesSamplerValues.AlwaysOn,l=1;function n(a=(0,c.getEnv)()){switch(a.OTEL_TRACES_SAMPLER){case c.TracesSamplerValues.AlwaysOn:return new f.AlwaysOnSampler;case c.TracesSamplerValues.AlwaysOff:return new e.AlwaysOffSampler;case c.TracesSamplerValues.ParentBasedAlwaysOn:return new g.ParentBasedSampler({root:new f.AlwaysOnSampler});case c.TracesSamplerValues.ParentBasedAlwaysOff:return new g.ParentBasedSampler({root:new e.AlwaysOffSampler});case c.TracesSamplerValues.TraceIdRatio:return new i.TraceIdRatioBasedSampler(o(a));case c.TracesSamplerValues.ParentBasedTraceIdRatio:return new g.ParentBasedSampler({root:new i.TraceIdRatioBasedSampler(o(a))});default:return b.diag.error(`OTEL_TRACES_SAMPLER value "${a.OTEL_TRACES_SAMPLER} invalid, defaulting to ${k}".`),new f.AlwaysOnSampler}}function o(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return b.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${l}.`),l;let c=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(c)?(b.diag.error(`OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${l}.`),l):c<0||c>1?(b.diag.error(`OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${l}.`),l):c}a.loadDefaultConfig=function(){return{sampler:n(j),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,c.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,c.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,c.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,c.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,c.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,c.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,c.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,c.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}},a.buildSamplerFromEnv=n}),Bo=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.reconfigureLimits=a.mergeConfig=void 0;var b=Do(),c=A();a.mergeConfig=function(a){let c={sampler:(0,b.buildSamplerFromEnv)()},d=(0,b.loadDefaultConfig)(),e=Object.assign({},d,c,a);return e.generalLimits=Object.assign({},d.generalLimits,a.generalLimits||{}),e.spanLimits=Object.assign({},d.spanLimits,a.spanLimits||{}),e},a.reconfigureLimits=function(a){var b,d,e,f,g,h,i,j,k,l,m,n;let o=Object.assign({},a.spanLimits),p=(0,c.getEnvWithoutDefaults)();return o.attributeCountLimit=null!=(h=null!=(g=null!=(f=null!=(d=null==(b=a.spanLimits)?void 0:b.attributeCountLimit)?d:null==(e=a.generalLimits)?void 0:e.attributeCountLimit)?f:p.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)?g:p.OTEL_ATTRIBUTE_COUNT_LIMIT)?h:c.DEFAULT_ATTRIBUTE_COUNT_LIMIT,o.attributeValueLengthLimit=null!=(n=null!=(m=null!=(l=null!=(j=null==(i=a.spanLimits)?void 0:i.attributeValueLengthLimit)?j:null==(k=a.generalLimits)?void 0:k.attributeValueLengthLimit)?l:p.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)?m:p.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?n:c.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},a,{spanLimits:o})}}),wl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchSpanProcessorBase=void 0;var b=(h(),m(d)),c=A();a.BatchSpanProcessorBase=class{constructor(a,e){this._exporter=a,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;let f=(0,c.getEnv)();this._maxExportBatchSize="number"==typeof e?.maxExportBatchSize?e.maxExportBatchSize:f.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof e?.maxQueueSize?e.maxQueueSize:f.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof e?.scheduledDelayMillis?e.scheduledDelayMillis:f.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof e?.exportTimeoutMillis?e.exportTimeoutMillis:f.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new c.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(b.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(a,b){}onEnd(a){this._shutdownOnce.isCalled||a.spanContext().traceFlags&b.TraceFlags.SAMPLED&&this._addToBuffer(a)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(a){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&b.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(b.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(a),this._maybeStartTimer()}_flushAll(){return new Promise((a,b)=>{let c=[],e=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,b=e;a<b;a++)c.push(this._flushOneBatch());Promise.all(c).then(()=>{a()}).catch(b)})}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise((a,e)=>{let f=setTimeout(()=>{e(Error("Timeout"))},this._exportTimeoutMillis);b.context.with((0,c.suppressTracing)(b.context.active()),()=>{let b=this._finishedSpans.splice(0,this._maxExportBatchSize),g=()=>this._exporter.export(b,b=>{var g;clearTimeout(f),b.code===c.ExportResultCode.SUCCESS?a():e(null!=(g=b.error)?g:Error("BatchSpanProcessor: span export failed"))}),i=b.map(a=>a.resource).filter(a=>a.asyncAttributesPending);0===i.length?g():Promise.all(i.map(a=>{var b;return null==(b=a.waitForAsyncAttributes)?void 0:b.call(a)})).then(g,a=>{(0,c.globalErrorHandler)(a),e(a)})})})}_maybeStartTimer(){if(this._isExporting)return;let a=()=>{this._isExporting=!0,this._flushOneBatch().then(()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(a=>{this._isExporting=!1,(0,c.globalErrorHandler)(a)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return a();void 0===this._timer&&(this._timer=setTimeout(()=>a(),this._scheduledDelayMillis),(0,c.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}}}),xl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchSpanProcessor=void 0;var b=wl();a.BatchSpanProcessor=class extends b.BatchSpanProcessorBase{onShutdown(){}}}),Bl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RandomIdGenerator=void 0;var b=8,c=16;a.RandomIdGenerator=class{constructor(){this.generateTraceId=e(c),this.generateSpanId=e(b)}};var d=Buffer.allocUnsafe(c);function e(a){return function(){for(let b=0;b<a/4;b++)d.writeUInt32BE(0x100000000*Math.random()>>>0,4*b);for(let b=0;b<a&&!(d[b]>0);b++)b===a-1&&(d[a-1]=1);return d.toString("hex",0,a)}}}),Gl=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(xl(),a),c(Bl(),a)}),Gn=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Gl(),a)}),Vl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Tracer=void 0;var b=(h(),m(d)),c=A(),e=Po(),f=Bo(),g=Gn();a.Tracer=class{constructor(a,b,c){this._tracerProvider=c;let e=(0,f.mergeConfig)(b);this._sampler=e.sampler,this._generalLimits=e.generalLimits,this._spanLimits=e.spanLimits,this._idGenerator=b.idGenerator||new g.RandomIdGenerator,this.resource=c.resource,this.instrumentationLibrary=a}startSpan(a,f={},g=b.context.active()){var i,j,k;f.root&&(g=b.trace.deleteSpan(g));let l=b.trace.getSpan(g);if((0,c.isTracingSuppressed)(g))return b.diag.debug("Instrumentation suppressed, returning Noop Span"),b.trace.wrapSpanContext(b.INVALID_SPAN_CONTEXT);let n=l?.spanContext(),o=this._idGenerator.generateSpanId(),p,q,r;n&&b.trace.isSpanContextValid(n)?(p=n.traceId,q=n.traceState,r=n.spanId):p=this._idGenerator.generateTraceId();let s=null!=(i=f.kind)?i:b.SpanKind.INTERNAL,t=(null!=(j=f.links)?j:[]).map(a=>({context:a.context,attributes:(0,c.sanitizeAttributes)(a.attributes)})),u=(0,c.sanitizeAttributes)(f.attributes),v=this._sampler.shouldSample(g,p,a,s,u,t);q=null!=(k=v.traceState)?k:q;let w={traceId:p,spanId:o,traceFlags:v.decision===b.SamplingDecision.RECORD_AND_SAMPLED?b.TraceFlags.SAMPLED:b.TraceFlags.NONE,traceState:q};if(v.decision===b.SamplingDecision.NOT_RECORD)return b.diag.debug("Recording is off, propagating context in a non-recording span"),b.trace.wrapSpanContext(w);let x=(0,c.sanitizeAttributes)(Object.assign(u,v.attributes));return new e.Span(this,g,a,w,s,r,t,f.startTime,void 0,x)}startActiveSpan(a,c,e,f){let g,i,j;if(arguments.length<2)return;2==arguments.length?j=c:3==arguments.length?(g=c,j=e):(g=c,i=e,j=f);let k=i??b.context.active(),l=this.startSpan(a,g,k),n=b.trace.setSpan(k,l);return b.context.with(n,j,void 0,l)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}}}),Hl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.defaultServiceName=void 0,a.defaultServiceName=function(){return`unknown_service:${process.argv0}`}}),jo=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeType=a.normalizeArch=void 0,a.normalizeArch=a=>{switch(a){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return a}},a.normalizeType=a=>{switch(a){case"sunos":return"solaris";case"win32":return"windows";default:return a}}}),kn=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.execAsync=void 0;var b=z("child_process");a.execAsync=z("util").promisify(b.exec)}),jl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b=kn(),c=(h(),m(d));a.getMachineId=async function(){try{let a=(await (0,b.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(a=>a.includes("IOPlatformUUID"));if(!a)return"";let c=a.split('" = "');if(2===c.length)return c[1].slice(0,-1)}catch(a){c.diag.debug(`error reading machine id: ${a}`)}return""}}),Fl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b=z("fs"),c=(h(),m(d));a.getMachineId=async function(){for(let a of["/etc/machine-id","/var/lib/dbus/machine-id"])try{return(await b.promises.readFile(a,{encoding:"utf8"})).trim()}catch(a){c.diag.debug(`error reading machine id: ${a}`)}return""}}),$l=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b=z("fs"),c=kn(),e=(h(),m(d));a.getMachineId=async function(){try{return(await b.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(a){e.diag.debug(`error reading machine id: ${a}`)}try{return(await (0,c.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(a){e.diag.debug(`error reading machine id: ${a}`)}return""}}),Wl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b=z("process"),c=kn(),e=(h(),m(d));a.getMachineId=async function(){let a="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",f="%windir%\\System32\\REG.exe";"ia32"===b.arch&&"PROCESSOR_ARCHITEW6432"in b.env&&(f="%windir%\\sysnative\\cmd.exe /c "+f);try{let b=(await (0,c.execAsync)(`${f} ${a}`)).stdout.split("REG_SZ");if(2===b.length)return b[1].trim()}catch(a){e.diag.debug(`error reading machine id: ${a}`)}return""}}),Kl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b=(h(),m(d));a.getMachineId=async function(){return b.diag.debug("could not read machine-id: unsupported platform"),""}}),zl=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMachineId=void 0;var b,c=z("process");switch(a.getMachineId=b,c.platform){case"darwin":a.getMachineId=b=jl().getMachineId;break;case"linux":a.getMachineId=b=Fl().getMachineId;break;case"freebsd":a.getMachineId=b=$l().getMachineId;break;case"win32":a.getMachineId=b=Wl().getMachineId;break;default:a.getMachineId=b=Kl().getMachineId}}),$o=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.hostDetectorSync=void 0;var b=Ae(),c=Ze(),d=z("os"),e=jo(),f=zl();a.hostDetectorSync=new class{detect(a){let f={[b.SemanticResourceAttributes.HOST_NAME]:(0,d.hostname)(),[b.SemanticResourceAttributes.HOST_ARCH]:(0,e.normalizeArch)((0,d.arch)())};return new c.Resource(f,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,f.getMachineId)().then(a=>{let c={};return a&&(c[b.SemanticResourceAttributes.HOST_ID]=a),c})}}}),Ql=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.hostDetector=void 0;var b=$o();a.hostDetector=new class{detect(a){return Promise.resolve(b.hostDetectorSync.detect(a))}}}),Ko=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.osDetectorSync=void 0;var b=Ae(),c=Ze(),d=z("os"),e=jo();a.osDetectorSync=new class{detect(a){let f={[b.SemanticResourceAttributes.OS_TYPE]:(0,e.normalizeType)((0,d.platform)()),[b.SemanticResourceAttributes.OS_VERSION]:(0,d.release)()};return new c.Resource(f)}}}),ed=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.osDetector=void 0;var b=Ko();a.osDetector=new class{detect(a){return Promise.resolve(b.osDetectorSync.detect(a))}}}),Qo=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.processDetectorSync=void 0;var b=(h(),m(d)),c=Ae(),e=Ze(),f=z("os");a.processDetectorSync=new class{detect(a){let g={[c.SemanticResourceAttributes.PROCESS_PID]:process.pid,[c.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[c.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[c.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[c.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[c.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[c.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(g[c.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let a=f.userInfo();g[c.SemanticResourceAttributes.PROCESS_OWNER]=a.username}catch(a){b.diag.debug(`error obtaining process owner: ${a}`)}return new e.Resource(g)}}}),td=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.processDetector=void 0;var b=Qo();a.processDetector=new class{detect(a){return Promise.resolve(b.processDetectorSync.detect(a))}}}),rd=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Hl(),a),c(Ql(),a),c(ed(),a),c($o(),a),c(Ko(),a),c(td(),a),c(Qo(),a)}),Jo=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(rd(),a)}),Ze=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Resource=void 0;var b=(h(),m(d)),c=Ae(),e=A(),f=Jo(),g=class a{constructor(a,c){var e;this._attributes=a,this.asyncAttributesPending=null!=c,this._syncAttributes=null!=(e=this._attributes)?e:{},this._asyncAttributesPromise=c?.then(a=>(this._attributes=Object.assign({},this._attributes,a),this.asyncAttributesPending=!1,a),a=>(b.diag.debug("a resource's async attributes promise rejected: %s",a),this.asyncAttributesPending=!1,{}))}static empty(){return a.EMPTY}static default(){return new a({[c.SemanticResourceAttributes.SERVICE_NAME]:(0,f.defaultServiceName)(),[c.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:e.SDK_INFO[c.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[c.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:e.SDK_INFO[c.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[c.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:e.SDK_INFO[c.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var a;return this.asyncAttributesPending&&b.diag.error("Accessing resource attributes before async attributes settled"),null!=(a=this._attributes)?a:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(b){var c;if(!b)return this;let e=Object.assign(Object.assign({},this._syncAttributes),null!=(c=b._syncAttributes)?c:b.attributes);return this._asyncAttributesPromise||b._asyncAttributesPromise?new a(e,Promise.all([this._asyncAttributesPromise,b._asyncAttributesPromise]).then(([a,c])=>{var e;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),null!=(e=b._syncAttributes)?e:b.attributes),c)})):new a(e)}};a.Resource=g,g.EMPTY=new g({})}),sd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),ad=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),cd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),ld=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.browserDetector=void 0;var b=rt();a.browserDetector=new class{detect(a){return Promise.resolve(b.browserDetectorSync.detect(a))}}}),na=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.envDetectorSync=void 0;var b=(h(),m(d)),c=A(),e=Ae(),f=Ze();a.envDetectorSync=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(a){let g={},i=(0,c.getEnv)(),j=i.OTEL_RESOURCE_ATTRIBUTES,k=i.OTEL_SERVICE_NAME;if(j)try{let a=this._parseResourceAttributes(j);Object.assign(g,a)}catch(a){b.diag.debug(`EnvDetector failed: ${a.message}`)}return k&&(g[e.SemanticResourceAttributes.SERVICE_NAME]=k),new f.Resource(g)}_parseResourceAttributes(a){if(!a)return{};let b={};for(let c of a.split(this._COMMA_SEPARATOR,-1)){let a=c.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==a.length)continue;let[e,f]=a;if(e=e.trim(),f=f.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(e))throw Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(f))throw Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);b[e]=decodeURIComponent(f)}return b}_isValid(a){return a.length<=this._MAX_LENGTH&&this._isBaggageOctetString(a)}_isBaggageOctetString(a){for(let b=0;b<a.length;b++){let c=a.charCodeAt(b);if(c<33||44===c||59===c||92===c||c>126)return!1}return!0}_isValidAndNotEmpty(a){return a.length>0&&this._isValid(a)}}}),dd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.envDetector=void 0;var b=na();a.envDetector=new class{detect(a){return Promise.resolve(b.envDetectorSync.detect(a))}}}),_d=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.browserDetectorSync=void 0;var b=Ae(),c=rt(),e=(h(),m(d));a.browserDetectorSync=new class{detect(a){if(!("u">typeof navigator))return c.Resource.empty();let e={[b.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[b.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[b.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(e,a)}_getResourceAttributes(a,f){return""===a[b.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(e.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),c.Resource.empty()):new c.Resource(Object.assign({},a))}}}),pd=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(ld(),a),c(dd(),a),c(_d(),a),c(na(),a)}),hd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isPromiseLike=void 0,a.isPromiseLike=a=>null!==a&&"object"==typeof a&&"function"==typeof a.then}),Ed=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.detectResourcesSync=a.detectResources=void 0;var b=Ze(),c=(h(),m(d)),e=hd();a.detectResources=async(a={})=>{let e=await Promise.all((a.detectors||[]).map(async e=>{try{let b=await e.detect(a);return c.diag.debug(`${e.constructor.name} found resource.`,b),b}catch(a){return c.diag.debug(`${e.constructor.name} failed: ${a.message}`),b.Resource.empty()}}));return f(e),e.reduce((a,b)=>a.merge(b),b.Resource.empty())},a.detectResourcesSync=(a={})=>{var g;let i=(null!=(g=a.detectors)?g:[]).map(f=>{try{let g=f.detect(a),i;if((0,e.isPromiseLike)(g)){let a=async()=>(await g).attributes;i=new b.Resource({},a())}else i=g;return i.waitForAsyncAttributes?i.waitForAsyncAttributes().then(()=>c.diag.debug(`${f.constructor.name} found resource.`,i)):c.diag.debug(`${f.constructor.name} found resource.`,i),i}catch(a){return c.diag.error(`${f.constructor.name} failed: ${a.message}`),b.Resource.empty()}}),j=i.reduce((a,b)=>a.merge(b),b.Resource.empty());return j.waitForAsyncAttributes&&j.waitForAsyncAttributes().then(()=>{f(i)}),j};var f=a=>{a.forEach(a=>{if(Object.keys(a.attributes).length>0){let b=JSON.stringify(a.attributes,null,4);c.diag.verbose(b)}})}}),rt=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Ze(),a),c(sd(),a),c(Jo(),a),c(ad(),a),c(cd(),a),c(pd(),a),c(Ed(),a)}),md=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MultiSpanProcessor=void 0;var b=A();a.MultiSpanProcessor=class{constructor(a){this._spanProcessors=a}forceFlush(){let a=[];for(let b of this._spanProcessors)a.push(b.forceFlush());return new Promise(c=>{Promise.all(a).then(()=>{c()}).catch(a=>{(0,b.globalErrorHandler)(a||Error("MultiSpanProcessor: forceFlush failed")),c()})})}onStart(a,b){for(let c of this._spanProcessors)c.onStart(a,b)}onEnd(a){for(let b of this._spanProcessors)b.onEnd(a)}shutdown(){let a=[];for(let b of this._spanProcessors)a.push(b.shutdown());return new Promise((b,c)=>{Promise.all(a).then(()=>{b()},c)})}}}),ca=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopSpanProcessor=void 0,a.NoopSpanProcessor=class{onStart(a,b){}onEnd(a){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}}),Td=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BasicTracerProvider=a.ForceFlushState=void 0;var b,c=(h(),m(d)),e=A(),f=rt(),g=la(),i=Do(),j=md(),k=ca(),l=Gn(),n=Bo();!function(a){a[a.resolved=0]="resolved",a[a.timeout=1]="timeout",a[a.error=2]="error",a[a.unresolved=3]="unresolved"}(b=a.ForceFlushState||(a.ForceFlushState={}));var o=class{constructor(a={}){var b;this._registeredSpanProcessors=[],this._tracers=new Map;let c=(0,e.merge)({},(0,i.loadDefaultConfig)(),(0,n.reconfigureLimits)(a));this.resource=null!=(b=c.resource)?b:f.Resource.empty(),this.resource=f.Resource.default().merge(this.resource),this._config=Object.assign({},c,{resource:this.resource});let g=this._buildExporterFromEnv();if(void 0!==g){let a=new l.BatchSpanProcessor(g);this.activeSpanProcessor=a}else this.activeSpanProcessor=new k.NoopSpanProcessor}getTracer(a,b,c){let e=`${a}@${b||""}:${c?.schemaUrl||""}`;return this._tracers.has(e)||this._tracers.set(e,new g.Tracer({name:a,version:b,schemaUrl:c?.schemaUrl},this._config,this)),this._tracers.get(e)}addSpanProcessor(a){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(a=>c.diag.error("Error while trying to shutdown current span processor",a)),this._registeredSpanProcessors.push(a),this.activeSpanProcessor=new j.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(a={}){c.trace.setGlobalTracerProvider(this),void 0===a.propagator&&(a.propagator=this._buildPropagatorFromEnv()),a.contextManager&&c.context.setGlobalContextManager(a.contextManager),a.propagator&&c.propagation.setGlobalPropagator(a.propagator)}forceFlush(){let a=this._config.forceFlushTimeoutMillis,c=this._registeredSpanProcessors.map(c=>new Promise(e=>{let f,g=setTimeout(()=>{e(Error(`Span processor did not completed within timeout period of ${a} ms`)),f=b.timeout},a);c.forceFlush().then(()=>{clearTimeout(g),f!==b.timeout&&e(f=b.resolved)}).catch(a=>{clearTimeout(g),f=b.error,e(a)})}));return new Promise((a,e)=>{Promise.all(c).then(c=>{let f=c.filter(a=>a!==b.resolved);f.length>0?e(f):a()}).catch(a=>e([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(a){var b;return null==(b=this.constructor._registeredPropagators.get(a))?void 0:b()}_getSpanExporter(a){var b;return null==(b=this.constructor._registeredExporters.get(a))?void 0:b()}_buildPropagatorFromEnv(){let a=Array.from(new Set((0,e.getEnv)().OTEL_PROPAGATORS)),b=a.map(a=>{let b=this._getPropagator(a);return b||c.diag.warn(`Propagator "${a}" requested through environment variable is unavailable.`),b}).reduce((a,b)=>(b&&a.push(b),a),[]);if(0!==b.length)return 1===a.length?b[0]:new e.CompositePropagator({propagators:b})}_buildExporterFromEnv(){let a=(0,e.getEnv)().OTEL_TRACES_EXPORTER;if("none"===a||""===a)return;let b=this._getSpanExporter(a);return b||c.diag.error(`Exporter "${a}" requested through environment variable is unavailable.`),b}};a.BasicTracerProvider=o,o._registeredPropagators=new Map([["tracecontext",()=>new e.W3CTraceContextPropagator],["baggage",()=>new e.W3CBaggagePropagator]]),o._registeredExporters=new Map}),Sd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ConsoleSpanExporter=void 0;var b=A();a.ConsoleSpanExporter=class{export(a,b){return this._sendSpans(a,b)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(a){var c;return{traceId:a.spanContext().traceId,parentId:a.parentSpanId,traceState:null==(c=a.spanContext().traceState)?void 0:c.serialize(),name:a.name,id:a.spanContext().spanId,kind:a.kind,timestamp:(0,b.hrTimeToMicroseconds)(a.startTime),duration:(0,b.hrTimeToMicroseconds)(a.duration),attributes:a.attributes,status:a.status,events:a.events,links:a.links}}_sendSpans(a,c){for(let b of a)console.dir(this._exportInfo(b),{depth:3});if(c)return c({code:b.ExportResultCode.SUCCESS})}}}),Od=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InMemorySpanExporter=void 0;var b=A();a.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(a,c){if(this._stopped)return c({code:b.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedSpans.push(...a),setTimeout(()=>c({code:b.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}}}),bd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),Pd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SimpleSpanProcessor=void 0;var b=(h(),m(d)),c=A();a.SimpleSpanProcessor=class{constructor(a){this._exporter=a,this._shutdownOnce=new c.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(a,b){}onEnd(a){var e,f;if(this._shutdownOnce.isCalled||!(a.spanContext().traceFlags&b.TraceFlags.SAMPLED))return;let g=()=>c.internal._export(this._exporter,[a]).then(a=>{var b;a.code!==c.ExportResultCode.SUCCESS&&(0,c.globalErrorHandler)(null!=(b=a.error)?b:Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{(0,c.globalErrorHandler)(a)});if(a.resource.asyncAttributesPending){let b=null==(f=(e=a.resource).waitForAsyncAttributes)?void 0:f.call(e).then(()=>(null!=b&&this._unresolvedExports.delete(b),g()),a=>(0,c.globalErrorHandler)(a));null!=b&&this._unresolvedExports.add(b)}else g()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}}),vd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),Ld=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),Nd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),wd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),Dd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),la=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(Vl(),a),c(Td(),a),c(Gn(),a),c(Sd(),a),c(Od(),a),c(bd(),a),c(Pd(),a),c(vd(),a),c(ca(),a),c(In(),a),c(Mn(),a),c(Mo(),a),c(Co(),a),c(gr(),a),c(Po(),a),c(Ld(),a),c(Nd(),a),c(wd(),a),c(Dd(),a)}),st={},fa=dc(()=>{ht(st,_opentelemetry_api_logs__WEBPACK_IMPORTED_MODULE_4__)}),Bd=l(a=>{function b(a=[]){let c=[];for(let d=0,e=a.length;d<e;d++){let e=a[d];if(Array.isArray(e)){let a=b(e);c=c.concat(a.instrumentations)}else"function"==typeof e?c.push(new e):e.instrumentationName&&c.push(e)}return{instrumentations:c}}Object.defineProperty(a,"__esModule",{value:!0}),a.disableInstrumentations=a.enableInstrumentations=a.parseInstrumentationOptions=void 0,a.parseInstrumentationOptions=b,a.enableInstrumentations=function(a,b,c){for(let d=0,e=a.length;d<e;d++){let e=a[d];b&&e.setTracerProvider(b),c&&e.setMeterProvider(c),e.getConfig().enabled||e.enable()}},a.disableInstrumentations=function(a){a.forEach(a=>a.disable())}}),Gd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.registerInstrumentations=void 0;var b=(h(),m(d)),c=Bd();a.registerInstrumentations=function(a){let{instrumentations:e}=(0,c.parseInstrumentationOptions)(a.instrumentations),f=a.tracerProvider||b.trace.getTracerProvider(),g=a.meterProvider||b.metrics.getMeterProvider();return(0,c.enableInstrumentations)(e,f,g),()=>{(0,c.disableInstrumentations)(e)}}}),ga=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LogRecord=void 0;var b=(h(),m(d)),c=(h(),m(d)),e=A();a.LogRecord=class{constructor(a,b,f){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;let{timestamp:g,observedTimestamp:i,severityNumber:j,severityText:k,body:l,attributes:n={},context:o}=f,p=Date.now();if(this.hrTime=(0,e.timeInputToHrTime)(g??p),this.hrTimeObserved=(0,e.timeInputToHrTime)(i??p),o){let a=c.trace.getSpanContext(o);a&&c.isSpanContextValid(a)&&(this.spanContext=a)}this.severityNumber=j,this.severityText=k,this.body=l,this.resource=a.resource,this.instrumentationScope=b,this._logRecordLimits=a.logRecordLimits,this.setAttributes(n)}set severityText(a){this._isLogRecordReadonly()||(this._severityText=a)}get severityText(){return this._severityText}set severityNumber(a){this._isLogRecordReadonly()||(this._severityNumber=a)}get severityNumber(){return this._severityNumber}set body(a){this._isLogRecordReadonly()||(this._body=a)}get body(){return this._body}get droppedAttributesCount(){return this.totalAttributesCount-Object.keys(this.attributes).length}setAttribute(a,b){return this._isLogRecordReadonly()||null===b||(0===a.length?c.diag.warn(`Invalid attribute key: ${a}`):(0,e.isAttributeValue)(b)||"object"==typeof b&&!Array.isArray(b)&&Object.keys(b).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)||((0,e.isAttributeValue)(b)?this.attributes[a]=this._truncateToSize(b):this.attributes[a]=b)):c.diag.warn(`Invalid attribute value set for key: ${a}`)),this}setAttributes(a){for(let[b,c]of Object.entries(a))this.setAttribute(b,c);return this}setBody(a){return this.body=a,this}setSeverityNumber(a){return this.severityNumber=a,this}setSeverityText(a){return this.severityText=a,this}_makeReadonly(){this._isReadonly=!0}_truncateToSize(a){let b=this._logRecordLimits.attributeValueLengthLimit;return b<=0?(c.diag.warn(`Attribute value limit must be positive, got ${b}`),a):"string"==typeof a?this._truncateToLimitUtil(a,b):Array.isArray(a)?a.map(a=>"string"==typeof a?this._truncateToLimitUtil(a,b):a):a}_truncateToLimitUtil(a,b){return a.length<=b?a:a.substring(0,b)}_isLogRecordReadonly(){return this._isReadonly&&b.diag.warn("Can not execute the operation on emitted log record"),this._isReadonly}}}),Vd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Logger=void 0;var b=(h(),m(d)),c=ga();a.Logger=class{constructor(a,b){this.instrumentationScope=a,this._sharedState=b}emit(a){let e=a.context||b.context.active(),f=new c.LogRecord(this._sharedState,this.instrumentationScope,Object.assign({context:e},a));this._sharedState.activeProcessor.onEmit(f,e),f._makeReadonly()}}}),Hd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.reconfigureLimits=a.loadDefaultConfig=void 0;var b=A();a.loadDefaultConfig=function(){return{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,b.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,b.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0}},a.reconfigureLimits=function(a){var c,d,e,f,g,h;let i=(0,b.getEnvWithoutDefaults)();return{attributeCountLimit:null!=(e=null!=(d=null!=(c=a.attributeCountLimit)?c:i.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)?d:i.OTEL_ATTRIBUTE_COUNT_LIMIT)?e:b.DEFAULT_ATTRIBUTE_COUNT_LIMIT,attributeValueLengthLimit:null!=(h=null!=(g=null!=(f=a.attributeValueLengthLimit)?f:i.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)?g:i.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?h:b.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT}}}),jd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MultiLogRecordProcessor=void 0;var b=A();a.MultiLogRecordProcessor=class{constructor(a,b){this.processors=a,this.forceFlushTimeoutMillis=b}async forceFlush(){let a=this.forceFlushTimeoutMillis;await Promise.all(this.processors.map(c=>(0,b.callWithTimeout)(c.forceFlush(),a)))}onEmit(a,b){this.processors.forEach(c=>c.onEmit(a,b))}async shutdown(){await Promise.all(this.processors.map(a=>a.shutdown()))}}}),Oa=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.NoopLogRecordProcessor=void 0,a.NoopLogRecordProcessor=class{forceFlush(){return Promise.resolve()}onEmit(a,b){}shutdown(){return Promise.resolve()}}}),Fd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LoggerProviderSharedState=void 0;var b=Oa();a.LoggerProviderSharedState=class{constructor(a,c,d){this.resource=a,this.forceFlushTimeoutMillis=c,this.logRecordLimits=d,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new b.NoopLogRecordProcessor}}}),Xd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LoggerProvider=a.DEFAULT_LOGGER_NAME=void 0;var b=(h(),m(d)),c=(fa(),m(st)),e=rt(),f=A(),g=Vd(),i=Hd(),j=jd(),k=Fd();a.DEFAULT_LOGGER_NAME="unknown";var l=class{constructor(a={}){let{resource:b=e.Resource.default(),logRecordLimits:c,forceFlushTimeoutMillis:g}=(0,f.merge)({},(0,i.loadDefaultConfig)(),a);this._sharedState=new k.LoggerProviderSharedState(b,g,(0,i.reconfigureLimits)(c)),this._shutdownOnce=new f.BindOnceFuture(this._shutdown,this)}getLogger(e,f,i){if(this._shutdownOnce.isCalled)return b.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),c.NOOP_LOGGER;e||b.diag.warn("Logger requested without instrumentation scope name.");let j=e||a.DEFAULT_LOGGER_NAME,k=`${j}@${f||""}:${i?.schemaUrl||""}`;return this._sharedState.loggers.has(k)||this._sharedState.loggers.set(k,new g.Logger({name:j,version:f,schemaUrl:i?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(k)}addLogRecordProcessor(a){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch(a=>b.diag.error("Error while trying to shutdown current log record processor",a)),this._sharedState.registeredLogRecordProcessors.push(a),this._sharedState.activeProcessor=new j.MultiLogRecordProcessor(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)}forceFlush(){return this._shutdownOnce.isCalled?(b.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()}shutdown(){return this._shutdownOnce.isCalled?(b.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()}_shutdown(){return this._sharedState.activeProcessor.shutdown()}};a.LoggerProvider=l}),Wd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ConsoleLogRecordExporter=void 0;var b=A(),c=A();a.ConsoleLogRecordExporter=class{export(a,b){this._sendLogRecords(a,b)}shutdown(){return Promise.resolve()}_exportInfo(a){var c,d,e;return{timestamp:(0,b.hrTimeToMicroseconds)(a.hrTime),traceId:null==(c=a.spanContext)?void 0:c.traceId,spanId:null==(d=a.spanContext)?void 0:d.spanId,traceFlags:null==(e=a.spanContext)?void 0:e.traceFlags,severityText:a.severityText,severityNumber:a.severityNumber,body:a.body,attributes:a.attributes}}_sendLogRecords(a,b){for(let b of a)console.dir(this._exportInfo(b),{depth:3});b?.({code:c.ExportResultCode.SUCCESS})}}}),Kd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SimpleLogRecordProcessor=void 0;var b=A();a.SimpleLogRecordProcessor=class{constructor(a){this._exporter=a,this._shutdownOnce=new b.BindOnceFuture(this._shutdown,this)}onEmit(a){this._shutdownOnce.isCalled||this._exporter.export([a],a=>{var c;if(a.code!==b.ExportResultCode.SUCCESS)return void(0,b.globalErrorHandler)(null!=(c=a.error)?c:Error(`SimpleLogRecordProcessor: log record export failed (status ${a})`))})}forceFlush(){return Promise.resolve()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}}}),Yd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InMemoryLogRecordExporter=void 0;var b=A();a.InMemoryLogRecordExporter=class{constructor(){this._finishedLogRecords=[],this._stopped=!1}export(a,c){if(this._stopped)return c({code:b.ExportResultCode.FAILED,error:Error("Exporter has been stopped")});this._finishedLogRecords.push(...a),c({code:b.ExportResultCode.SUCCESS})}shutdown(){return this._stopped=!0,this.reset(),Promise.resolve()}getFinishedLogRecords(){return this._finishedLogRecords}reset(){this._finishedLogRecords=[]}}}),Qd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchLogRecordProcessorBase=void 0;var b=(h(),m(d)),c=A();a.BatchLogRecordProcessorBase=class{constructor(a,e){var f,g,i,j;this._exporter=a,this._finishedLogRecords=[];let k=(0,c.getEnv)();this._maxExportBatchSize=null!=(f=e?.maxExportBatchSize)?f:k.OTEL_BLRP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=null!=(g=e?.maxQueueSize)?g:k.OTEL_BLRP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=null!=(i=e?.scheduledDelayMillis)?i:k.OTEL_BLRP_SCHEDULE_DELAY,this._exportTimeoutMillis=null!=(j=e?.exportTimeoutMillis)?j:k.OTEL_BLRP_EXPORT_TIMEOUT,this._shutdownOnce=new c.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(b.diag.warn("BatchLogRecordProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}onEmit(a){this._shutdownOnce.isCalled||this._addToBuffer(a)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}shutdown(){return this._shutdownOnce.call()}async _shutdown(){this.onShutdown(),await this._flushAll(),await this._exporter.shutdown()}_addToBuffer(a){this._finishedLogRecords.length>=this._maxQueueSize||(this._finishedLogRecords.push(a),this._maybeStartTimer())}_flushAll(){return new Promise((a,b)=>{let c=[],e=Math.ceil(this._finishedLogRecords.length/this._maxExportBatchSize);for(let a=0;a<e;a++)c.push(this._flushOneBatch());Promise.all(c).then(()=>{a()}).catch(b)})}_flushOneBatch(){return this._clearTimer(),0===this._finishedLogRecords.length?Promise.resolve():new Promise((a,b)=>{(0,c.callWithTimeout)(this._export(this._finishedLogRecords.splice(0,this._maxExportBatchSize)),this._exportTimeoutMillis).then(()=>a()).catch(b)})}_maybeStartTimer(){void 0===this._timer&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedLogRecords.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(a=>{(0,c.globalErrorHandler)(a)})},this._scheduledDelayMillis),(0,c.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}_export(a){return new Promise((b,e)=>{this._exporter.export(a,a=>{var f;if(a.code!==c.ExportResultCode.SUCCESS)return void e(null!=(f=a.error)?f:Error(`BatchLogRecordProcessorBase: log record export failed (status ${a})`));b(a)})})}}}),Zd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchLogRecordProcessor=void 0;var b=Qd();a.BatchLogRecordProcessor=class extends b.BatchLogRecordProcessorBase{onShutdown(){}}}),Jd=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchLogRecordProcessor=void 0;var b=Zd();Object.defineProperty(a,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return b.BatchLogRecordProcessor}})}),e_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchLogRecordProcessor=void 0;var b=Jd();Object.defineProperty(a,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return b.BatchLogRecordProcessor}})}),t_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchLogRecordProcessor=a.InMemoryLogRecordExporter=a.SimpleLogRecordProcessor=a.ConsoleLogRecordExporter=a.NoopLogRecordProcessor=a.LogRecord=a.LoggerProvider=void 0;var b=Xd();Object.defineProperty(a,"LoggerProvider",{enumerable:!0,get:function(){return b.LoggerProvider}});var c=ga();Object.defineProperty(a,"LogRecord",{enumerable:!0,get:function(){return c.LogRecord}});var d=Oa();Object.defineProperty(a,"NoopLogRecordProcessor",{enumerable:!0,get:function(){return d.NoopLogRecordProcessor}});var e=Wd();Object.defineProperty(a,"ConsoleLogRecordExporter",{enumerable:!0,get:function(){return e.ConsoleLogRecordExporter}});var f=Kd();Object.defineProperty(a,"SimpleLogRecordProcessor",{enumerable:!0,get:function(){return f.SimpleLogRecordProcessor}});var g=Yd();Object.defineProperty(a,"InMemoryLogRecordExporter",{enumerable:!0,get:function(){return g.InMemoryLogRecordExporter}});var h=e_();Object.defineProperty(a,"BatchLogRecordProcessor",{enumerable:!0,get:function(){return h.BatchLogRecordProcessor}})}),Li=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.AggregationTemporality=void 0,function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE"}(b=a.AggregationTemporality||(a.AggregationTemporality={}))}),wt=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.DataPointType=void 0,function(a){a[a.HISTOGRAM=0]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",a[a.GAUGE=2]="GAUGE",a[a.SUM=3]="SUM"}(b=a.DataPointType||(a.DataPointType={}))}),fe=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.equalsCaseInsensitive=a.binarySearchLB=a.setEquals=a.FlatMap=a.isPromiseAllSettledRejectionResult=a.PromiseAllSettled=a.callWithTimeout=a.TimeoutError=a.instrumentationScopeId=a.hashAttributes=a.isNotNullish=void 0,a.isNotNullish=function(a){return null!=a},a.hashAttributes=function(a){let b=Object.keys(a);return 0===b.length?"":JSON.stringify((b=b.sort()).map(b=>[b,a[b]]))},a.instrumentationScopeId=function(a){var b,c;return`${a.name}:${null!=(b=a.version)?b:""}:${null!=(c=a.schemaUrl)?c:""}`};var b=class a extends Error{constructor(b){super(b),Object.setPrototypeOf(this,a.prototype)}};a.TimeoutError=b,a.callWithTimeout=function(a,c){let d;return Promise.race([a,new Promise(function(a,e){d=setTimeout(function(){e(new b("Operation timed out."))},c)})]).then(a=>(clearTimeout(d),a),a=>{throw clearTimeout(d),a})},a.PromiseAllSettled=async function(a){return Promise.all(a.map(async a=>{try{return{status:"fulfilled",value:await a}}catch(a){return{status:"rejected",reason:a}}}))},a.isPromiseAllSettledRejectionResult=function(a){return"rejected"===a.status},a.FlatMap=function(a,b){let c=[];return a.forEach(a=>{c.push(...b(a))}),c},a.setEquals=function(a,b){if(a.size!==b.size)return!1;for(let c of a)if(!b.has(c))return!1;return!0},a.binarySearchLB=function(a,b){let c=0,d=a.length-1;for(;d-c>1;){let e=Math.trunc((d+c)/2);a[e]<=b?c=e:d=e-1}return a[d]<=b?d:a[c]<=b?c:-1},a.equalsCaseInsensitive=function(a,b){return a.toLowerCase()===b.toLowerCase()}}),xt=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.AggregatorKind=void 0,function(a){a[a.DROP=0]="DROP",a[a.SUM=1]="SUM",a[a.LAST_VALUE=2]="LAST_VALUE",a[a.HISTOGRAM=3]="HISTOGRAM",a[a.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(b=a.AggregatorKind||(a.AggregatorKind={}))}),r_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DropAggregator=void 0;var b=xt();a.DropAggregator=class{constructor(){this.kind=b.AggregatorKind.DROP}createAccumulation(){}merge(a,b){}diff(a,b){}toMetricData(a,b,c,d){}}}),be=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isValidName=a.isDescriptorCompatibleWith=a.createInstrumentDescriptorWithView=a.createInstrumentDescriptor=a.InstrumentType=void 0;var b,c=(h(),m(d)),e=fe();!function(a){a.COUNTER="COUNTER",a.HISTOGRAM="HISTOGRAM",a.UP_DOWN_COUNTER="UP_DOWN_COUNTER",a.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",a.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",a.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(b=a.InstrumentType||(a.InstrumentType={})),a.createInstrumentDescriptor=function(a,b,e){var f,i,j,k;return g(a)||c.diag.warn(`Invalid metric name: "${a}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:a,type:b,description:null!=(f=e?.description)?f:"",unit:null!=(i=e?.unit)?i:"",valueType:null!=(j=e?.valueType)?j:c.ValueType.DOUBLE,advice:null!=(k=e?.advice)?k:{}}},a.createInstrumentDescriptorWithView=function(a,b){var c,e;return{name:null!=(c=a.name)?c:b.name,description:null!=(e=a.description)?e:b.description,type:b.type,unit:b.unit,valueType:b.valueType,advice:b.advice}},a.isDescriptorCompatibleWith=function(a,b){return(0,e.equalsCaseInsensitive)(a.name,b.name)&&a.unit===b.unit&&a.type===b.type&&a.valueType===b.valueType};var f=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function g(a){return null!=a.match(f)}a.isValidName=g}),s_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.HistogramAggregator=a.HistogramAccumulation=void 0;var b=xt(),c=wt(),d=be(),e=fe();function f(a){let b=a.map(()=>0);return b.push(0),{buckets:{boundaries:a,counts:b},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}var g=class{constructor(a,b,c=!0,d=f(b)){this.startTime=a,this._boundaries=b,this._recordMinMax=c,this._current=d}record(a){this._current.count+=1,this._current.sum+=a,this._recordMinMax&&(this._current.min=Math.min(a,this._current.min),this._current.max=Math.max(a,this._current.max),this._current.hasMinMax=!0);let b=(0,e.binarySearchLB)(this._boundaries,a);this._current.buckets.counts[b+1]+=1}setStartTime(a){this.startTime=a}toPointValue(){return this._current}};a.HistogramAccumulation=g,a.HistogramAggregator=class{constructor(a,c){this._boundaries=a,this._recordMinMax=c,this.kind=b.AggregatorKind.HISTOGRAM}createAccumulation(a){return new g(a,this._boundaries,this._recordMinMax)}merge(a,b){let c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,h=Array(e.length);for(let a=0;a<e.length;a++)h[a]=e[a]+f[a];let i=1/0,j=-1/0;return this._recordMinMax&&(c.hasMinMax&&d.hasMinMax?(i=Math.min(c.min,d.min),j=Math.max(c.max,d.max)):c.hasMinMax?(i=c.min,j=c.max):d.hasMinMax&&(i=d.min,j=d.max)),new g(a.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:h},count:c.count+d.count,sum:c.sum+d.sum,hasMinMax:this._recordMinMax&&(c.hasMinMax||d.hasMinMax),min:i,max:j})}diff(a,b){let c=a.toPointValue(),d=b.toPointValue(),e=c.buckets.counts,f=d.buckets.counts,h=Array(e.length);for(let a=0;a<e.length;a++)h[a]=f[a]-e[a];return new g(b.startTime,c.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:c.buckets.boundaries,counts:h},count:d.count-c.count,sum:d.sum-c.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(a,b,e,f){return{descriptor:a,aggregationTemporality:b,dataPointType:c.DataPointType.HISTOGRAM,dataPoints:e.map(([b,c])=>{let e=c.toPointValue(),g=a.type===d.InstrumentType.UP_DOWN_COUNTER||a.type===d.InstrumentType.OBSERVABLE_GAUGE||a.type===d.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:b,startTime:c.startTime,endTime:f,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:g?void 0:e.sum,buckets:e.buckets,count:e.count}}})}}}}),o_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buckets=void 0,a.Buckets=class a{constructor(a=new b,c=0,d=0,e=0){this.backing=a,this.indexBase=c,this.indexStart=d,this.indexEnd=e}get offset(){return this.indexStart}get length(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},(a,b)=>this.at(b))}at(a){let b=this.indexBase-this.indexStart;return a<b&&(a+=this.backing.length),a-=b,this.backing.countAt(a)}incrementBucket(a,b){this.backing.increment(a,b)}decrementBucket(a,b){this.backing.decrement(a,b)}trim(){for(let a=0;a<this.length;a++)if(0!==this.at(a)){this.indexStart+=a;break}else if(a===this.length-1){this.indexStart=this.indexEnd=this.indexBase=0;return}for(let a=this.length-1;a>=0;a--)if(0!==this.at(a)){this.indexEnd-=this.length-a-1;break}this._rotate()}downscale(a){this._rotate();let b=1+this.indexEnd-this.indexStart,c=1<<a,d=0,e=0;for(let a=this.indexStart;a<=this.indexEnd;){let f=a%c;f<0&&(f+=c);for(let g=f;g<c&&d<b;g++)this._relocateBucket(e,d),d++,a++;e++}this.indexStart>>=a,this.indexEnd>>=a,this.indexBase=this.indexStart}clone(){return new a(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){let a=this.indexBase-this.indexStart;0!==a&&(a>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,a),this.backing.reverse(a,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+a)),this.indexBase=this.indexStart)}_relocateBucket(a,b){a!==b&&this.incrementBucket(a,this.backing.emptyBucket(b))}};var b=class a{constructor(a=[0]){this._counts=a}get length(){return this._counts.length}countAt(a){return this._counts[a]}growTo(a,b,c){let d=Array(a).fill(0);d.splice(c,this._counts.length-b,...this._counts.slice(b)),d.splice(0,b,...this._counts.slice(0,b)),this._counts=d}reverse(a,b){let c=Math.floor((a+b)/2)-a;for(let d=0;d<c;d++){let c=this._counts[a+d];this._counts[a+d]=this._counts[b-d-1],this._counts[b-d-1]=c}}emptyBucket(a){let b=this._counts[a];return this._counts[a]=0,b}increment(a,b){this._counts[a]+=b}decrement(a,b){this._counts[a]>=b?this._counts[a]-=b:this._counts[a]=0}clone(){return new a([...this._counts])}}}),Ba=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getSignificand=a.getNormalBase2=a.MIN_VALUE=a.MAX_NORMAL_EXPONENT=a.MIN_NORMAL_EXPONENT=a.SIGNIFICAND_WIDTH=void 0,a.SIGNIFICAND_WIDTH=52;var b=0x7ff00000,c=1048575,d=1023;a.MIN_NORMAL_EXPONENT=-1022,a.MAX_NORMAL_EXPONENT=d,a.MIN_VALUE=22250738585072014e-324,a.getNormalBase2=function(a){let c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,a),((c.getUint32(0)&b)>>20)-d},a.getSignificand=function(a){let b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a),(b.getUint32(0)&c)*0x100000000+b.getUint32(4)}}),wi=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.nextGreaterSquare=a.ldexp=void 0,a.ldexp=function(a,b){return 0===a||a===1/0||a===-1/0||Number.isNaN(a)?a:a*Math.pow(2,b)},a.nextGreaterSquare=function(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,++a}}),Di=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MappingError=void 0,a.MappingError=class extends Error{}}),u_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExponentMapping=void 0;var b=Ba(),c=wi(),d=Di();a.ExponentMapping=class{constructor(a){this._shift=-a}mapToIndex(a){return a<b.MIN_VALUE?this._minNormalLowerBoundaryIndex():b.getNormalBase2(a)+this._rightShift(b.getSignificand(a)-1,b.SIGNIFICAND_WIDTH)>>this._shift}lowerBoundary(a){let b=this._minNormalLowerBoundaryIndex();if(a<b)throw new d.MappingError(`underflow: ${a} is < minimum lower boundary: ${b}`);let e=this._maxNormalLowerBoundaryIndex();if(a>e)throw new d.MappingError(`overflow: ${a} is > maximum lower boundary: ${e}`);return c.ldexp(1,a<<this._shift)}get scale(){return 0===this._shift?0:-this._shift}_minNormalLowerBoundaryIndex(){let a=b.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&a--,a}_maxNormalLowerBoundaryIndex(){return b.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(a,b){return Math.floor(a*Math.pow(2,-b))}}}),d_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LogarithmMapping=void 0;var b=Ba(),c=wi(),d=Di();a.LogarithmMapping=class{constructor(a){this._scale=a,this._scaleFactor=c.ldexp(Math.LOG2E,a),this._inverseFactor=c.ldexp(Math.LN2,-a)}mapToIndex(a){if(a<=b.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(0===b.getSignificand(a))return(b.getNormalBase2(a)<<this._scale)-1;let c=Math.floor(Math.log(a)*this._scaleFactor),d=this._maxNormalLowerBoundaryIndex();return c>=d?d:c}lowerBoundary(a){let c=this._maxNormalLowerBoundaryIndex();if(a>=c){if(a===c)return 2*Math.exp((a-(1<<this._scale))/this._scaleFactor);throw new d.MappingError(`overflow: ${a} is > maximum lower boundary: ${c}`)}let e=this._minNormalLowerBoundaryIndex();if(a<=e){if(a===e)return b.MIN_VALUE;if(a===e-1)return Math.exp((a+(1<<this._scale))/this._scaleFactor)/2;throw new d.MappingError(`overflow: ${a} is < minimum lower boundary: ${e}`)}return Math.exp(a*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return b.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(b.MAX_NORMAL_EXPONENT+1<<this._scale)-1}}}),h_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getMapping=void 0;var b=u_(),c=d_(),d=Di(),e=-10,f=20,g=Array.from({length:31},(a,d)=>d>10?new c.LogarithmMapping(d-10):new b.ExponentMapping(d-10));a.getMapping=function(a){if(a>f||a<e)throw new d.MappingError(`expected scale >= ${e} && <= ${f}, got: ${a}`);return g[a+10]}}),m_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExponentialHistogramAggregator=a.ExponentialHistogramAccumulation=void 0;var b=xt(),c=wt(),e=(h(),m(d)),f=be(),g=o_(),i=h_(),j=wi(),k=class a{constructor(a,b){this.low=a,this.high=b}static combine(b,c){return new a(Math.min(b.low,c.low),Math.max(b.high,c.high))}},l=20,n=160,o=2,p=class a{constructor(a=a,b=n,c=!0,f=0,j=0,k=0,p=1/0,q=-1/0,r=new g.Buckets,s=new g.Buckets,t=(0,i.getMapping)(l)){this.startTime=a,this._maxSize=b,this._recordMinMax=c,this._sum=f,this._count=j,this._zeroCount=k,this._min=p,this._max=q,this._positive=r,this._negative=s,this._mapping=t,this._maxSize<o&&(e.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: ${o}`),this._maxSize=o)}record(a){this.updateByIncrement(a,1)}setStartTime(a){this.startTime=a}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(a,b){if(a>this._max&&(this._max=a),a<this._min&&(this._min=a),this._count+=b,0===a){this._zeroCount+=b;return}this._sum+=a*b,a>0?this._updateBuckets(this._positive,a,b):this._updateBuckets(this._negative,-a,b)}merge(a){0===this._count?(this._min=a.min,this._max=a.max):0!==a.count&&(a.min<this.min&&(this._min=a.min),a.max>this.max&&(this._max=a.max)),this.startTime=a.startTime,this._sum+=a.sum,this._count+=a.count,this._zeroCount+=a.zeroCount;let b=this._minScale(a);this._downscale(this.scale-b),this._mergeBuckets(this.positive,a,a.positive,b),this._mergeBuckets(this.negative,a,a.negative,b)}diff(a){this._min=1/0,this._max=-1/0,this._sum-=a.sum,this._count-=a.count,this._zeroCount-=a.zeroCount;let b=this._minScale(a);this._downscale(this.scale-b),this._diffBuckets(this.positive,a,a.positive,b),this._diffBuckets(this.negative,a,a.negative,b)}clone(){return new a(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(a,b,c){let e=this._mapping.mapToIndex(b),f=!1,g=0,i=0;if(0===a.length?(a.indexStart=e,a.indexEnd=a.indexStart,a.indexBase=a.indexStart):e<a.indexStart&&a.indexEnd-e>=this._maxSize?(f=!0,i=e,g=a.indexEnd):e>a.indexEnd&&e-a.indexStart>=this._maxSize&&(f=!0,i=a.indexStart,g=e),f){let a=this._changeScale(g,i);this._downscale(a),e=this._mapping.mapToIndex(b)}this._incrementIndexBy(a,e,c)}_incrementIndexBy(a,b,c){if(0===c)return;if(b<a.indexStart){let c=a.indexEnd-b;c>=a.backing.length&&this._grow(a,c+1),a.indexStart=b}else if(b>a.indexEnd){let c=b-a.indexStart;c>=a.backing.length&&this._grow(a,c+1),a.indexEnd=b}let e=b-a.indexBase;e<0&&(e+=a.backing.length),a.incrementBucket(e,c)}_grow(a,b){let c=a.backing.length,e=a.indexBase-a.indexStart,f=c-e,g=(0,j.nextGreaterSquare)(b);g>this._maxSize&&(g=this._maxSize);let i=g-e;a.backing.growTo(g,f,i)}_changeScale(a,b){let c=0;for(;a-b>=this._maxSize;)a>>=1,b>>=1,c++;return c}_downscale(a){if(0===a)return;if(a<0)throw Error(`impossible change of scale: ${this.scale}`);let b=this._mapping.scale-a;this._positive.downscale(a),this._negative.downscale(a),this._mapping=(0,i.getMapping)(b)}_minScale(a){let b=Math.min(this.scale,a.scale),c=k.combine(this._highLowAtScale(this.positive,this.scale,b),this._highLowAtScale(a.positive,a.scale,b)),e=k.combine(this._highLowAtScale(this.negative,this.scale,b),this._highLowAtScale(a.negative,a.scale,b));return Math.min(b-this._changeScale(c.high,c.low),b-this._changeScale(e.high,e.low))}_highLowAtScale(a,b,c){if(0===a.length)return new k(0,-1);let e=b-c;return new k(a.indexStart>>e,a.indexEnd>>e)}_mergeBuckets(a,b,c,e){let f=c.offset,g=b.scale-e;for(let b=0;b<c.length;b++)this._incrementIndexBy(a,f+b>>g,c.at(b))}_diffBuckets(a,b,c,e){let f=c.offset,g=b.scale-e;for(let b=0;b<c.length;b++){let e=(f+b>>g)-a.indexBase;e<0&&(e+=a.backing.length),a.decrementBucket(e,c.at(b))}a.trim()}};a.ExponentialHistogramAccumulation=p,a.ExponentialHistogramAggregator=class{constructor(a,c){this._maxSize=a,this._recordMinMax=c,this.kind=b.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(a){return new p(a,this._maxSize,this._recordMinMax)}merge(a,b){let c=b.clone();return c.merge(a),c}diff(a,b){let c=b.clone();return c.diff(a),c}toMetricData(a,b,e,g){return{descriptor:a,aggregationTemporality:b,dataPointType:c.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:e.map(([b,c])=>{let e=c.toPointValue(),i=a.type===f.InstrumentType.UP_DOWN_COUNTER||a.type===f.InstrumentType.OBSERVABLE_GAUGE||a.type===f.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:b,startTime:c.startTime,endTime:g,value:{min:e.hasMinMax?e.min:void 0,max:e.hasMinMax?e.max:void 0,sum:i?void 0:e.sum,positive:{offset:e.positive.offset,bucketCounts:e.positive.bucketCounts},negative:{offset:e.negative.offset,bucketCounts:e.negative.bucketCounts},count:e.count,scale:e.scale,zeroCount:e.zeroCount}}})}}}}),g_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LastValueAggregator=a.LastValueAccumulation=void 0;var b=xt(),c=A(),d=wt(),e=class{constructor(a,b=0,c=[0,0]){this.startTime=a,this._current=b,this.sampleTime=c}record(a){this._current=a,this.sampleTime=(0,c.millisToHrTime)(Date.now())}setStartTime(a){this.startTime=a}toPointValue(){return this._current}};a.LastValueAccumulation=e,a.LastValueAggregator=class{constructor(){this.kind=b.AggregatorKind.LAST_VALUE}createAccumulation(a){return new e(a)}merge(a,b){let d=(0,c.hrTimeToMicroseconds)(b.sampleTime)>=(0,c.hrTimeToMicroseconds)(a.sampleTime)?b:a;return new e(a.startTime,d.toPointValue(),d.sampleTime)}diff(a,b){let d=(0,c.hrTimeToMicroseconds)(b.sampleTime)>=(0,c.hrTimeToMicroseconds)(a.sampleTime)?b:a;return new e(b.startTime,d.toPointValue(),d.sampleTime)}toMetricData(a,b,c,e){return{descriptor:a,aggregationTemporality:b,dataPointType:d.DataPointType.GAUGE,dataPoints:c.map(([a,b])=>({attributes:a,startTime:b.startTime,endTime:e,value:b.toPointValue()}))}}}}),T_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SumAggregator=a.SumAccumulation=void 0;var b=xt(),c=wt(),d=class{constructor(a,b,c=0,d=!1){this.startTime=a,this.monotonic=b,this._current=c,this.reset=d}record(a){this.monotonic&&a<0||(this._current+=a)}setStartTime(a){this.startTime=a}toPointValue(){return this._current}};a.SumAccumulation=d,a.SumAggregator=class{constructor(a){this.monotonic=a,this.kind=b.AggregatorKind.SUM}createAccumulation(a){return new d(a,this.monotonic)}merge(a,b){let c=a.toPointValue(),e=b.toPointValue();return b.reset?new d(b.startTime,this.monotonic,e,b.reset):new d(a.startTime,this.monotonic,c+e)}diff(a,b){let c=a.toPointValue(),e=b.toPointValue();return this.monotonic&&c>e?new d(b.startTime,this.monotonic,e,!0):new d(b.startTime,this.monotonic,e-c)}toMetricData(a,b,d,e){return{descriptor:a,aggregationTemporality:b,dataPointType:c.DataPointType.SUM,dataPoints:d.map(([a,b])=>({attributes:a,startTime:b.startTime,endTime:e,value:b.toPointValue()})),isMonotonic:this.monotonic}}}}),S_=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(r_(),a),c(s_(),a),c(m_(),a),c(g_(),a),c(T_(),a)}),Fi=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DefaultAggregation=a.ExponentialHistogramAggregation=a.ExplicitBucketHistogramAggregation=a.HistogramAggregation=a.LastValueAggregation=a.SumAggregation=a.DropAggregation=a.Aggregation=void 0;var b=(h(),m(d)),c=S_(),e=be(),f=class{static Drop(){return p}static Sum(){return q}static LastValue(){return r}static Histogram(){return s}static ExponentialHistogram(){return t}static Default(){return u}};a.Aggregation=f;var g=class a extends f{createAggregator(b){return a.DEFAULT_INSTANCE}};a.DropAggregation=g,g.DEFAULT_INSTANCE=new c.DropAggregator;var i=class a extends f{createAggregator(b){switch(b.type){case e.InstrumentType.COUNTER:case e.InstrumentType.OBSERVABLE_COUNTER:case e.InstrumentType.HISTOGRAM:return a.MONOTONIC_INSTANCE;default:return a.NON_MONOTONIC_INSTANCE}}};a.SumAggregation=i,i.MONOTONIC_INSTANCE=new c.SumAggregator(!0),i.NON_MONOTONIC_INSTANCE=new c.SumAggregator(!1);var j=class a extends f{createAggregator(b){return a.DEFAULT_INSTANCE}};a.LastValueAggregation=j,j.DEFAULT_INSTANCE=new c.LastValueAggregator;var k=class a extends f{createAggregator(b){return a.DEFAULT_INSTANCE}};a.HistogramAggregation=k,k.DEFAULT_INSTANCE=new c.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);var l=class extends f{constructor(a,b=!0){if(super(),this._recordMinMax=b,void 0===a||0===a.length)throw Error("HistogramAggregator should be created with boundaries.");let c=(a=(a=a.concat()).sort((a,b)=>a-b)).lastIndexOf(-1/0),e=a.indexOf(1/0);-1===e&&(e=void 0),this._boundaries=a.slice(c+1,e)}createAggregator(a){return new c.HistogramAggregator(this._boundaries,this._recordMinMax)}};a.ExplicitBucketHistogramAggregation=l;var n=class extends f{constructor(a=160,b=!0){super(),this._maxSize=a,this._recordMinMax=b}createAggregator(a){return new c.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}};a.ExponentialHistogramAggregation=n;var o=class extends f{_resolve(a){switch(a.type){case e.InstrumentType.COUNTER:case e.InstrumentType.UP_DOWN_COUNTER:case e.InstrumentType.OBSERVABLE_COUNTER:case e.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return q;case e.InstrumentType.OBSERVABLE_GAUGE:return r;case e.InstrumentType.HISTOGRAM:return a.advice.explicitBucketBoundaries?new l(a.advice.explicitBucketBoundaries):s}return b.diag.warn(`Unable to recognize instrument type: ${a.type}`),p}createAggregator(a){return this._resolve(a).createAggregator(a)}};a.DefaultAggregation=o;var p=new g,q=new i,r=new j,s=new k,t=new n,u=new o}),Xa=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=a.DEFAULT_AGGREGATION_SELECTOR=void 0;var b=Fi(),c=Li();a.DEFAULT_AGGREGATION_SELECTOR=a=>b.Aggregation.Default(),a.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=a=>c.AggregationTemporality.CUMULATIVE}),Ka=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MetricReader=void 0;var b=(h(),m(d)),c=fe(),e=Xa();a.MetricReader=class{constructor(a){var b,c,f;this._shutdown=!1,this._aggregationSelector=null!=(b=a?.aggregationSelector)?b:e.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=null!=(c=a?.aggregationTemporalitySelector)?c:e.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=null!=(f=a?.metricProducers)?f:[]}setMetricProducer(a){if(this._sdkMetricProducer)throw Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=a,this.onInitialized()}selectAggregation(a){return this._aggregationSelector(a)}selectAggregationTemporality(a){return this._aggregationTemporalitySelector(a)}onInitialized(){}async collect(a){if(void 0===this._sdkMetricProducer)throw Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw Error("MetricReader is shutdown");let[b,...e]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:a?.timeoutMillis}),...this._metricProducers.map(b=>b.collect({timeoutMillis:a?.timeoutMillis}))]),f=b.errors.concat((0,c.FlatMap)(e,a=>a.errors));return{resourceMetrics:{resource:b.resourceMetrics.resource,scopeMetrics:b.resourceMetrics.scopeMetrics.concat((0,c.FlatMap)(e,a=>a.resourceMetrics.scopeMetrics))},errors:f}}async shutdown(a){if(this._shutdown)return void b.diag.error("Cannot call shutdown twice.");a?.timeoutMillis==null?await this.onShutdown():await (0,c.callWithTimeout)(this.onShutdown(),a.timeoutMillis),this._shutdown=!0}async forceFlush(a){return this._shutdown?void b.diag.warn("Cannot forceFlush on already shutdown MetricReader."):a?.timeoutMillis==null?void await this.onForceFlush():void await (0,c.callWithTimeout)(this.onForceFlush(),a.timeoutMillis)}}}),L_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PeriodicExportingMetricReader=void 0;var b=(h(),m(d)),c=A(),e=Ka(),f=fe(),g=(h(),m(d));a.PeriodicExportingMetricReader=class extends e.MetricReader{constructor(a){var b,c,e,f;if(super({aggregationSelector:null==(b=a.exporter.selectAggregation)?void 0:b.bind(a.exporter),aggregationTemporalitySelector:null==(c=a.exporter.selectAggregationTemporality)?void 0:c.bind(a.exporter),metricProducers:a.metricProducers}),void 0!==a.exportIntervalMillis&&a.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==a.exportTimeoutMillis&&a.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==a.exportTimeoutMillis&&void 0!==a.exportIntervalMillis&&a.exportIntervalMillis<a.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=null!=(e=a.exportIntervalMillis)?e:6e4,this._exportTimeout=null!=(f=a.exportTimeoutMillis)?f:3e4,this._exporter=a.exporter}async _runOnce(){try{await (0,f.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(a){if(a instanceof f.TimeoutError)return void b.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);(0,c.globalErrorHandler)(a)}}async _doRun(){var a,e;let{resourceMetrics:f,errors:i}=await this.collect({timeoutMillis:this._exportTimeout});i.length>0&&b.diag.error("PeriodicExportingMetricReader: metrics collection errors",...i);let j=async()=>{let a=await c.internal._export(this._exporter,f);if(a.code!==c.ExportResultCode.SUCCESS)throw Error(`PeriodicExportingMetricReader: metrics export failed (error ${a.error})`)};f.resource.asyncAttributesPending?null==(e=(a=f.resource).waitForAsyncAttributes)||e.call(a).then(j,a=>g.diag.debug("Error while resolving async portion of resource: ",a)):await j()}onInitialized(){this._interval=setInterval(()=>{this._runOnce()},this._exportInterval),(0,c.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}}),N_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InMemoryMetricExporter=void 0;var b=A();a.InMemoryMetricExporter=class{constructor(a){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=a}export(a,c){if(this._shutdown)return void setTimeout(()=>c({code:b.ExportResultCode.FAILED}),0);this._metrics.push(a),setTimeout(()=>c({code:b.ExportResultCode.SUCCESS}),0)}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(a){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}}}),w_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ConsoleMetricExporter=void 0;var b=A(),c=Xa();a.ConsoleMetricExporter=class a{constructor(a){var b;this._shutdown=!1,this._temporalitySelector=null!=(b=a?.temporalitySelector)?b:c.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(c,d){return this._shutdown?void setImmediate(d,{code:b.ExportResultCode.FAILED}):a._sendMetrics(c,d)}forceFlush(){return Promise.resolve()}selectAggregationTemporality(a){return this._temporalitySelector(a)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(a,c){for(let b of a.scopeMetrics)for(let a of b.metrics)console.dir({descriptor:a.descriptor,dataPointType:a.dataPointType,dataPoints:a.dataPoints});c({code:b.ExportResultCode.SUCCESS})}}}),x_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ViewRegistry=void 0,a.ViewRegistry=class{constructor(){this._registeredViews=[]}addView(a){this._registeredViews.push(a)}findViews(a,b){return this._registeredViews.filter(c=>this._matchInstrument(c.instrumentSelector,a)&&this._matchMeter(c.meterSelector,b))}_matchInstrument(a,b){return(void 0===a.getType()||b.type===a.getType())&&a.getNameFilter().match(b.name)&&a.getUnitFilter().match(b.unit)}_matchMeter(a,b){return a.getNameFilter().match(b.name)&&(void 0===b.version||a.getVersionFilter().match(b.version))&&(void 0===b.schemaUrl||a.getSchemaUrlFilter().match(b.schemaUrl))}}}),Qi=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isObservableInstrument=a.ObservableUpDownCounterInstrument=a.ObservableGaugeInstrument=a.ObservableCounterInstrument=a.ObservableInstrument=a.HistogramInstrument=a.CounterInstrument=a.UpDownCounterInstrument=a.SyncInstrument=void 0;var b=(h(),m(d)),c=A(),e=class{constructor(a,b){this._writableMetricStorage=a,this._descriptor=b}_record(a,e={},f=b.context.active()){if("number"!=typeof a)return void b.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${a}`);(this._descriptor.valueType!==b.ValueType.INT||Number.isInteger(a)||(b.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),Number.isInteger(a=Math.trunc(a))))&&this._writableMetricStorage.record(a,e,f,(0,c.millisToHrTime)(Date.now()))}};a.SyncInstrument=e,a.UpDownCounterInstrument=class extends e{add(a,b,c){this._record(a,b,c)}},a.CounterInstrument=class extends e{add(a,c,e){if(a<0)return void b.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${a}`);this._record(a,c,e)}},a.HistogramInstrument=class extends e{record(a,c,e){if(a<0)return void b.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${a}`);this._record(a,c,e)}};var f=class{constructor(a,b,c){this._observableRegistry=c,this._descriptor=a,this._metricStorages=b}addCallback(a){this._observableRegistry.addCallback(a,this)}removeCallback(a){this._observableRegistry.removeCallback(a,this)}};a.ObservableInstrument=f,a.ObservableCounterInstrument=class extends f{},a.ObservableGaugeInstrument=class extends f{},a.ObservableUpDownCounterInstrument=class extends f{},a.isObservableInstrument=function(a){return a instanceof f}}),D_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Meter=void 0;var b=be(),c=Qi();a.Meter=class{constructor(a){this._meterSharedState=a}createHistogram(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.HISTOGRAM,d),f=this._meterSharedState.registerMetricStorage(e);return new c.HistogramInstrument(f,e)}createCounter(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.COUNTER,d),f=this._meterSharedState.registerMetricStorage(e);return new c.CounterInstrument(f,e)}createUpDownCounter(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.UP_DOWN_COUNTER,d),f=this._meterSharedState.registerMetricStorage(e);return new c.UpDownCounterInstrument(f,e)}createObservableGauge(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.OBSERVABLE_GAUGE,d),f=this._meterSharedState.registerAsyncMetricStorage(e);return new c.ObservableGaugeInstrument(e,f,this._meterSharedState.observableRegistry)}createObservableCounter(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.OBSERVABLE_COUNTER,d),f=this._meterSharedState.registerAsyncMetricStorage(e);return new c.ObservableCounterInstrument(e,f,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(a,d){let e=(0,b.createInstrumentDescriptor)(a,b.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,d),f=this._meterSharedState.registerAsyncMetricStorage(e);return new c.ObservableUpDownCounterInstrument(e,f,this._meterSharedState.observableRegistry)}addBatchObservableCallback(a,b){this._meterSharedState.observableRegistry.addBatchCallback(a,b)}removeBatchObservableCallback(a,b){this._meterSharedState.observableRegistry.removeBatchCallback(a,b)}}}),au=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MetricStorage=void 0;var b=be();a.MetricStorage=class{constructor(a){this._instrumentDescriptor=a}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(a){this._instrumentDescriptor=(0,b.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:a,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}}}),wr=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AttributeHashMap=a.HashMap=void 0;var b=fe(),c=class{constructor(a){this._hash=a,this._valueMap=new Map,this._keyMap=new Map}get(a,b){return b??(b=this._hash(a)),this._valueMap.get(b)}getOrDefault(a,b){let c=this._hash(a);if(this._valueMap.has(c))return this._valueMap.get(c);let d=b();return this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,d),d}set(a,b,c){c??(c=this._hash(a)),this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,b)}has(a,b){return b??(b=this._hash(a)),this._valueMap.has(b)}*keys(){let a=this._keyMap.entries(),b=a.next();for(;!0!==b.done;)yield[b.value[1],b.value[0]],b=a.next()}*entries(){let a=this._valueMap.entries(),b=a.next();for(;!0!==b.done;)yield[this._keyMap.get(b.value[0]),b.value[1],b.value[0]],b=a.next()}get size(){return this._valueMap.size}};a.HashMap=c,a.AttributeHashMap=class extends c{constructor(){super(b.hashAttributes)}}}),du=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DeltaMetricProcessor=void 0;var b=wr();a.DeltaMetricProcessor=class{constructor(a){this._aggregator=a,this._activeCollectionStorage=new b.AttributeHashMap,this._cumulativeMemoStorage=new b.AttributeHashMap}record(a,b,c,d){let e=this._activeCollectionStorage.getOrDefault(b,()=>this._aggregator.createAccumulation(d));e?.record(a)}batchCumulate(a,b){Array.from(a.entries()).forEach(([a,c,d])=>{let e=this._aggregator.createAccumulation(b);e?.record(c);let f=e;if(this._cumulativeMemoStorage.has(a,d)){let b=this._cumulativeMemoStorage.get(a,d);f=this._aggregator.diff(b,e)}if(this._activeCollectionStorage.has(a,d)){let b=this._activeCollectionStorage.get(a,d);f=this._aggregator.merge(b,f)}this._cumulativeMemoStorage.set(a,e,d),this._activeCollectionStorage.set(a,f,d)})}collect(){let a=this._activeCollectionStorage;return this._activeCollectionStorage=new b.AttributeHashMap,a}}}),pu=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TemporalMetricProcessor=void 0;var b=Li(),c=wr();function d(a){return Array.from(a.entries())}a.TemporalMetricProcessor=class a{constructor(a,b){this._aggregator=a,this._unreportedAccumulations=new Map,this._reportHistory=new Map,b.forEach(a=>{this._unreportedAccumulations.set(a,[])})}buildMetrics(c,e,f,g){this._stashAccumulations(f);let h=this._getMergedUnreportedAccumulations(c),i=h,j;if(this._reportHistory.has(c)){let d=this._reportHistory.get(c),e=d.collectionTime;i=(j=d.aggregationTemporality)===b.AggregationTemporality.CUMULATIVE?a.merge(d.accumulations,h,this._aggregator):a.calibrateStartTime(d.accumulations,h,e)}else j=c.selectAggregationTemporality(e.type);this._reportHistory.set(c,{accumulations:i,collectionTime:g,aggregationTemporality:j});let k=d(i);if(0!==k.length)return this._aggregator.toMetricData(e,j,k,g)}_stashAccumulations(a){for(let b of this._unreportedAccumulations.keys()){let c=this._unreportedAccumulations.get(b);void 0===c&&(c=[],this._unreportedAccumulations.set(b,c)),c.push(a)}}_getMergedUnreportedAccumulations(b){let d=new c.AttributeHashMap,e=this._unreportedAccumulations.get(b);if(this._unreportedAccumulations.set(b,[]),void 0===e)return d;for(let b of e)d=a.merge(d,b,this._aggregator);return d}static merge(a,b,c){let d=a,e=b.entries(),f=e.next();for(;!0!==f.done;){let[b,g,h]=f.value;if(a.has(b,h)){let e=a.get(b,h),f=c.merge(e,g);d.set(b,f,h)}else d.set(b,g,h);f=e.next()}return d}static calibrateStartTime(a,b,c){for(let[d,e]of a.keys()){let a=b.get(d,e);a?.setStartTime(c)}return b}}}),U_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AsyncMetricStorage=void 0;var b=au(),c=du(),d=pu(),e=wr();a.AsyncMetricStorage=class extends b.MetricStorage{constructor(a,b,e,f){super(a),this._attributesProcessor=e,this._deltaMetricStorage=new c.DeltaMetricProcessor(b),this._temporalMetricStorage=new d.TemporalMetricProcessor(b,f)}record(a,b){let c=new e.AttributeHashMap;Array.from(a.entries()).forEach(([a,b])=>{c.set(this._attributesProcessor.process(a),b)}),this._deltaMetricStorage.batchCumulate(c,b)}collect(a,b){let c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)}}}),H_=l(a=>{function b(a,b){return`	- use valueType '${a.valueType}' on instrument creation or use an instrument name other than '${b.name}'`}function c(a,b){return`	- use unit '${a.unit}' on instrument creation or use an instrument name other than '${b.name}'`}function d(a,b){let c=JSON.stringify({name:b.name,type:b.type,unit:b.unit});return`	- create a new view with a name other than '${a.name}' and InstrumentSelector '${c}'`}function e(a,b){let c=JSON.stringify({name:b.name,type:b.type,unit:b.unit});return`	- create a new view with a name other than '${a.name}' and InstrumentSelector '${c}'
    	- OR - create a new view with the name ${a.name} and description '${a.description}' and InstrumentSelector ${c}
    	- OR - create a new view with the name ${b.name} and description '${a.description}' and InstrumentSelector ${c}`}Object.defineProperty(a,"__esModule",{value:!0}),a.getConflictResolutionRecipe=a.getDescriptionResolutionRecipe=a.getTypeConflictResolutionRecipe=a.getUnitConflictResolutionRecipe=a.getValueTypeConflictResolutionRecipe=a.getIncompatibilityDetails=void 0,a.getIncompatibilityDetails=function(a,b){let c="";return a.unit!==b.unit&&(c+=`	- Unit '${a.unit}' does not match '${b.unit}'
`),a.type!==b.type&&(c+=`	- Type '${a.type}' does not match '${b.type}'
`),a.valueType!==b.valueType&&(c+=`	- Value Type '${a.valueType}' does not match '${b.valueType}'
`),a.description!==b.description&&(c+=`	- Description '${a.description}' does not match '${b.description}'
`),c},a.getValueTypeConflictResolutionRecipe=b,a.getUnitConflictResolutionRecipe=c,a.getTypeConflictResolutionRecipe=d,a.getDescriptionResolutionRecipe=e,a.getConflictResolutionRecipe=function(a,f){return a.valueType!==f.valueType?b(a,f):a.unit!==f.unit?c(a,f):a.type!==f.type?d(a,f):a.description!==f.description?e(a,f):""}}),F_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MetricStorageRegistry=void 0;var b=be(),c=(h(),m(d)),e=H_();a.MetricStorageRegistry=class a{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new a}getStorages(a){let b=[];for(let a of this._sharedRegistry.values())b=b.concat(a);let c=this._perCollectorRegistry.get(a);if(null!=c)for(let a of c.values())b=b.concat(a);return b}register(a){this._registerStorage(a,this._sharedRegistry)}registerForCollector(a,b){let c=this._perCollectorRegistry.get(a);null==c&&(c=new Map,this._perCollectorRegistry.set(a,c)),this._registerStorage(b,c)}findOrUpdateCompatibleStorage(a){let b=this._sharedRegistry.get(a.name);return void 0===b?null:this._findOrUpdateCompatibleStorage(a,b)}findOrUpdateCompatibleCollectorStorage(a,b){let c=this._perCollectorRegistry.get(a);if(void 0===c)return null;let e=c.get(b.name);return void 0===e?null:this._findOrUpdateCompatibleStorage(b,e)}_registerStorage(a,b){let c=a.getInstrumentDescriptor(),e=b.get(c.name);if(void 0===e)return void b.set(c.name,[a]);e.push(a)}_findOrUpdateCompatibleStorage(a,f){let g=null;for(let i of f){let f=i.getInstrumentDescriptor();(0,b.isDescriptorCompatibleWith)(f,a)?(f.description!==a.description&&(a.description.length>f.description.length&&i.updateDescription(a.description),c.diag.warn("A view or instrument with the name ",a.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,(0,e.getIncompatibilityDetails)(f,a),`The longer description will be used.
To resolve the conflict:`,(0,e.getConflictResolutionRecipe)(f,a))),g=i):c.diag.warn("A view or instrument with the name ",a.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,(0,e.getIncompatibilityDetails)(f,a),`To resolve the conflict:
`,(0,e.getConflictResolutionRecipe)(f,a))}return g}}}),k_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MultiMetricStorage=void 0,a.MultiMetricStorage=class{constructor(a){this._backingStorages=a}record(a,b,c,d){this._backingStorages.forEach(e=>{e.record(a,b,c,d)})}}}),X_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BatchObservableResultImpl=a.ObservableResultImpl=void 0;var b=(h(),m(d)),c=wr(),e=Qi();a.ObservableResultImpl=class{constructor(a,b){this._instrumentName=a,this._valueType=b,this._buffer=new c.AttributeHashMap}observe(a,c={}){if("number"!=typeof a)return void b.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${a}`);(this._valueType!==b.ValueType.INT||Number.isInteger(a)||(b.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),Number.isInteger(a=Math.trunc(a))))&&this._buffer.set(c,a)}},a.BatchObservableResultImpl=class{constructor(){this._buffer=new Map}observe(a,f,g={}){if(!(0,e.isObservableInstrument)(a))return;let i=this._buffer.get(a);if(null==i&&(i=new c.AttributeHashMap,this._buffer.set(a,i)),"number"!=typeof f)return void b.diag.warn(`non-number value provided to metric ${a._descriptor.name}: ${f}`);(a._descriptor.valueType!==b.ValueType.INT||Number.isInteger(f)||(b.diag.warn(`INT value type cannot accept a floating-point value for ${a._descriptor.name}, ignoring the fractional digits.`),Number.isInteger(f=Math.trunc(f))))&&i.set(g,f)}}}),z_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ObservableRegistry=void 0;var b=(h(),m(d)),c=Qi(),e=X_(),f=fe();a.ObservableRegistry=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(a,b){this._findCallback(a,b)>=0||this._callbacks.push({callback:a,instrument:b})}removeCallback(a,b){let c=this._findCallback(a,b);c<0||this._callbacks.splice(c,1)}addBatchCallback(a,e){let f=new Set(e.filter(c.isObservableInstrument));if(0===f.size)return void b.diag.error("BatchObservableCallback is not associated with valid instruments",e);this._findBatchCallback(a,f)>=0||this._batchCallbacks.push({callback:a,instruments:f})}removeBatchCallback(a,b){let e=new Set(b.filter(c.isObservableInstrument)),f=this._findBatchCallback(a,e);f<0||this._batchCallbacks.splice(f,1)}async observe(a,b){let c=this._observeCallbacks(a,b),e=this._observeBatchCallbacks(a,b);return(await (0,f.PromiseAllSettled)([...c,...e])).filter(f.isPromiseAllSettledRejectionResult).map(a=>a.reason)}_observeCallbacks(a,b){return this._callbacks.map(async({callback:c,instrument:g})=>{let i=new e.ObservableResultImpl(g._descriptor.name,g._descriptor.valueType),j=Promise.resolve(c(i));null!=b&&(j=(0,f.callWithTimeout)(j,b)),await j,g._metricStorages.forEach(b=>{b.record(i._buffer,a)})})}_observeBatchCallbacks(a,b){return this._batchCallbacks.map(async({callback:c,instruments:g})=>{let i=new e.BatchObservableResultImpl,j=Promise.resolve(c(i));null!=b&&(j=(0,f.callWithTimeout)(j,b)),await j,g.forEach(b=>{let c=i._buffer.get(b);null!=c&&b._metricStorages.forEach(b=>{b.record(c,a)})})})}_findCallback(a,b){return this._callbacks.findIndex(c=>c.callback===a&&c.instrument===b)}_findBatchCallback(a,b){return this._batchCallbacks.findIndex(c=>c.callback===a&&(0,f.setEquals)(c.instruments,b))}}}),Y_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SyncMetricStorage=void 0;var b=au(),c=du(),d=pu();a.SyncMetricStorage=class extends b.MetricStorage{constructor(a,b,e,f){super(a),this._attributesProcessor=e,this._deltaMetricStorage=new c.DeltaMetricProcessor(b),this._temporalMetricStorage=new d.TemporalMetricProcessor(b,f)}record(a,b,c,d){b=this._attributesProcessor.process(b,c),this._deltaMetricStorage.record(a,b,c,d)}collect(a,b){let c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)}}}),Ou=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FilteringAttributesProcessor=a.NoopAttributesProcessor=a.AttributesProcessor=void 0;var b=class{static Noop(){return d}};a.AttributesProcessor=b;var c=class extends b{process(a,b){return a}};a.NoopAttributesProcessor=c,a.FilteringAttributesProcessor=class extends b{constructor(a){super(),this._allowedAttributeNames=a}process(a,b){let c={};return Object.keys(a).filter(a=>this._allowedAttributeNames.includes(a)).forEach(b=>c[b]=a[b]),c}};var d=new c}),Q_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MeterSharedState=void 0;var b=be(),c=D_(),d=fe(),e=U_(),f=F_(),g=k_(),h=z_(),i=Y_(),j=Ou();a.MeterSharedState=class{constructor(a,b){this._meterProviderSharedState=a,this._instrumentationScope=b,this.metricStorageRegistry=new f.MetricStorageRegistry,this.observableRegistry=new h.ObservableRegistry,this.meter=new c.Meter(this)}registerMetricStorage(a){let b=this._registerMetricStorage(a,i.SyncMetricStorage);return 1===b.length?b[0]:new g.MultiMetricStorage(b)}registerAsyncMetricStorage(a){return this._registerMetricStorage(a,e.AsyncMetricStorage)}async collect(a,b,c){let e=await this.observableRegistry.observe(b,c?.timeoutMillis),f=this.metricStorageRegistry.getStorages(a);if(0===f.length)return null;let g=f.map(c=>c.collect(a,b)).filter(d.isNotNullish);return 0===g.length?{errors:e}:{scopeMetrics:{scope:this._instrumentationScope,metrics:g},errors:e}}_registerMetricStorage(a,c){let d=this._meterProviderSharedState.viewRegistry.findViews(a,this._instrumentationScope).map(d=>{let e=(0,b.createInstrumentDescriptorWithView)(d,a),f=this.metricStorageRegistry.findOrUpdateCompatibleStorage(e);if(null!=f)return f;let g=d.aggregation.createAggregator(e),h=new c(e,g,d.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(h),h});if(0===d.length){let b=this._meterProviderSharedState.selectAggregations(a.type).map(([b,d])=>{let e=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(b,a);if(null!=e)return e;let f=d.createAggregator(a),g=new c(a,f,j.AttributesProcessor.Noop(),[b]);return this.metricStorageRegistry.registerForCollector(b,g),g});d=d.concat(b)}return d}}}),Z_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MeterProviderSharedState=void 0;var b=fe(),c=x_(),d=Q_();a.MeterProviderSharedState=class{constructor(a){this.resource=a,this.viewRegistry=new c.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(a){let c=(0,b.instrumentationScopeId)(a),e=this.meterSharedStates.get(c);return null==e&&(e=new d.MeterSharedState(this,a),this.meterSharedStates.set(c,e)),e}selectAggregations(a){let b=[];for(let c of this.metricCollectors)b.push([c,c.selectAggregation(a)]);return b}}}),J_=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MetricCollector=void 0;var b=A();a.MetricCollector=class{constructor(a,b){this._sharedState=a,this._metricReader=b}async collect(a){let c=(0,b.millisToHrTime)(Date.now()),d=[],e=[],f=Array.from(this._sharedState.meterSharedStates.values()).map(async b=>{let f=await b.collect(this,c,a);f?.scopeMetrics!=null&&d.push(f.scopeMetrics),f?.errors!=null&&e.push(...f.errors)});return await Promise.all(f),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:d},errors:e}}async forceFlush(a){await this._metricReader.forceFlush(a)}async shutdown(a){await this._metricReader.shutdown(a)}selectAggregationTemporality(a){return this._metricReader.selectAggregationTemporality(a)}selectAggregation(a){return this._metricReader.selectAggregation(a)}}}),tp=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MeterProvider=void 0;var b=(h(),m(d)),c=rt(),e=Z_(),f=J_();a.MeterProvider=class{constructor(a){var b;this._shutdown=!1;let f=c.Resource.default().merge(null!=(b=a?.resource)?b:c.Resource.empty());if(this._sharedState=new e.MeterProviderSharedState(f),a?.views!=null&&a.views.length>0)for(let b of a.views)this._sharedState.viewRegistry.addView(b)}getMeter(a,c="",e={}){return this._shutdown?(b.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,b.createNoopMeter)()):this._sharedState.getMeterSharedState({name:a,version:c,schemaUrl:e.schemaUrl}).meter}addMetricReader(a){let b=new f.MetricCollector(this._sharedState,a);a.setMetricProducer(b),this._sharedState.metricCollectors.push(b)}async shutdown(a){if(this._shutdown)return void b.diag.warn("shutdown may only be called once per MeterProvider");this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map(b=>b.shutdown(a)))}async forceFlush(a){if(this._shutdown)return void b.diag.warn("invalid attempt to force flush after MeterProvider shutdown");await Promise.all(this._sharedState.metricCollectors.map(b=>b.forceFlush(a)))}}}),fs=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExactPredicate=a.PatternPredicate=void 0;var b=/[\^$\\.+?()[\]{}|]/g;a.PatternPredicate=class a{constructor(b){"*"===b?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(a.escapePattern(b)))}match(a){return!!this._matchAll||this._regexp.test(a)}static escapePattern(a){return`^${a.replace(b,"\\$&").replace("*",".*")}$`}static hasWildcard(a){return a.includes("*")}},a.ExactPredicate=class{constructor(a){this._matchAll=void 0===a,this._pattern=a}match(a){return!!(this._matchAll||a===this._pattern)}}}),np=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstrumentSelector=void 0;var b=fs();a.InstrumentSelector=class{constructor(a){var c;this._nameFilter=new b.PatternPredicate(null!=(c=a?.name)?c:"*"),this._type=a?.type,this._unitFilter=new b.ExactPredicate(a?.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}}}),ip=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MeterSelector=void 0;var b=fs();a.MeterSelector=class{constructor(a){this._nameFilter=new b.ExactPredicate(a?.name),this._versionFilter=new b.ExactPredicate(a?.version),this._schemaUrlFilter=new b.ExactPredicate(a?.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}}}),op=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.View=void 0;var b=fs(),c=Ou(),d=np(),e=ip(),f=Fi();function g(a){return null==a.instrumentName&&null==a.instrumentType&&null==a.instrumentUnit&&null==a.meterName&&null==a.meterVersion&&null==a.meterSchemaUrl}a.View=class{constructor(a){var h;if(g(a))throw Error("Cannot create view with no selector arguments supplied");if(null!=a.name&&(a?.instrumentName==null||b.PatternPredicate.hasWildcard(a.instrumentName)))throw Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=a.attributeKeys?this.attributesProcessor=new c.FilteringAttributesProcessor(a.attributeKeys):this.attributesProcessor=c.AttributesProcessor.Noop(),this.name=a.name,this.description=a.description,this.aggregation=null!=(h=a.aggregation)?h:f.Aggregation.Default(),this.instrumentSelector=new d.InstrumentSelector({name:a.instrumentName,type:a.instrumentType,unit:a.instrumentUnit}),this.meterSelector=new e.MeterSelector({name:a.meterName,version:a.meterVersion,schemaUrl:a.meterSchemaUrl})}}}),wu=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeoutError=a.View=a.Aggregation=a.SumAggregation=a.LastValueAggregation=a.HistogramAggregation=a.DropAggregation=a.ExponentialHistogramAggregation=a.ExplicitBucketHistogramAggregation=a.DefaultAggregation=a.MeterProvider=a.InstrumentType=a.ConsoleMetricExporter=a.InMemoryMetricExporter=a.PeriodicExportingMetricReader=a.MetricReader=a.DataPointType=a.AggregationTemporality=void 0;var b=Li();Object.defineProperty(a,"AggregationTemporality",{enumerable:!0,get:function(){return b.AggregationTemporality}});var c=wt();Object.defineProperty(a,"DataPointType",{enumerable:!0,get:function(){return c.DataPointType}});var d=Ka();Object.defineProperty(a,"MetricReader",{enumerable:!0,get:function(){return d.MetricReader}});var e=L_();Object.defineProperty(a,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return e.PeriodicExportingMetricReader}});var f=N_();Object.defineProperty(a,"InMemoryMetricExporter",{enumerable:!0,get:function(){return f.InMemoryMetricExporter}});var g=w_();Object.defineProperty(a,"ConsoleMetricExporter",{enumerable:!0,get:function(){return g.ConsoleMetricExporter}});var h=be();Object.defineProperty(a,"InstrumentType",{enumerable:!0,get:function(){return h.InstrumentType}});var i=tp();Object.defineProperty(a,"MeterProvider",{enumerable:!0,get:function(){return i.MeterProvider}});var j=Fi();Object.defineProperty(a,"DefaultAggregation",{enumerable:!0,get:function(){return j.DefaultAggregation}}),Object.defineProperty(a,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return j.ExplicitBucketHistogramAggregation}}),Object.defineProperty(a,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return j.ExponentialHistogramAggregation}}),Object.defineProperty(a,"DropAggregation",{enumerable:!0,get:function(){return j.DropAggregation}}),Object.defineProperty(a,"HistogramAggregation",{enumerable:!0,get:function(){return j.HistogramAggregation}}),Object.defineProperty(a,"LastValueAggregation",{enumerable:!0,get:function(){return j.LastValueAggregation}}),Object.defineProperty(a,"SumAggregation",{enumerable:!0,get:function(){return j.SumAggregation}}),Object.defineProperty(a,"Aggregation",{enumerable:!0,get:function(){return j.Aggregation}});var k=op();Object.defineProperty(a,"View",{enumerable:!0,get:function(){return k.View}});var l=fe();Object.defineProperty(a,"TimeoutError",{enumerable:!0,get:function(){return l.TimeoutError}})}),ap=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AbstractAsyncHooksContextManager=void 0;var b=z("events"),c=["addListener","on","once","prependListener","prependOnceListener"];a.AbstractAsyncHooksContextManager=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(a,c){return c instanceof b.EventEmitter?this._bindEventEmitter(a,c):"function"==typeof c?this._bindFunction(a,c):c}_bindFunction(a,b){let c=this,d=function(...d){return c.with(a,()=>b.apply(this,d))};return Object.defineProperty(d,"length",{enumerable:!1,configurable:!0,writable:!1,value:b.length}),d}_bindEventEmitter(a,b){return void 0!==this._getPatchMap(b)||(this._createPatchMap(b),c.forEach(c=>{void 0!==b[c]&&(b[c]=this._patchAddListener(b,b[c],a))}),"function"==typeof b.removeListener&&(b.removeListener=this._patchRemoveListener(b,b.removeListener)),"function"==typeof b.off&&(b.off=this._patchRemoveListener(b,b.off)),"function"==typeof b.removeAllListeners&&(b.removeAllListeners=this._patchRemoveAllListeners(b,b.removeAllListeners))),b}_patchRemoveListener(a,b){let c=this;return function(d,e){var f;let g=null==(f=c._getPatchMap(a))?void 0:f[d];if(void 0===g)return b.call(this,d,e);let h=g.get(e);return b.call(this,d,h||e)}}_patchRemoveAllListeners(a,b){let c=this;return function(d){let e=c._getPatchMap(a);return void 0!==e&&(0==arguments.length?c._createPatchMap(a):void 0!==e[d]&&delete e[d]),b.apply(this,arguments)}}_patchAddListener(a,b,c){let d=this;return function(e,f){if(d._wrapped)return b.call(this,e,f);let g=d._getPatchMap(a);void 0===g&&(g=d._createPatchMap(a));let h=g[e];void 0===h&&(h=new WeakMap,g[e]=h);let i=d.bind(c,f);h.set(f,i),d._wrapped=!0;try{return b.call(this,e,i)}finally{d._wrapped=!1}}}_createPatchMap(a){let b=Object.create(null);return a[this._kOtListeners]=b,b}_getPatchMap(a){return a[this._kOtListeners]}}}),up=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AsyncLocalStorageContextManager=void 0;var b=(h(),m(d)),c=z("async_hooks"),e=ap();a.AsyncLocalStorageContextManager=class extends e.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new c.AsyncLocalStorage}active(){var a;return null!=(a=this._asyncLocalStorage.getStore())?a:b.ROOT_CONTEXT}with(a,b,c,...e){let f=null==c?b:b.bind(c);return this._asyncLocalStorage.run(a,f,...e)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}}),Ur=l(a=>{function b(a,b){return{key:a,value:c(b)}}function c(a){let d=typeof a;return"string"===d?{stringValue:a}:"number"===d?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:"boolean"===d?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(c)}}:"object"===d&&null!=a?{kvlistValue:{values:Object.entries(a).map(([a,c])=>b(a,c))}}:{}}Object.defineProperty(a,"__esModule",{value:!0}),a.toAnyValue=a.toKeyValue=a.toAttributes=void 0,a.toAttributes=function(a){return Object.keys(a).map(c=>b(c,a[c]))},a.toKeyValue=b,a.toAnyValue=c}),Op=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toOtlpSpanEvent=a.toOtlpLink=a.sdkSpanToOtlpSpan=void 0;var b=Ur();function c(a,c){var d;return{attributes:a.attributes?(0,b.toAttributes)(a.attributes):[],spanId:c.encodeSpanContext(a.context.spanId),traceId:c.encodeSpanContext(a.context.traceId),traceState:null==(d=a.context.traceState)?void 0:d.serialize(),droppedAttributesCount:a.droppedAttributesCount||0}}function d(a,c){return{attributes:a.attributes?(0,b.toAttributes)(a.attributes):[],name:a.name,timeUnixNano:c.encodeHrTime(a.time),droppedAttributesCount:a.droppedAttributesCount||0}}a.sdkSpanToOtlpSpan=function(a,e){var f;let g=a.spanContext(),h=a.status;return{traceId:e.encodeSpanContext(g.traceId),spanId:e.encodeSpanContext(g.spanId),parentSpanId:e.encodeOptionalSpanContext(a.parentSpanId),traceState:null==(f=g.traceState)?void 0:f.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:e.encodeHrTime(a.startTime),endTimeUnixNano:e.encodeHrTime(a.endTime),attributes:(0,b.toAttributes)(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(a=>d(a,e)),droppedEventsCount:a.droppedEventsCount,status:{code:h.code,message:h.message},links:a.links.map(a=>c(a,e)),droppedLinksCount:a.droppedLinksCount}},a.toOtlpLink=c,a.toOtlpSpanEvent=d}),Br=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getOtlpEncoder=a.encodeAsString=a.encodeAsLongBits=a.toLongBits=a.hrTimeToNanos=void 0;var b=A(),c=BigInt(1e9);function d(a){return BigInt(a[0])*c+BigInt(a[1])}function e(a){return{low:Number(BigInt.asUintN(32,a)),high:Number(BigInt.asUintN(32,a>>BigInt(32)))}}function f(a){return e(d(a))}function g(a){return d(a).toString()}a.hrTimeToNanos=d,a.toLongBits=e,a.encodeAsLongBits=f,a.encodeAsString=g;var h="u">typeof BigInt?g:b.hrTimeToNanoseconds;function i(a){return a}function j(a){if(void 0!==a)return(0,b.hexToBase64)(a)}var k={encodeHrTime:f,encodeSpanContext:b.hexToBase64,encodeOptionalSpanContext:j};a.getOtlpEncoder=function(a){var c,d;if(void 0===a)return k;let e=null==(c=a.useLongBits)||c,g=null!=(d=a.useHex)&&d;return{encodeHrTime:e?f:h,encodeSpanContext:g?i:b.hexToBase64,encodeOptionalSpanContext:g?i:j}}}),ys=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createExportTraceServiceRequest=void 0;var b=Ur(),c=Op(),d=Br();function e(a){let b=new Map;for(let c of a){let a=b.get(c.resource);a||(a=new Map,b.set(c.resource,a));let d=`${c.instrumentationLibrary.name}@${c.instrumentationLibrary.version||""}:${c.instrumentationLibrary.schemaUrl||""}`,e=a.get(d);e||(e=[],a.set(d,e)),e.push(c)}return b}function f(a,d){let f=e(a),g=[],h=f.entries(),i=h.next();for(;!i.done;){let[a,e]=i.value,f=[],j=e.values(),k=j.next();for(;!k.done;){let a=k.value;if(a.length>0){let{name:b,version:e,schemaUrl:g}=a[0].instrumentationLibrary,h=a.map(a=>(0,c.sdkSpanToOtlpSpan)(a,d));f.push({scope:{name:b,version:e},spans:h,schemaUrl:g})}k=j.next()}let l={resource:{attributes:(0,b.toAttributes)(a.attributes),droppedAttributesCount:0},scopeSpans:f,schemaUrl:void 0};g.push(l),i=h.next()}return g}a.createExportTraceServiceRequest=function(a,b){return{resourceSpans:f(a,(0,d.getOtlpEncoder)(b))}}}),Lp=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseRetryAfterToMills=a.isExportRetryable=a.invalidTimeout=a.configureExporterTimeout=a.appendRootPathToUrlIfNeeded=a.appendResourcePathToUrl=a.parseHeaders=a.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=a.DEFAULT_EXPORT_MAX_BACKOFF=a.DEFAULT_EXPORT_INITIAL_BACKOFF=a.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var b=(h(),m(d)),c=A(),e=1e4;function f(){var a;let b=Number(null!=(a=(0,c.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)?a:(0,c.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT);return b<=0?g(b,e):b}function g(a,c){return b.diag.warn("Timeout must be greater than 0",a),c}a.DEFAULT_EXPORT_MAX_ATTEMPTS=5,a.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3,a.DEFAULT_EXPORT_MAX_BACKOFF=5e3,a.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5,a.parseHeaders=function(a={}){let c={};return Object.entries(a).forEach(([a,e])=>{"u">typeof e?c[a]=String(e):b.diag.warn(`Header "${a}" has wrong value and will be ignored`)}),c},a.appendResourcePathToUrl=function(a,b){return a.endsWith("/")||(a+="/"),a+b},a.appendRootPathToUrlIfNeeded=function(a){try{let b=new URL(a);return""===b.pathname&&(b.pathname=b.pathname+"/"),b.toString()}catch{return b.diag.warn(`Could not parse export URL: '${a}'`),a}},a.configureExporterTimeout=function(a){return"number"==typeof a?a<=0?g(a,e):a:f()},a.invalidTimeout=g,a.isExportRetryable=function(a){return[429,502,503,504].includes(a)},a.parseRetryAfterToMills=function(a){if(null==a)return -1;let b=Number.parseInt(a,10);if(Number.isInteger(b))return b>0?1e3*b:-1;let c=new Date(a).getTime()-Date.now();return c>=0?c:0}}),Np=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OTLPExporterBase=void 0;var b=(h(),m(d)),c=A(),e=Lp();a.OTLPExporterBase=class{constructor(a={}){this._sendingPromises=[],this.url=this.getDefaultUrl(a),"string"==typeof a.hostname&&(this.hostname=a.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new c.BindOnceFuture(this._shutdown,this),this._concurrencyLimit="number"==typeof a.concurrencyLimit?a.concurrencyLimit:30,this.timeoutMillis=(0,e.configureExporterTimeout)(a.timeoutMillis),this.onInit(a)}export(a,b){return this._shutdownOnce.isCalled?void b({code:c.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?void b({code:c.ExportResultCode.FAILED,error:Error("Concurrent export limit reached")}):void this._export(a).then(()=>{b({code:c.ExportResultCode.SUCCESS})}).catch(a=>{b({code:c.ExportResultCode.FAILED,error:a})})}_export(a){return new Promise((c,e)=>{try{b.diag.debug("items to be sent",a),this.send(a,c,e)}catch(a){e(a)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return b.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}}}),Dp=l((a,b)=>{b.exports=function a(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}}),Gp=l(a=>{var b,c=a;c.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};var d=Array(64),e=Array(123);for(b=0;b<64;)e[d[b]=b<26?b+65:b<52?b+71:b<62?b-4:b-59|43]=b++;c.encode=function(a,b,c){for(var e,f=null,g=[],h=0,i=0;b<c;){var j=a[b++];switch(i){case 0:g[h++]=d[j>>2],e=(3&j)<<4,i=1;break;case 1:g[h++]=d[e|j>>4],e=(15&j)<<2,i=2;break;case 2:g[h++]=d[e|j>>6],g[h++]=d[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return i&&(g[h++]=d[e],g[h++]=61,1===i&&(g[h++]=61)),f?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var f="invalid encoding";c.decode=function(a,b,c){for(var d,g=c,h=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&h>1)break;if(void 0===(j=e[j]))throw Error(f);switch(h){case 0:d=j,h=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,h=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,h=3;break;case 3:b[c++]=(3&d)<<6|j,h=0}}if(1===h)throw Error(f);return c-g},c.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}}),Hp=l((a,b)=>{function c(){this._listeners={}}b.exports=c,c.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},c.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},c.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}}),Kp=l((a,b)=>{function c(a){return"u">typeof Float32Array?function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,d),a.writeFloatBE=b.bind(null,e),a.readFloatLE=c.bind(null,f),a.readFloatBE=c.bind(null,g)}(),"u">typeof Float64Array?function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,d,0,4),a.writeDoubleBE=b.bind(null,e,4,0),a.readDoubleLE=c.bind(null,f,0,4),a.readDoubleBE=c.bind(null,g,4,0)}(),a}function d(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function e(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function f(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function g(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=c(c)}),zp=l((exports,module)=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}module.exports=inquire}),Qp=l(a=>{var b=a;b.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},b.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},b.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}}),Jp=l((a,b)=>{b.exports=function a(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}}),th=l((a,b)=>{b.exports=d;var c=qe();function d(a,b){this.lo=a>>>0,this.hi=b>>>0}var e=d.zero=new d(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var f=d.zeroHash="\0\0\0\0\0\0\0\0";d.fromNumber=function(a){if(0===a)return e;var b=a<0;b&&(a=-a);var c=a>>>0,f=(a-c)/0x100000000>>>0;return b&&(f=~f>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++f>0xffffffff&&(f=0))),new d(c,f)},d.from=function(a){if("number"==typeof a)return d.fromNumber(a);if(c.isString(a))if(!c.Long)return d.fromNumber(parseInt(a,10));else a=c.Long.fromString(a);return a.low||a.high?new d(a.low>>>0,a.high>>>0):e},d.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},d.prototype.toLong=function(a){return c.Long?new c.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var g=String.prototype.charCodeAt;d.fromHash=function(a){return a===f?e:new d((g.call(a,0)|g.call(a,1)<<8|g.call(a,2)<<16|g.call(a,3)<<24)>>>0,(g.call(a,4)|g.call(a,5)<<8|g.call(a,6)<<16|g.call(a,7)<<24)>>>0)},d.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},d.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},d.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},d.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}}),qe=l(a=>{var b=a;function c(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function d(a){function b(a,d){if(!(this instanceof b))return new b(a,d);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),d&&c(this,d)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}b.asPromise=Dp(),b.base64=Gp(),b.EventEmitter=Hp(),b.float=Kp(),b.inquire=zp(),b.utf8=Qp(),b.pool=Jp(),b.LongBits=th(),b.isNode=!!("u">typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),b.global=b.isNode&&global||"u">typeof window&&window||"u">typeof self&&self||a,b.emptyArray=Object.freeze?Object.freeze([]):[],b.emptyObject=Object.freeze?Object.freeze({}):{},b.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},b.isString=function(a){return"string"==typeof a||a instanceof String},b.isObject=function(a){return a&&"object"==typeof a},b.isset=b.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},b.Buffer=function(){try{var a=b.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch{return null}}(),b._Buffer_from=null,b._Buffer_allocUnsafe=null,b.newBuffer=function(a){return"number"==typeof a?b.Buffer?b._Buffer_allocUnsafe(a):new b.Array(a):b.Buffer?b._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},b.Array="u">typeof Uint8Array?Uint8Array:Array,b.Long=b.global.dcodeIO&&b.global.dcodeIO.Long||b.global.Long||b.inquire("long"),b.key2Re=/^true|false|0|1$/,b.key32Re=/^-?(?:0|[1-9][0-9]*)$/,b.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,b.longToHash=function(a){return a?b.LongBits.from(a).toHash():b.LongBits.zeroHash},b.longFromHash=function(a,c){var d=b.LongBits.fromHash(a);return b.Long?b.Long.fromBits(d.lo,d.hi,c):d.toNumber(!!c)},b.merge=c,b.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},b.newError=d,b.ProtocolError=d("ProtocolError"),b.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},b.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},b.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},b._configure=function(){var a=b.Buffer;if(!a){b._Buffer_from=b._Buffer_allocUnsafe=null;return}b._Buffer_from=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},b._Buffer_allocUnsafe=a.allocUnsafe||function(b){return new a(b)}}}),rc=l((a,b)=>{b.exports=k;var c,d=qe(),e=d.LongBits,f=d.base64,g=d.utf8;function h(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function i(){}function j(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function k(){this.len=0,this.head=new h(i,0,0),this.tail=this.head,this.states=null}var l=function(){return d.Buffer?function(){return(k.create=function(){return new c})()}:function(){return new k}};function m(a,b,c){b[c]=255&a}function n(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function o(a,b){this.len=a,this.next=void 0,this.val=b}function p(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function q(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}k.create=l(),k.alloc=function(a){return new d.Array(a)},d.Array!==Array&&(k.alloc=d.pool(k.alloc,d.Array.prototype.subarray)),k.prototype._push=function(a,b,c){return this.tail=this.tail.next=new h(a,b,c),this.len+=b,this},o.prototype=Object.create(h.prototype),o.prototype.fn=n,k.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new o((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},k.prototype.int32=function(a){return a<0?this._push(p,10,e.fromNumber(a)):this.uint32(a)},k.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},k.prototype.uint64=function(a){var b=e.from(a);return this._push(p,b.length(),b)},k.prototype.int64=k.prototype.uint64,k.prototype.sint64=function(a){var b=e.from(a).zzEncode();return this._push(p,b.length(),b)},k.prototype.bool=function(a){return this._push(m,1,+!!a)},k.prototype.fixed32=function(a){return this._push(q,4,a>>>0)},k.prototype.sfixed32=k.prototype.fixed32,k.prototype.fixed64=function(a){var b=e.from(a);return this._push(q,4,b.lo)._push(q,4,b.hi)},k.prototype.sfixed64=k.prototype.fixed64,k.prototype.float=function(a){return this._push(d.float.writeFloatLE,4,a)},k.prototype.double=function(a){return this._push(d.float.writeDoubleLE,8,a)};var r=d.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};k.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(m,1,0);if(d.isString(a)){var c=k.alloc(b=f.length(a));f.decode(a,c,0),a=c}return this.uint32(b)._push(r,b,a)},k.prototype.string=function(a){var b=g.length(a);return b?this.uint32(b)._push(g.write,b,a):this._push(m,1,0)},k.prototype.fork=function(){return this.states=new j(this),this.head=this.tail=new h(i,0,0),this.len=0,this},k.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(i,0,0),this.len=0),this},k.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},k.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},k._configure=function(a){c=a,k.create=l(),c._configure()}}),lh=l((a,b)=>{b.exports=e;var c=rc();(e.prototype=Object.create(c.prototype)).constructor=e;var d=qe();function e(){c.call(this)}function f(a,b,c){a.length<40?d.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}e._configure=function(){e.alloc=d._Buffer_allocUnsafe,e.writeBytesBuffer=d.Buffer&&d.Buffer.prototype instanceof Uint8Array&&"set"===d.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},e.prototype.bytes=function(a){d.isString(a)&&(a=d._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(e.writeBytesBuffer,b,a),this},e.prototype.string=function(a){var b=d.Buffer.byteLength(a);return this.uint32(b),b&&this._push(f,b,a),this},e._configure()}),sc=l((a,b)=>{b.exports=h;var c,d=qe(),e=d.LongBits,f=d.utf8;function g(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function h(a){this.buf=a,this.pos=0,this.len=a.length}var i="u">typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new h(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new h(a);throw Error("illegal buffer")},j=function(){return d.Buffer?function(a){return(h.create=function(a){return d.Buffer.isBuffer(a)?new c(a):i(a)})(a)}:i};function k(){var a=new e(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw g(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw g(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function l(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw g(this,8);return new e(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}h.create=j(),h.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,h.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return a}}(),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return l(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return 0|l(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var a=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},h.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var a=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},h.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw g(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var e=d.Buffer;return e?e.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},h.prototype.string=function(){var a=this.bytes();return f.read(a,0,a.length)},h.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw g(this,a);this.pos+=a}else do if(this.pos>=this.len)throw g(this);while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},h._configure=function(a){c=a,h.create=j(),c._configure();var b=d.Long?"toLong":"toNumber";d.merge(h.prototype,{int64:function(){return k.call(this)[b](!1)},uint64:function(){return k.call(this)[b](!0)},sint64:function(){return k.call(this).zzDecode()[b](!1)},fixed64:function(){return m.call(this)[b](!0)},sfixed64:function(){return m.call(this)[b](!1)}})}}),Th=l((a,b)=>{b.exports=e;var c=sc();(e.prototype=Object.create(c.prototype)).constructor=e;var d=qe();function e(a){c.call(this,a)}e._configure=function(){d.Buffer&&(e.prototype._slice=d.Buffer.prototype.slice)},e.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},e._configure()}),Ah=l((a,b)=>{b.exports=d;var c=qe();function d(a,b,d){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!d}(d.prototype=Object.create(c.EventEmitter.prototype)).constructor=d,d.prototype.rpcCall=function a(b,d,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return c.asPromise(a,h,b,d,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,d[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},d.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),Rh=l(a=>{a.Service=Ah()}),Ph=l((a,b)=>{b.exports={}}),Ih=l(a=>{var b=a;function c(){b.util._configure(),b.Writer._configure(b.BufferWriter),b.Reader._configure(b.BufferReader)}b.build="minimal",b.Writer=rc(),b.BufferWriter=lh(),b.Reader=sc(),b.BufferReader=Th(),b.util=qe(),b.rpc=Rh(),b.roots=Ph(),b.configure=c,c()}),Mh=l((a,b)=>{b.exports=Ih()}),Vh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),jh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),kh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),$h=l(a=>{var b;Object.defineProperty(a,"__esModule",{value:!0}),a.ESpanKind=void 0,function(a){a[a.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",a[a.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",a[a.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",a[a.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",a[a.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",a[a.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(b=a.ESpanKind||(a.ESpanKind={}))}),Wh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),Zh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toMetric=a.toScopeMetrics=a.toResourceMetrics=void 0;var b=(h(),m(d)),c=wu(),e=Ur(),f=Br();function g(a,b){return Array.from(a.map(a=>({scope:{name:a.scope.name,version:a.scope.version},metrics:a.metrics.map(a=>i(a,b)),schemaUrl:a.scope.schemaUrl})))}function i(a,b){let e={name:a.descriptor.name,description:a.descriptor.description,unit:a.descriptor.unit},f=o(a.aggregationTemporality);switch(a.dataPointType){case c.DataPointType.SUM:e.sum={aggregationTemporality:f,isMonotonic:a.isMonotonic,dataPoints:k(a,b)};break;case c.DataPointType.GAUGE:e.gauge={dataPoints:k(a,b)};break;case c.DataPointType.HISTOGRAM:e.histogram={aggregationTemporality:f,dataPoints:l(a,b)};break;case c.DataPointType.EXPONENTIAL_HISTOGRAM:e.exponentialHistogram={aggregationTemporality:f,dataPoints:n(a,b)}}return e}function j(a,c,f){let g={attributes:(0,e.toAttributes)(a.attributes),startTimeUnixNano:f.encodeHrTime(a.startTime),timeUnixNano:f.encodeHrTime(a.endTime)};switch(c){case b.ValueType.INT:g.asInt=a.value;break;case b.ValueType.DOUBLE:g.asDouble=a.value}return g}function k(a,b){return a.dataPoints.map(c=>j(c,a.descriptor.valueType,b))}function l(a,b){return a.dataPoints.map(a=>{let c=a.value;return{attributes:(0,e.toAttributes)(a.attributes),bucketCounts:c.buckets.counts,explicitBounds:c.buckets.boundaries,count:c.count,sum:c.sum,min:c.min,max:c.max,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function n(a,b){return a.dataPoints.map(a=>{let c=a.value;return{attributes:(0,e.toAttributes)(a.attributes),count:c.count,min:c.min,max:c.max,sum:c.sum,positive:{offset:c.positive.offset,bucketCounts:c.positive.bucketCounts},negative:{offset:c.negative.offset,bucketCounts:c.negative.bucketCounts},scale:c.scale,zeroCount:c.zeroCount,startTimeUnixNano:b.encodeHrTime(a.startTime),timeUnixNano:b.encodeHrTime(a.endTime)}})}function o(a){switch(a){case c.AggregationTemporality.DELTA:return 1;case c.AggregationTemporality.CUMULATIVE:return 2}}a.toResourceMetrics=function(a,b){let c=(0,f.getOtlpEncoder)(b);return{resource:{attributes:(0,e.toAttributes)(a.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:g(a.scopeMetrics,c)}},a.toScopeMetrics=g,a.toMetric=i}),Jh=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createExportMetricsServiceRequest=void 0;var b=Zh();a.createExportMetricsServiceRequest=function(a,c){return{resourceMetrics:a.map(a=>(0,b.toResourceMetrics)(a,c))}}}),tf=l(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toLogAttributes=a.createExportLogsServiceRequest=void 0;var b=Br(),c=Ur();function d(a){let b=new Map;for(let c of a){let{resource:a,instrumentationScope:{name:d,version:e="",schemaUrl:f=""}}=c,g=b.get(a);g||(g=new Map,b.set(a,g));let h=`${d}@${e}:${f}`,i=g.get(h);i||(i=[],g.set(h,i)),i.push(c)}return b}function e(a,b){return Array.from(d(a),([a,d])=>({resource:{attributes:(0,c.toAttributes)(a.attributes),droppedAttributesCount:0},scopeLogs:Array.from(d,([,a])=>{let{instrumentationScope:{name:c,version:d,schemaUrl:e}}=a[0];return{scope:{name:c,version:d},logRecords:a.map(a=>f(a,b)),schemaUrl:e}}),schemaUrl:void 0}))}function f(a,b){var d,e,f;return{timeUnixNano:b.encodeHrTime(a.hrTime),observedTimeUnixNano:b.encodeHrTime(a.hrTimeObserved),severityNumber:a.severityNumber,severityText:a.severityText,body:(0,c.toAnyValue)(a.body),attributes:g(a.attributes),droppedAttributesCount:a.droppedAttributesCount,flags:null==(d=a.spanContext)?void 0:d.traceFlags,traceId:b.encodeOptionalSpanContext(null==(e=a.spanContext)?void 0:e.traceId),spanId:b.encodeOptionalSpanContext(null==(f=a.spanContext)?void 0:f.spanId)}}function g(a){return Object.keys(a).map(b=>(0,c.toKeyValue)(b,a[b]))}a.createExportLogsServiceRequest=function(a,c){return{resourceLogs:e(a,(0,b.getOtlpEncoder)(c))}},a.toLogAttributes=g}),rf=l(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),a.createExportLogsServiceRequest=a.createExportMetricsServiceRequest=a.createExportTraceServiceRequest=void 0,c(Vh(),a),c(Br(),a),c(jh(),a),c(kh(),a),c($h(),a),c(Wh(),a);var d=ys();Object.defineProperty(a,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return d.createExportTraceServiceRequest}});var e=Jh();Object.defineProperty(a,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return e.createExportMetricsServiceRequest}});var f=tf();Object.defineProperty(a,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return f.createExportLogsServiceRequest}})}),C=Y(la(),1);h(),fa();var af=Y(Gd(),1),lr=Y(rt(),1),uf=Y(t_(),1),cf=Y(wu(),1),Vs=Y(Yr(),1),lf=Y(up(),1),He=Y(A(),1),cp="http.method",lp="http.url",As="http.host",dp="http.scheme",Uu="http.status_code",_p="http.user_agent",Bu="http.response_content_length_uncompressed",pp="net.peer.port",hp="net.peer.name",fp="service.name",Ep="service.version";h();var gA=Symbol.for("@vercel/request-context");function me(){return globalThis[gA]?.get()}function Os(a){return Object.fromEntries(Object.entries(a).filter(([a,b])=>void 0!==b))}function mp(a){return a?a.split("::").at(-1):void 0}function gp(a=me(),b){if(!a)return;let c=b?SA(b,a.headers):void 0;return Os({[As]:a.headers.host,[_p]:a.headers["user-agent"],"http.referer":a.headers.referer,"vercel.request_id":mp(a.headers["x-vercel-id"]),"vercel.matched_path":a.headers["x-matched-path"],"vercel.edge_region":process.env.VERCEL_REGION,...c})}var TA={keys:a=>[],get:(a,b)=>a[b.toLocaleLowerCase()]};function SA(a,b){if("function"==typeof a)return a(b,TA);let c={};for(let[d,e]of Object.entries(a)){let a=b[e.toLocaleLowerCase()];void 0!==a&&(c[d]=a)}return c}function er(a){return(a&d.TraceFlags.SAMPLED)!=0}h();var Rs=class{constructor(a,b){this.processors=a,this.attributesFromHeaders=b,this.rootSpanIds=new Map,this.waitSpanEnd=new Map}forceFlush(){return Promise.all(this.processors.map(a=>a.forceFlush().catch(a=>{d.diag.error("@vercel/otel: forceFlush failed:",a)}))).then(()=>{})}shutdown(){return Promise.all(this.processors.map(a=>a.shutdown().catch(()=>{}))).then(()=>{})}onStart(a,b){let{traceId:c,spanId:d,traceFlags:e}=a.spanContext(),f=!a.parentSpanId||!this.rootSpanIds.has(c);if(f?this.rootSpanIds.set(c,{rootSpanId:d,open:[]}):this.rootSpanIds.get(c)?.open.push(a),f&&er(e)){let b=me(),d=gp(b,this.attributesFromHeaders);d&&a.setAttributes(d),b&&b.waitUntil(async()=>{if(this.rootSpanIds.has(c)){let a=new Promise(a=>{this.waitSpanEnd.set(c,a)}),b;await Promise.race([a,new Promise(a=>{b=setTimeout(()=>{this.waitSpanEnd.delete(c),a(void 0)},50)})]),b&&clearTimeout(b)}return this.forceFlush()})}for(let c of this.processors)c.onStart(a,b)}onEnd(a){let{traceId:b,spanId:c,traceFlags:e}=a.spanContext(),f=er(e),g=this.rootSpanIds.get(b),h=g?.rootSpanId===c;if(f){let b=OA(a);b&&Object.assign(a.attributes,b)}if(h){if(this.rootSpanIds.delete(b),g.open.length>0){for(let a of g.open)if(!a.ended&&a.spanContext().spanId!==c)try{a.end()}catch(a){d.diag.error("@vercel/otel: onEnd failed:",a)}}}else if(g)for(let a=0;a<g.open.length;a++)g.open[a]?.spanContext().spanId===c&&g.open.splice(a,1);for(let b of this.processors)b.onEnd(a);if(h){let a=this.waitSpanEnd.get(b);a&&(this.waitSpanEnd.delete(b),a())}}},AA={[d.SpanKind.INTERNAL]:"internal",[d.SpanKind.SERVER]:"server",[d.SpanKind.CLIENT]:"client",[d.SpanKind.PRODUCER]:"producer",[d.SpanKind.CONSUMER]:"consumer"};function OA(a){let{kind:b,attributes:c}=a,{"operation.name":e,"resource.name":f,"span.type":g,"next.span_type":h,"http.method":i,"http.route":j}=c;if(e)return;let k=f??(i&&"string"==typeof i&&j&&"string"==typeof j?`${i} ${j}`:j);if(a.kind===d.SpanKind.SERVER&&i&&j&&"string"==typeof i&&"string"==typeof j)return{"operation.name":"web.request","resource.name":k};let l=a.instrumentationLibrary.name,m=h??g;if(m&&"string"==typeof m){let a=Tp(l,m);return j?{"operation.name":a,"resource.name":k}:{"operation.name":a}}return{"operation.name":Tp(l,b===d.SpanKind.INTERNAL?"":AA[b])}}function Tp(a,b){if(!a)return b;let c=a.replace(/[ @./]/g,"_");return c.startsWith("_")&&(c=c.slice(1)),b?`${c}.${b}`:c}var wp=Y(ys(),1),Cp=Y(Np(),1);h();var tr=class extends Cp.OTLPExporterBase{constructor(a={}){super(a),a.headers&&(this._headers=a.headers)}onShutdown(){d.diag.debug("@vercel/otel/otlp: onShutdown")}onInit(){d.diag.debug("@vercel/otel/otlp: onInit")}send(a,b,c){if(this._shutdownOnce.isCalled)return void d.diag.debug("@vercel/otel/otlp: Shutdown already started. Cannot send objects");let e=this.convert(a),f,g,h;try{({body:f,contentType:g,headers:h}=this.toMessage(e))}catch(a){d.diag.warn("@vercel/otel/otlp: no proto",a);return}let i=fetch(this.url,{method:"POST",body:f,headers:{...this._headers,...h,"Content-Type":g,"User-Agent":"OTel-OTLP-Exporter-JavaScript/0.46.0"},next:{internal:!0}}).then(a=>{d.diag.debug("@vercel/otel/otlp: onSuccess",a.status,a.statusText),b(),a.arrayBuffer().catch(()=>{})}).catch(a=>{d.diag.error("@vercel/otel/otlp: onError",a),c(a)}).finally(()=>{let a=this._sendingPromises.indexOf(i);this._sendingPromises.splice(a,1)});this._sendingPromises.push(i)}getDefaultUrl(a){throw Error("Method not implemented.")}},FA="v1/traces",kA=`http://localhost:4318/${FA}`;function Is(a){return"string"==typeof a.url?a.url:kA}var rr=class{constructor(a={}){this.impl=new Wu(a)}export(a,b){this.impl.export(a,b)}shutdown(){return this.impl.shutdown()}forceFlush(){return this.impl.forceFlush()}},Wu=class extends tr{convert(a){return(0,wp.createExportTraceServiceRequest)(a,{useHex:!0,useLongBits:!1})}toMessage(a){return{body:JSON.stringify(a),contentType:"application/json"}}getDefaultUrl(a){return Is(a)}},xh=Y(ys(),1),Nh=Y(Mh(),1);function Ch(a){let b=new Nh.Writer;return eO(a,b),b.finish()}function eO(a,b){if(null!=a.resourceSpans&&a.resourceSpans.length)for(let c=0;c<a.resourceSpans.length;++c)tO(a.resourceSpans[c],b.uint32(10).fork()).ldelim();return b}function tO(a,b){if(null!=a.resource&&rO(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeSpans&&a.scopeSpans.length)for(let c=0;c<a.scopeSpans.length;++c)nO(a.scopeSpans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&b.uint32(26).string(a.schemaUrl),b}function rO(a,b){if(null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)ir(a.attributes[c],b.uint32(10).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(16).uint32(a.droppedAttributesCount),b}function nO(a,b){if(null!=a.scope&&oO(a.scope,b.uint32(10).fork()).ldelim(),null!=a.spans&&a.spans.length)for(let c=0;c<a.spans.length;++c)aO(a.spans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&b.uint32(26).string(a.schemaUrl),b}function ir(a,b){return null!=a.key&&b.uint32(10).string(a.key),null!=a.value&&wh(a.value,b.uint32(18).fork()).ldelim(),b}function wh(a,b){return null!=a.stringValue&&b.uint32(10).string(a.stringValue),null!=a.boolValue&&b.uint32(16).bool(a.boolValue),null!=a.intValue&&b.uint32(24).int64(a.intValue),null!=a.doubleValue&&b.uint32(33).double(a.doubleValue),null!=a.arrayValue&&iO(a.arrayValue,b.uint32(42).fork()).ldelim(),null!=a.kvlistValue&&sO(a.kvlistValue,b.uint32(50).fork()).ldelim(),null!=a.bytesValue&&b.uint32(58).bytes(a.bytesValue),b}function iO(a,b){if(null!=a.values&&a.values.length)for(let c=0;c<a.values.length;++c)wh(a.values[c],b.uint32(10).fork()).ldelim();return b}function sO(a,b){if(null!=a.values&&a.values.length)for(let c=0;c<a.values.length;++c)ir(a.values[c],b.uint32(10).fork()).ldelim();return b}function oO(a,b){if(null!=a.name&&b.uint32(10).string(a.name),null!=a.version&&b.uint32(18).string(a.version),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)ir(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(32).uint32(a.droppedAttributesCount),b}function aO(a,b){if(null!=a.traceId&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&b.uint32(26).string(a.traceState),null!=a.parentSpanId&&b.uint32(34).bytes(a.parentSpanId),null!=a.name&&b.uint32(42).string(a.name),null!=a.kind&&b.uint32(48).int32(a.kind),null!=a.startTimeUnixNano&&b.uint32(57).fixed64(a.startTimeUnixNano),null!=a.endTimeUnixNano&&b.uint32(65).fixed64(a.endTimeUnixNano),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)ir(a.attributes[c],b.uint32(74).fork()).ldelim();if(null!=a.droppedAttributesCount&&b.uint32(80).uint32(a.droppedAttributesCount),null!=a.events&&a.events.length)for(let c=0;c<a.events.length;++c)cO(a.events[c],b.uint32(90).fork()).ldelim();if(null!=a.droppedEventsCount&&b.uint32(96).uint32(a.droppedEventsCount),null!=a.links&&a.links.length)for(let c=0;c<a.links.length;++c)lO(a.links[c],b.uint32(106).fork()).ldelim();return null!=a.droppedLinksCount&&b.uint32(112).uint32(a.droppedLinksCount),null!=a.status&&uO(a.status,b.uint32(122).fork()).ldelim(),b}function uO(a,b){return null!=a.message&&b.uint32(18).string(a.message),null!=a.code&&b.uint32(24).int32(a.code),b}function cO(a,b){if(null!=a.timeUnixNano&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.name&&b.uint32(18).string(a.name),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)ir(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(32).uint32(a.droppedAttributesCount),b}function lO(a,b){if(null!=a.traceId&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&b.uint32(26).string(a.traceState),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)ir(a.attributes[c],b.uint32(34).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(40).uint32(a.droppedAttributesCount),b}var dt=class{constructor(a={}){this.impl=new ac(a)}export(a,b){this.impl.export(a,b)}shutdown(){return this.impl.shutdown()}forceFlush(){return this.impl.forceFlush()}},ac=class extends tr{convert(a){return(0,xh.createExportTraceServiceRequest)(a,void 0)}toMessage(a){return{body:Ch(a),contentType:"application/x-protobuf",headers:{accept:"application/x-protobuf"}}}getDefaultUrl(a){return Is(a)}};function Dh(a,b){return a.replace(/\{(?<temp1>[^{}]+)\}/g,(a,c)=>{let d=b[c];return void 0!==d?String(d):a})}h();var sr=class{constructor(a={}){this.instrumentationName="@vercel/otel/fetch",this.instrumentationVersion="1.0.0",this.config=a}getConfig(){return this.config}setConfig(){}setTracerProvider(a){this.tracerProvider=a}setMeterProvider(){}shouldIgnore(a,b){let c=this.config.ignoreUrls??[];if(b?.opentelemetry?.ignore!==void 0)return b.opentelemetry.ignore;if(0===c.length)return!1;let d=a.toString();return c.some(a=>"string"==typeof a?"*"===a||d.startsWith(a):a.test(d))}shouldPropagate(a,b){let c=process.env.VERCEL_URL||process.env.NEXT_PUBLIC_VERCEL_URL||null,d=process.env.VERCEL_BRANCH_URL||process.env.NEXT_PUBLIC_VERCEL_BRANCH_URL||null,e=this.config.propagateContextUrls??[],f=this.config.dontPropagateContextUrls??[];if(b?.opentelemetry?.propagateContext)return b.opentelemetry.propagateContext;let g=a.toString();return!(f.length>0&&f.some(a=>"string"==typeof a?"*"===a||g.startsWith(a):a.test(g)))&&(!!c&&"https:"===a.protocol&&(a.host===c||a.host===d||a.host===me()?.headers.host)||!c&&"http:"===a.protocol&&"localhost"===a.hostname||e.some(a=>"string"==typeof a?"*"===a||g.startsWith(a):a.test(g)))}startSpan({tracer:a,url:b,fetchType:c,method:e="GET",name:f,attributes:g={}}){let h=this.config.resourceNameTemplate,i={[cp]:e,[lp]:b.toString(),[As]:b.host,[dp]:b.protocol.replace(":",""),[hp]:b.hostname,[pp]:b.port},j=h?Dh(h,i):pO(b.toString()),k=f??`${c} ${e} ${b.toString()}`,l=d.context.active();return a.startSpan(k,{kind:d.SpanKind.CLIENT,attributes:{...i,"operation.name":`${c}.${e}`,"http.client.name":c,"resource.name":j,...g}},l)}instrumentHttp(a,b){let{tracerProvider:c}=this;if(!c)return;let e=c.getTracer(this.instrumentationName,this.instrumentationVersion),{attributesFromRequestHeaders:f,attributesFromResponseHeaders:g}=this.config,h=a.request,i=a.get,j=a=>(c,h,i)=>{let j,k={},l;if("string"==typeof c||c instanceof URL?(j=new URL(c.toString()),"function"==typeof h?l=h:h&&"function"==typeof i?(k=h,l=i):h&&(k=h)):(k=c,"function"==typeof h&&(l=h),j=fO(k,b)),this.shouldIgnore(j))return a.apply(this,[j,k,l]);let m=this.startSpan({tracer:e,url:j,fetchType:"http",method:k.method||"GET"});if(!m.isRecording()||!er(m.spanContext().traceFlags))return m.end(),a.apply(this,[j,k,l]);if(this.shouldPropagate(j)){let a=d.context.active(),b=d.trace.setSpan(a,m);d.propagation.inject(b,k.headers||{},_O)}f&&ws(m,f,k.headers||{},Bh);try{let b=Date.now(),c=a.apply(this,[j,k,l]);return c.prependListener("response",a=>{let e=Date.now()-b;m.setAttribute("http.response_time",e),void 0!==a.statusCode?(m.setAttribute(Uu,a.statusCode),a.statusCode>=500&&_t(m,`Status: ${a.statusCode}`)):_t(m,"Response status code is undefined"),g&&ws(m,g,a.headers,Bh),1>=c.listenerCount("response")&&a.resume(),a.on("end",()=>{let b,c=a.statusCode;b=a.aborted&&!a.complete?{code:d.SpanStatusCode.ERROR}:c&&c>=100&&c<500?{code:d.SpanStatusCode.UNSET}:{code:d.SpanStatusCode.ERROR},m.setStatus(b),m.isRecording()&&(a.headers["content-length"]&&m.setAttribute(Bu,a.headers["content-length"]),m.end())})}),c.on("error",a=>{m.isRecording()&&(_t(m,a),m.end())}),c.on("close",()=>{m.isRecording()&&m.end()}),c}catch(a){throw _t(m,a),m.end(),a}};a.request=j(h),a.get=j(i)}instrumentFetch(){let{tracerProvider:a}=this;if(!a)return;let b=a.getTracer(this.instrumentationName,this.instrumentationVersion),{attributesFromRequestHeaders:c,attributesFromResponseHeaders:e}=this.config;process.env.NEXT_OTEL_FETCH_DISABLED="1";let f=globalThis.fetch;this.originalFetch=f;let g=async(a,g)=>{let h=g;if(h?.next?.internal)return f(a,h);let i=new Request(a instanceof Request?a.clone():a,h),j=new URL(i.url);if(this.shouldIgnore(j,h))return f(a,h);let k=this.startSpan({tracer:b,url:j,fetchType:"fetch",method:i.method,name:h?.opentelemetry?.spanName,attributes:h?.opentelemetry?.attributes});if(!k.isRecording()||!er(k.spanContext().traceFlags))return k.end(),f(a,h);if(this.shouldPropagate(j,h)){let a=d.context.active(),b=d.trace.setSpan(a,k);d.propagation.inject(b,i.headers,dO)}c&&ws(k,c,i.headers,Uh);try{let b=Date.now();h?.body&&h.body instanceof FormData&&i.headers.delete("content-type");let c=await f(a,{...h,headers:i.headers}),g=Date.now()-b;return k.setAttribute(Uu,c.status),k.setAttribute("http.response_time",g),e&&ws(k,e,c.headers,Uh),c.status>=500&&_t(k,`Status: ${c.status} (${c.statusText})`),c.body?hO(c).then(a=>{k.isRecording()&&(k.setAttribute(Bu,a),k.end())},a=>{k.isRecording()&&(_t(k,a),k.end())}):k.end(),c}catch(a){throw _t(k,a),k.end(),a}};globalThis.fetch=g}enable(){this.disable(),this.instrumentFetch();try{let a=z("node:http"),b=z("node:https");this.instrumentHttp(a,"http:"),this.instrumentHttp(b,"https:")}catch{}}disable(){this.originalFetch&&(globalThis.fetch=this.originalFetch)}},dO={set(a,b,c){a.set(b,c)}},Uh={get(a,b){let c=a.get(b);if(null!==c)return c.includes(",")?c.split(",").map(a=>a.trimStart()):c},keys(a){let b=[];return a.forEach((a,c)=>{b.push(c)}),b}},_O={set(a,b,c){a[b.toLowerCase()]=c}},Bh={get:(a,b)=>a[b.toLowerCase()],keys:a=>Object.keys(a)};function pO(a){let b=a.indexOf("?");return -1===b?a:a.substring(0,b)}function hO(a){let b=0,c=a.clone().body?.getReader();if(!c)return Promise.resolve(0);let d=()=>c.read().then(({done:a,value:c})=>{if(!a)return b+=c.byteLength,d()});return d().then(()=>b)}function _t(a,b){if(b instanceof Error)a.recordException(b),a.setStatus({code:d.SpanStatusCode.ERROR,message:b.message});else{let c=String(b);a.setStatus({code:d.SpanStatusCode.ERROR,message:c})}}function ws(a,b,c,d){for(let[e,f]of Object.entries(b)){let b=d.get(c,f);void 0!==b&&a.setAttribute(e,b)}}function fO(a,b){let c;if(a.socketPath)throw Error("Cannot construct a network URL: options.socketPath is specified, indicating a Unix domain socket.");let d=a.protocol??b;d&&!d.endsWith(":")&&(d+=":");let e=a.hostname,f=a.port??a.defaultPort;if(!e&&a.host){let b=a.host.split(":");e=b[0];let c=b[1];if(b.length>1&&c&&void 0===f){let a=parseInt(c,10);isNaN(a)||(f=a)}}if(e||(e="localhost"),void 0!==f&&""!==f){let a=parseInt(String(f),10);c=isNaN(a)?"https:"===d?443:80:a}else c="https:"===d?443:80;let g=new URL(a.path||"/",`${d}//${e}:${c}`);if(a.auth){let b=a.auth.split(":");g.username=decodeURIComponent(b[0]||""),b.length>1&&(g.password=decodeURIComponent(b[1]||""))}return g}h();var qh=Y(A(),1),EO="00",uc="traceparent",cc="tracestate",jr=class{fields(){return[uc,cc]}inject(a,b,c){let e=d.trace.getSpanContext(a);if(!e||(0,qh.isTracingSuppressed)(a)||!(0,d.isSpanContextValid)(e))return;let f=`${EO}-${e.traceId}-${e.spanId}-0${Number(e.traceFlags||0).toString(16)}`;c.set(b,uc,f),e.traceState&&c.set(b,cc,e.traceState.serialize())}extract(a,b,c){let e=c.get(b,uc);if(!e)return a;let f=Array.isArray(e)?e[0]:e;if("string"!=typeof f)return a;let g=mO(f);if(!g)return a;g.isRemote=!0;let h=c.get(b,cc);if(h){let a=Array.isArray(h)?h.join(","):h;g.traceState=(0,d.createTraceState)("string"==typeof a?a:void 0)}return d.trace.setSpanContext(a,g)}};function mO(a){let[b,c,d,e,f]=a.split("-");return b&&c&&d&&e&&2===b.length&&32===c.length&&16===d.length&&2===e.length&&("00"!==b||!f)?{traceId:c,spanId:d,traceFlags:parseInt(e,16)}:null}h();var xs=class{fields(){return[]}inject(){}extract(a){let b=me();if(!b?.telemetry)return d.diag.warn("@vercel/otel: Vercel telemetry extension not found."),a;let{rootSpanContext:c}=b.telemetry;return c?(d.diag.debug("@vercel/otel: Extracted root SpanContext from Vercel request context.",c),d.trace.setSpanContext(a,{...c,isRemote:!0,traceFlags:c.traceFlags||d.TraceFlags.SAMPLED})):a}};h();var Bs=Y(A(),1),nf=Y(rf(),1),qs=class{export(a,b){let c=me();if(!c?.telemetry){d.diag.warn("@vercel/otel: no telemetry context found"),b({code:Bs.ExportResultCode.SUCCESS,error:void 0});return}try{let e=(0,nf.createExportTraceServiceRequest)(a,{useHex:!0,useLongBits:!1});c.telemetry.reportSpans(e),b({code:Bs.ExportResultCode.SUCCESS,error:void 0})}catch(a){b({code:Bs.ExportResultCode.FAILED,error:a instanceof Error?a:Error(String(a))})}}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}},UO={ALL:d.DiagLogLevel.ALL,VERBOSE:d.DiagLogLevel.VERBOSE,DEBUG:d.DiagLogLevel.DEBUG,INFO:d.DiagLogLevel.INFO,WARN:d.DiagLogLevel.WARN,ERROR:d.DiagLogLevel.ERROR,NONE:d.DiagLogLevel.NONE},Gs=class{constructor(a={}){this.configuration=a}start(){let a=BO(),b=this.configuration,c="nodejs",e=!!a.OTEL_SDK_DISABLED;if(process.env.OTEL_LOG_LEVEL&&d.diag.setLogger(new d.DiagConsoleLogger,{logLevel:UO[process.env.OTEL_LOG_LEVEL.toUpperCase()]}),e)return;let f=b.idGenerator??new C.RandomIdGenerator,g=b.contextManager??new lf.AsyncLocalStorageContextManager;g.enable(),this.contextManager=g;let h=a.OTEL_SERVICE_NAME||b.serviceName||"app",i=new lr.Resource(Os({[fp]:h,"node.ci":!!process.env.CI||void 0,"node.env":"production",env:process.env.VERCEL_ENV||process.env.NEXT_PUBLIC_VERCEL_ENV,"vercel.region":process.env.VERCEL_REGION,"vercel.runtime":c,"vercel.sha":process.env.VERCEL_GIT_COMMIT_SHA||process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,"vercel.host":process.env.VERCEL_URL||process.env.NEXT_PUBLIC_VERCEL_URL||void 0,"vercel.branch_host":process.env.VERCEL_BRANCH_URL||process.env.NEXT_PUBLIC_VERCEL_BRANCH_URL||void 0,"vercel.deployment_id":process.env.VERCEL_DEPLOYMENT_ID||void 0,[Ep]:process.env.VERCEL_DEPLOYMENT_ID,...b.attributes})),j=b.resourceDetectors??[lr.envDetectorSync];if(b.autoDetectResources??!0){let a={detectors:j};i=i.merge((0,lr.detectResourcesSync)(a))}let k=GO(b.propagators,b,a),l=VO(b.traceSampler,a),m=HO(b.spanProcessors,b,a);0===m.length&&d.diag.warn("@vercel/otel: No span processors configured. No spans will be exported.");let n=b.spanLimits,o=new C.BasicTracerProvider({resource:i,idGenerator:f,sampler:l,spanLimits:n});if(o.addSpanProcessor(new Rs(m,b.attributesFromHeaders)),o.register({contextManager:g,propagator:new He.CompositePropagator({propagators:k})}),this.tracerProvider=o,b.logRecordProcessor){let a=new uf.LoggerProvider({resource:i});this.loggerProvider=a,a.addLogRecordProcessor(b.logRecordProcessor),st.logs.setGlobalLoggerProvider(a)}if(b.metricReader||b.views){let a=new cf.MeterProvider({resource:i,views:b.views??[]});b.metricReader&&a.addMetricReader(b.metricReader),d.metrics.setGlobalMeterProvider(a),this.meterProvider=a}let p=qO(b.instrumentations,b.instrumentationConfig);this.disableInstrumentations=(0,af.registerInstrumentations)({instrumentations:p}),d.diag.info("@vercel/otel: started",h,c)}async shutdown(){let a=[];this.tracerProvider&&a.push(this.tracerProvider.shutdown()),this.loggerProvider&&a.push(this.loggerProvider.shutdown()),this.meterProvider&&a.push(this.meterProvider.shutdown()),d.diag.info("@vercel/otel: shutting down",a.length,"nodejs"),await Promise.all(a),this.contextManager&&this.contextManager.disable();let{disableInstrumentations:b}=this;b&&b()}};function BO(){let a=(0,Vs.parseEnvironment)(process.env);return{...Vs.DEFAULT_ENVIRONMENT,...a}}function qO(a,b){return(a??["auto"]).map(a=>"auto"===a?(d.diag.debug("@vercel/otel: Configure instrumentations: fetch",b?.fetch),[new sr(b?.fetch)]):"fetch"===a?(d.diag.debug("@vercel/otel: Configure instrumentations: fetch",b?.fetch),new sr(b?.fetch)):a).flat()}function GO(a,b,c){let e=process.env.OTEL_PROPAGATORS&&c.OTEL_PROPAGATORS&&c.OTEL_PROPAGATORS.length>0?c.OTEL_PROPAGATORS:void 0;return(a??e??["auto"]).map(a=>{if("none"===a)return[];if("auto"===a){let a=[];return a.push({name:"tracecontext",propagator:new jr}),a.push({name:"baggage",propagator:new He.W3CBaggagePropagator}),a.push({name:"vercel-runtime",propagator:new xs}),d.diag.debug(`@vercel/otel: Configure propagators: ${a.map(a=>a.name).join(", ")}`),a.map(a=>a.propagator)}if("tracecontext"===a)return d.diag.debug("@vercel/otel: Configure propagator: tracecontext"),new jr;if("baggage"===a)return d.diag.debug("@vercel/otel: Configure propagator: baggage"),new He.W3CBaggagePropagator;if("string"==typeof a)throw Error(`Unknown propagator: "${a}"`);return a}).flat()}var sf="always_on",cr=1;function VO(a,b){if(a&&"string"!=typeof a)return a;let c=a&&"auto"!==a?a:b.OTEL_TRACES_SAMPLER||sf;switch(d.diag.debug("@vercel/otel: Configure sampler: ",c),c){case"always_on":return new C.AlwaysOnSampler;case"always_off":return new C.AlwaysOffSampler;case"parentbased_always_on":return new C.ParentBasedSampler({root:new C.AlwaysOnSampler});case"parentbased_always_off":return new C.ParentBasedSampler({root:new C.AlwaysOffSampler});case"traceidratio":return new C.TraceIdRatioBasedSampler(of(b));case"parentbased_traceidratio":return new C.ParentBasedSampler({root:new C.TraceIdRatioBasedSampler(of(b))});default:return d.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER value "${String(b.OTEL_TRACES_SAMPLER)} invalid, defaulting to ${sf}".`),new C.AlwaysOnSampler}}function of(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return d.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${cr}.`),cr;d.diag.debug("@vercel/otel: Configure sampler probability: ",a.OTEL_TRACES_SAMPLER_ARG);let b=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(b)?(d.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${cr}.`),cr):b<0||b>1?(d.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${cr}.`),cr):b}function HO(a,b,c){return[...(a??["auto"]).flatMap(a=>{if("auto"===a){let a=[new C.BatchSpanProcessor(new qs)];if(process.env.VERCEL_OTEL_ENDPOINTS){let b=process.env.VERCEL_OTEL_ENDPOINTS_PORT||"4318",c=process.env.VERCEL_OTEL_ENDPOINTS_PROTOCOL||"http/protobuf";d.diag.debug("@vercel/otel: Configure vercel otel collector on port: ",b,c);let e={url:`http://localhost:${b}/v1/traces`,headers:{}},f="http/protobuf"===c?new dt(e):new rr(e);a.push(new C.BatchSpanProcessor(f))}else(!b.traceExporter||"auto"===b.traceExporter||c.OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||c.OTEL_EXPORTER_OTLP_ENDPOINT)&&a.push(new C.BatchSpanProcessor(jO(c)));return a}return a}).filter($O),...b.traceExporter&&"auto"!==b.traceExporter?[new C.BatchSpanProcessor(b.traceExporter)]:[]]}function jO(a){let b=process.env.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL??process.env.OTEL_EXPORTER_OTLP_PROTOCOL??"http/protobuf",c=kO(a),e={...He.baggageUtils.parseKeyPairsIntoRecord(a.OTEL_EXPORTER_OTLP_HEADERS),...He.baggageUtils.parseKeyPairsIntoRecord(a.OTEL_EXPORTER_OTLP_TRACES_HEADERS)};switch(d.diag.debug("@vercel/otel: Configure trace exporter: ",b,c,`headers: ${Object.keys(e).join(",")||"<none>"}`),b){case"http/json":return new rr({url:c,headers:e});case"http/protobuf":return new dt({url:c,headers:e});default:return d.diag.warn(`@vercel/otel: Unsupported OTLP traces protocol: ${b}. Using http/protobuf.`),new dt}}var df="v1/traces",FO=`http://localhost:4318/${df}`;function kO(a){let b=a.OTEL_EXPORTER_OTLP_TRACES_ENDPOINT;if(b&&"string"==typeof b)return b;let c=a.OTEL_EXPORTER_OTLP_ENDPOINT;return c&&"string"==typeof c?`${c}/${df}`:FO}function $O(a){return null!=a}function xv(a){let b;new Gs(b=a?"string"==typeof a?{serviceName:a}:a:{}).start()}},764587:(a,b,c)=>{c.r(b),c.d(b,{DiagConsoleLogger:()=>L,DiagLogLevel:()=>d,INVALID_SPANID:()=>ao,INVALID_SPAN_CONTEXT:()=>aq,INVALID_TRACEID:()=>ap,ProxyTracer:()=>aJ,ProxyTracerProvider:()=>aL,ROOT_CONTEXT:()=>J,SamplingDecision:()=>g,SpanKind:()=>h,SpanStatusCode:()=>i,TraceFlags:()=>f,ValueType:()=>e,baggageEntryMetadataFromString:()=>H,context:()=>aY,createContextKey:()=>I,createNoopMeter:()=>ad,createTraceState:()=>aX,default:()=>bc,defaultTextMapGetter:()=>ae,defaultTextMapSetter:()=>af,diag:()=>aZ,isSpanContextValid:()=>aD,isValidSpanId:()=>aC,isValidTraceId:()=>aB,metrics:()=>a0,propagation:()=>a9,trace:()=>bb});var d,e,f,g,h,i,j="object"==typeof globalThis?globalThis:global,k="1.9.0",l=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,m=function(a){var b=new Set([a]),c=new Set,d=a.match(l);if(!d)return function(){return!1};var e={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=e.prerelease)return function(b){return b===a};function f(a){return c.add(a),!1}function g(a){return b.add(a),!0}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;var d=a.match(l);if(!d)return f(a);var h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return null!=h.prerelease||e.major!==h.major?f(a):0===e.major?e.minor===h.minor&&e.patch<=h.patch?g(a):f(a):e.minor<=h.minor?g(a):f(a)}}(k),n=Symbol.for("opentelemetry.js.api."+k.split(".")[0]),o=j;function p(a,b,c,d){void 0===d&&(d=!1);var e,f=o[n]=null!=(e=o[n])?e:{version:k};if(!d&&f[a]){var g=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return c.error(g.stack||g.message),!1}if(f.version!==k){var g=Error("@opentelemetry/api: Registration of version v"+f.version+" for "+a+" does not match previously registered API v"+k);return c.error(g.stack||g.message),!1}return f[a]=b,c.debug("@opentelemetry/api: Registered a global for "+a+" v"+k+"."),!0}function q(a){var b,c,d=null==(b=o[n])?void 0:b.version;if(d&&m(d))return null==(c=o[n])?void 0:c[a]}function r(a,b){b.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+k+".");var c=o[n];c&&delete c[a]}var s=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},t=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},u=function(){function a(a){this._namespace=a.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return v("debug",this._namespace,a)},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return v("error",this._namespace,a)},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return v("info",this._namespace,a)},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return v("warn",this._namespace,a)},a.prototype.verbose=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return v("verbose",this._namespace,a)},a}();function v(a,b,c){var d=q("diag");if(d)return c.unshift(b),d[a].apply(d,t([],s(c),!1))}function w(a,b){function c(c,d){var e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.NONE?a=d.NONE:a>d.ALL&&(a=d.ALL),b=b||{},{error:c("error",d.ERROR),warn:c("warn",d.WARN),info:c("info",d.INFO),debug:c("debug",d.DEBUG),verbose:c("verbose",d.VERBOSE)}}!function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(d||(d={}));var x=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},y=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},z="diag",A=function(){function a(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=q("diag");if(d)return d[a].apply(d,y([],x(b),!1))}}var b=this,c=function(a,c){if(void 0===c&&(c={logLevel:d.INFO}),a===b){var e,f,g,h=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(e=h.stack)?e:h.message),!1}"number"==typeof c&&(c={logLevel:c});var i=q("diag"),j=w(null!=(f=c.logLevel)?f:d.INFO,a);if(i&&!c.suppressOverrideMessage){var k=null!=(g=Error().stack)?g:"<failed to generate stacktrace>";i.warn("Current logger will be overwritten from "+k),j.warn("Current logger will overwrite one already registered from "+k)}return p("diag",j,b,!0)};b.setLogger=c,b.disable=function(){r(z,b)},b.createComponentLogger=function(a){return new u(a)},b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}(),B=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},C=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},D=function(){function a(a){this._entries=a?new Map(a):new Map}return a.prototype.getEntry=function(a){var b=this._entries.get(a);if(b)return Object.assign({},b)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(a){var b=B(a,2);return[b[0],b[1]]})},a.prototype.setEntry=function(b,c){var d=new a(this._entries);return d._entries.set(b,c),d},a.prototype.removeEntry=function(b){var c=new a(this._entries);return c._entries.delete(b),c},a.prototype.removeEntries=function(){for(var b,c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=new a(this._entries);try{for(var g=C(d),h=g.next();!h.done;h=g.next()){var i=h.value;f._entries.delete(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a.prototype.clear=function(){return new a},a}(),E=Symbol("BaggageEntryMetadata"),F=A.instance();function G(a){return void 0===a&&(a={}),new D(new Map(Object.entries(a)))}function H(a){return"string"!=typeof a&&(F.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:E,toString:function(){return a}}}function I(a){return Symbol.for(a)}var J=new(function(){function a(b){var c=this;c._currentContext=b?new Map(b):new Map,c.getValue=function(a){return c._currentContext.get(a)},c.setValue=function(b,d){var e=new a(c._currentContext);return e._currentContext.set(b,d),e},c.deleteValue=function(b){var d=new a(c._currentContext);return d._currentContext.delete(b),d}}return a}()),K=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],L=function(){return function(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(console){var d=console[a];if("function"!=typeof d&&(d=console.log),"function"==typeof d)return d.apply(console,b)}}}for(var b=0;b<K.length;b++)this[K[b].n]=a(K[b].c)}}(),M=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),N=function(){function a(){}return a.prototype.createGauge=function(a,b){return Z},a.prototype.createHistogram=function(a,b){return $},a.prototype.createCounter=function(a,b){return Y},a.prototype.createUpDownCounter=function(a,b){return _},a.prototype.createObservableGauge=function(a,b){return ab},a.prototype.createObservableCounter=function(a,b){return aa},a.prototype.createObservableUpDownCounter=function(a,b){return ac},a.prototype.addBatchObservableCallback=function(a,b){},a.prototype.removeBatchObservableCallback=function(a){},a}(),O=function(){return function(){}}(),P=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b.prototype.add=function(a,b){},b}(O),Q=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b.prototype.add=function(a,b){},b}(O),R=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b.prototype.record=function(a,b){},b}(O),S=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b.prototype.record=function(a,b){},b}(O),T=function(){function a(){}return a.prototype.addCallback=function(a){},a.prototype.removeCallback=function(a){},a}(),U=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b}(T),V=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b}(T),W=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return M(b,a),b}(T),X=new N,Y=new P,Z=new R,$=new S,_=new Q,aa=new U,ab=new V,ac=new W;function ad(){return X}!function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(e||(e={}));var ae={get:function(a,b){if(null!=a)return a[b]},keys:function(a){return null==a?[]:Object.keys(a)}},af={set:function(a,b,c){null!=a&&(a[b]=c)}},ag=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ah=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ai=function(){function a(){}return a.prototype.active=function(){return J},a.prototype.with=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];return b.call.apply(b,ah([c],ag(d),!1))},a.prototype.bind=function(a,b){return b},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),aj=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ak=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},al="context",am=new ai,an=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(a){return p(al,a,A.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(a,b,c){for(var d,e=[],f=3;f<arguments.length;f++)e[f-3]=arguments[f];return(d=this._getContextManager()).with.apply(d,ak([a,b,c],aj(e),!1))},a.prototype.bind=function(a,b){return this._getContextManager().bind(a,b)},a.prototype._getContextManager=function(){return q(al)||am},a.prototype.disable=function(){this._getContextManager().disable(),r(al,A.instance())},a}();!function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(f||(f={}));var ao="0000000000000000",ap="00000000000000000000000000000000",aq={traceId:ap,spanId:ao,traceFlags:f.NONE},ar=function(){function a(a){void 0===a&&(a=aq),this._spanContext=a}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return this},a.prototype.setAttributes=function(a){return this},a.prototype.addEvent=function(a,b){return this},a.prototype.addLink=function(a){return this},a.prototype.addLinks=function(a){return this},a.prototype.setStatus=function(a){return this},a.prototype.updateName=function(a){return this},a.prototype.end=function(a){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(a,b){},a}(),as=I("OpenTelemetry Context Key SPAN");function at(a){return a.getValue(as)||void 0}function au(){return at(an.getInstance().active())}function av(a,b){return a.setValue(as,b)}function aw(a){return a.deleteValue(as)}function ax(a,b){return av(a,new ar(b))}function ay(a){var b;return null==(b=at(a))?void 0:b.spanContext()}var az=/^([0-9a-f]{32})$/i,aA=/^[0-9a-f]{16}$/i;function aB(a){return az.test(a)&&a!==ap}function aC(a){return aA.test(a)&&a!==ao}function aD(a){return aB(a.traceId)&&aC(a.spanId)}function aE(a){return new ar(a)}var aF=an.getInstance(),aG=function(){function a(){}return a.prototype.startSpan=function(a,b,c){if(void 0===c&&(c=aF.active()),null==b?void 0:b.root)return new ar;var d=c&&ay(c);return aH(d)&&aD(d)?new ar(d):new ar},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?g=b:3==arguments.length?(e=b,g=c):(e=b,f=c,g=d);var e,f,g,h=null!=f?f:aF.active(),i=this.startSpan(a,e,h),j=av(h,i);return aF.with(j,g,void 0,i)}},a}();function aH(a){return"object"==typeof a&&"string"==typeof a.spanId&&"string"==typeof a.traceId&&"number"==typeof a.traceFlags}var aI=new aG,aJ=function(){function a(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}return a.prototype.startSpan=function(a,b,c){return this._getTracer().startSpan(a,b,c)},a.prototype.startActiveSpan=function(a,b,c,d){var e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):aI},a}(),aK=new(function(){function a(){}return a.prototype.getTracer=function(a,b,c){return new aG},a}()),aL=function(){function a(){}return a.prototype.getTracer=function(a,b,c){var d;return null!=(d=this.getDelegateTracer(a,b,c))?d:new aJ(this,a,b,c)},a.prototype.getDelegate=function(){var a;return null!=(a=this._delegate)?a:aK},a.prototype.setDelegate=function(a){this._delegate=a},a.prototype.getDelegateTracer=function(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)},a}();!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(g||(g={})),function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(h||(h={})),function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(i||(i={}));var aM="[_0-9a-z-*/]",aN=RegExp("^(?:[a-z]"+aM+"{0,255}|"+("[a-z0-9]"+aM+"{0,240}@[a-z]"+aM)+"{0,13})$"),aO=/^[ -~]{0,255}[!-~]$/,aP=/,|=/;function aQ(a){return aN.test(a)}function aR(a){return aO.test(a)&&!aP.test(a)}var aS=32,aT=512,aU=",",aV="=",aW=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+aV+a.get(c)),b},[]).join(aU)},a.prototype._parse=function(a){!(a.length>aT)&&(this._internalState=a.split(aU).reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf(aV);if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);aQ(e)&&aR(f)&&a.set(e,f)}return a},new Map),this._internalState.size>aS&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,aS))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}();function aX(a){return new aW(a)}var aY=an.getInstance(),aZ=A.instance(),a$=new(function(){function a(){}return a.prototype.getMeter=function(a,b,c){return X},a}()),a_="metrics",a0=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalMeterProvider=function(a){return p(a_,a,A.instance())},a.prototype.getMeterProvider=function(){return q(a_)||a$},a.prototype.getMeter=function(a,b,c){return this.getMeterProvider().getMeter(a,b,c)},a.prototype.disable=function(){r(a_,A.instance())},a})().getInstance(),a1=function(){function a(){}return a.prototype.inject=function(a,b){},a.prototype.extract=function(a,b){return a},a.prototype.fields=function(){return[]},a}(),a2=I("OpenTelemetry Baggage Key");function a3(a){return a.getValue(a2)||void 0}function a4(){return a3(an.getInstance().active())}function a5(a,b){return a.setValue(a2,b)}function a6(a){return a.deleteValue(a2)}var a7="propagation",a8=new a1,a9=(function(){function a(){this.createBaggage=G,this.getBaggage=a3,this.getActiveBaggage=a4,this.setBaggage=a5,this.deleteBaggage=a6}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(a){return p(a7,a,A.instance())},a.prototype.inject=function(a,b,c){return void 0===c&&(c=af),this._getGlobalPropagator().inject(a,b,c)},a.prototype.extract=function(a,b,c){return void 0===c&&(c=ae),this._getGlobalPropagator().extract(a,b,c)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){r(a7,A.instance())},a.prototype._getGlobalPropagator=function(){return q(a7)||a8},a})().getInstance(),ba="trace",bb=(function(){function a(){this._proxyTracerProvider=new aL,this.wrapSpanContext=aE,this.isSpanContextValid=aD,this.deleteSpan=aw,this.getSpan=at,this.getActiveSpan=au,this.getSpanContext=ay,this.setSpan=av,this.setSpanContext=ax}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(a){var b=p(ba,this._proxyTracerProvider,A.instance());return b&&this._proxyTracerProvider.setDelegate(a),b},a.prototype.getTracerProvider=function(){return q(ba)||this._proxyTracerProvider},a.prototype.getTracer=function(a,b){return this.getTracerProvider().getTracer(a,b)},a.prototype.disable=function(){r(ba,A.instance()),this._proxyTracerProvider=new aL},a})().getInstance();let bc={context:aY,diag:aZ,metrics:a0,propagation:a9,trace:bb}},977165:(a,b,c)=>{var d;c.r(b),c.d(b,{NOOP_LOGGER:()=>f,NOOP_LOGGER_PROVIDER:()=>h,NoopLogger:()=>e,NoopLoggerProvider:()=>g,ProxyLogger:()=>i,ProxyLoggerProvider:()=>j,SeverityNumber:()=>d,logs:()=>q}),function(a){a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.TRACE=1]="TRACE",a[a.TRACE2=2]="TRACE2",a[a.TRACE3=3]="TRACE3",a[a.TRACE4=4]="TRACE4",a[a.DEBUG=5]="DEBUG",a[a.DEBUG2=6]="DEBUG2",a[a.DEBUG3=7]="DEBUG3",a[a.DEBUG4=8]="DEBUG4",a[a.INFO=9]="INFO",a[a.INFO2=10]="INFO2",a[a.INFO3=11]="INFO3",a[a.INFO4=12]="INFO4",a[a.WARN=13]="WARN",a[a.WARN2=14]="WARN2",a[a.WARN3=15]="WARN3",a[a.WARN4=16]="WARN4",a[a.ERROR=17]="ERROR",a[a.ERROR2=18]="ERROR2",a[a.ERROR3=19]="ERROR3",a[a.ERROR4=20]="ERROR4",a[a.FATAL=21]="FATAL",a[a.FATAL2=22]="FATAL2",a[a.FATAL3=23]="FATAL3",a[a.FATAL4=24]="FATAL4"}(d||(d={}));class e{emit(a){}}let f=new e;class g{getLogger(a,b,c){return new e}}let h=new g;class i{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}emit(a){this._getLogger().emit(a)}_getLogger(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateLogger(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):f}}class j{getLogger(a,b,c){var d;return null!=(d=this.getDelegateLogger(a,b,c))?d:new i(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:h}setDelegate(a){this._delegate=a}getDelegateLogger(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getLogger(a,b,c)}}let k="object"==typeof globalThis?globalThis:global,l=Symbol.for("io.opentelemetry.js.api.logs"),m=k;function n(a,b,c){return d=>d===a?b:c}let o=1;class p{constructor(){this._proxyLoggerProvider=new j}static getInstance(){return this._instance||(this._instance=new p),this._instance}setGlobalLoggerProvider(a){return m[l]?this.getLoggerProvider():(m[l]=n(o,a,h),this._proxyLoggerProvider.setDelegate(a),a)}getLoggerProvider(){var a,b;return null!=(b=null==(a=m[l])?void 0:a.call(m,o))?b:this._proxyLoggerProvider}getLogger(a,b,c){return this.getLoggerProvider().getLogger(a,b,c)}disable(){delete m[l],this._proxyLoggerProvider=new j}}let q=p.getInstance()}};