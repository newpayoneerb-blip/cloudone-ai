"use strict";exports.id=521,exports.ids=[521],exports.modules={183964:(a,b,c)=>{function d(){return"undefined"!=typeof window}function e(){return!d()}c.d(b,{B:()=>d,S:()=>e})},195825:(a,b,c)=>{c.r(b),c.d(b,{remoteMiddlewares:()=>h});var d=c(508524),e=c(792912),f=c(671676),g=c(977137);function h(a,b,c){var h;return(0,d.sH)(this,void 0,void 0,function(){var i,j=this;return(0,d.YH)(this,function(k){switch(k.label){case 0:if((0,e.S)())return[2,[]];return i=(0,g.YM)(),[4,Promise.all(Object.entries(null!=(h=b.enabledMiddleware)?h:{}).filter(function(a){return a[0],a[1]}).map(function(a){return a[0]}).map(function(b){return(0,d.sH)(j,void 0,void 0,function(){var e,g,h,j;return(0,d.YH)(this,function(d){switch(d.label){case 0:g=e=b.replace("@segment/",""),c&&(g=btoa(e).replace(/=/g,"")),h="".concat(i,"/middleware/").concat(g,"/latest/").concat(g,".js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,f.k)(h)];case 2:return d.sent(),[2,window["".concat(e,"Middleware")]];case 3:return j=d.sent(),a.log("error",j),a.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}))];case 1:return[2,k.sent().filter(Boolean)]}})})}},354197:(a,b,c)=>{c.d(b,{I2:()=>j,YM:()=>k,qQ:()=>i});var d,e=c(375201),f=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,g=function(){var a;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(b){var c,d=null!=(c=b.getAttribute("src"))?c:"",e=f.exec(d);e&&e[1]&&(a=e[1])}),a},h=function(){var a;return null!=d?d:null==(a=(0,e.kJ)())?void 0:a._cdn},i=function(a){var b=(0,e.kJ)();b&&(b._cdn=a),d=a},j=function(){var a=h();if(a)return a;var b=g();return b||"https://cdn.hightouch-events.com"},k=function(){var a=j();return"".concat(a,"/next-integrations")}},375201:(a,b,c)=>{c.d(b,{Ud:()=>g,kJ:()=>e,rY:()=>f});var d="htevents";function e(){return window[d]}function f(a){d=a}function g(a){window[d]=a}},556093:(a,b,c)=>{c.d(b,{Ud:()=>g,kJ:()=>e,rY:()=>f});var d="analytics";function e(){return window[d]}function f(a){d=a}function g(a){window[d]=a}},589173:(a,b,c)=>{c.r(b),c.d(b,{remoteMiddlewares:()=>h});var d=c(508524),e=c(183964),f=c(839576),g=c(354197);function h(a,b,c){var h;return(0,d.sH)(this,void 0,void 0,function(){var i,j=this;return(0,d.YH)(this,function(k){switch(k.label){case 0:if((0,e.S)())return[2,[]];return i=(0,g.YM)(),[4,Promise.all(Object.entries(null!=(h=b.enabledMiddleware)?h:{}).filter(function(a){return a[0],a[1]}).map(function(a){return a[0]}).map(function(b){return(0,d.sH)(j,void 0,void 0,function(){var e,g,h,j;return(0,d.YH)(this,function(d){switch(d.label){case 0:g=e=b.replace("@segment/",""),c&&(g=btoa(e).replace(/=/g,"")),h="".concat(i,"/middleware/").concat(g,"/latest/").concat(g,".js.gz"),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,f.k)(h)];case 2:return d.sent(),[2,window["".concat(e,"Middleware")]];case 3:return j=d.sent(),a.log("error",j),a.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}))];case 1:return[2,k.sent().filter(Boolean)]}})})}},671676:(a,b,c)=>{function d(a){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(b){return b.src===a})}function e(a,b){var c=d(a);if(void 0!==c){var e=null==c?void 0:c.getAttribute("status");if("loaded"===e)return Promise.resolve(c);if("loading"===e)return new Promise(function(a,b){c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(a){return b(a)})})}return new Promise(function(c,d){var e,f=window.document.createElement("script");f.type="text/javascript",f.src=a,f.async=!0,f.setAttribute("status","loading");for(var g=0,h=Object.entries(null!=b?b:{});g<h.length;g++){var i=h[g],j=i[0],k=i[1];f.setAttribute(j,k)}f.onload=function(){f.onerror=f.onload=null,f.setAttribute("status","loaded"),c(f)},f.onerror=function(){f.onerror=f.onload=null,f.setAttribute("status","error"),d(Error("Failed to load ".concat(a)))};var l=window.document.querySelector("script");l?null==(e=l.parentElement)||e.insertBefore(f,l):window.document.head.appendChild(f)})}function f(a){var b=d(a);return void 0!==b&&b.remove(),Promise.resolve()}c.d(b,{d:()=>f,k:()=>e})},792912:(a,b,c)=>{function d(){return"undefined"!=typeof window}function e(){return!d()}c.d(b,{B:()=>d,S:()=>e})},839576:(a,b,c)=>{function d(a){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(b){return b.src===a})}function e(a,b){var c=d(a);if(void 0!==c){var e=null==c?void 0:c.getAttribute("status");if("loaded"===e)return Promise.resolve(c);if("loading"===e)return new Promise(function(a,b){c.addEventListener("load",function(){return a(c)}),c.addEventListener("error",function(a){return b(a)})})}return new Promise(function(c,d){var e,f=window.document.createElement("script");f.type="text/javascript",f.src=a,f.async=!0,f.setAttribute("status","loading");for(var g=0,h=Object.entries(null!=b?b:{});g<h.length;g++){var i=h[g],j=i[0],k=i[1];f.setAttribute(j,k)}f.onload=function(){f.onerror=f.onload=null,f.setAttribute("status","loaded"),c(f)},f.onerror=function(){f.onerror=f.onload=null,f.setAttribute("status","error"),d(Error("Failed to load ".concat(a)))};var l=window.document.getElementsByTagName("script")[0];null==(e=l.parentElement)||e.insertBefore(f,l)})}function f(a){var b=d(a);return void 0!==b&&b.remove(),Promise.resolve()}c.d(b,{d:()=>f,k:()=>e})},977137:(a,b,c)=>{c.d(b,{I2:()=>j,YM:()=>k,qQ:()=>i});var d,e=c(556093),f=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,g=function(){var a;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(b){var c,d=null!=(c=b.getAttribute("src"))?c:"",e=f.exec(d);e&&e[1]&&(a=e[1])}),a},h=function(){var a;return null!=d?d:null==(a=(0,e.kJ)())?void 0:a._cdn},i=function(a){var b=(0,e.kJ)();b&&(b._cdn=a),d=a},j=function(){var a=h();if(a)return a;var b=g();return b||"https://cdn.segment.com"},k=function(){var a=j();return"".concat(a,"/next-integrations")}}};