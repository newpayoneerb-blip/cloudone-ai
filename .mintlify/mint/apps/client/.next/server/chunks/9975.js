"use strict";exports.id=9975,exports.ids=[9975],exports.modules={39975:(a,b,c)=>{c.r(b),c.d(b,{Analytics:()=>aD,AnalyticsBrowser:()=>aV,AnalyticsNode:()=>aX,Context:()=>m.o,ContextCancelation:()=>m.d,EventFactory:()=>C,Group:()=>$,UniversalStorage:()=>N,User:()=>Y,getGlobalAnalytics:()=>ab.kJ,isDestinationPluginWithAddMiddleware:()=>D,resolveAliasArguments:()=>k,resolveArguments:()=>h,resolvePageArguments:()=>i,resolveUserArguments:()=>j,segmentio:()=>ax});var d,e,f=c(508524),g=c(888398);function h(a,b,c,d){var e,f=[a,b,c,d],h=(0,g.Qd)(a)?a.event:a;if(!h||!(0,g.Kg)(h))throw Error("Event missing");var i=(0,g.Qd)(a)?null!=(e=a.properties)?e:{}:(0,g.Qd)(b)?b:{},j={};return(0,g.Tn)(c)||(j=null!=c?c:{}),(0,g.Qd)(a)&&!(0,g.Tn)(b)&&(j=null!=b?b:{}),[h,i,j,f.find(g.Tn)]}function i(a,b,c,d,e){var f,h,i=null,j=null,k=[a,b,c,d,e],l=k.filter(g.Kg);1===l.length?(j=(0,g.Kg)(k[1])?k[1]:l[0],i=null):2===l.length&&("string"==typeof k[0]&&(i=k[0]),"string"==typeof k[1]&&(j=k[1]));var m=k.find(g.Tn),n=k.filter(g.Qd);return 1===n.length?(0,g.Qd)(k[2])?(h={},f=k[2]):(0,g.Qd)(k[3])?(f={},h=k[3]):(f=n[0],h={}):2===n.length&&(f=n[0],h=n[1]),[i,j,null!=f?f:f={},null!=h?h:h={},m]}var j=function(a){return function(){for(var b,c,d,e=[],f=0;f<arguments.length;f++)e[f]=arguments[f];for(var h={},i=["callback","options","traits","id"],j=0;j<e.length;j++){var k=e[j],l=i.pop();if("id"===l){if((0,g.Kg)(k)||(0,g.Et)(k)){h.id=k.toString();continue}if(null==k)continue;l=i.pop()}if(("traits"===l||"options"===l)&&(null==k||(0,g.Qd)(k))&&(h[l]=k),(0,g.Tn)(k)){h.callback=k;break}}return[null!=(b=h.id)?b:a.id(),null!=(c=h.traits)?c:{},null!=(d=h.options)?d:{},h.callback]}};function k(a,b,c,d){(0,g.Et)(a)&&(a=a.toString()),(0,g.Et)(b)&&(b=b.toString());var e=[a,b,c,d],f=e.filter(g.Kg),h=f[0],i=void 0===h?a:h,j=f[1],k=e.filter(g.Qd)[0];return[i,void 0===j?null:j,void 0===k?{}:k,e.find(g.Tn)]}var l=c(819431),m=c(153814),n=c(380687),o=c(666228),p=c(107090),q=function(a,b,c,d,e,f){return{__t:"bpc",c:b,p:d,u:a,s:c,t:e,r:f}},r=Object.keys(q("","","","","","")),s=function(a){var b=a.indexOf("#");return -1===b?a:a.slice(0,b)},t=function(a){try{return new URL(a).pathname}catch(b){return"/"===a[0]?a:"/"+a}},u=function(a){var b=a.c,c=a.p,d=a.s,e=a.u,f=a.r,g=a.t,h=b?t(b):c,i=b?b.indexOf("?")>-1?b:b+d:s(e);return{path:h,referrer:f,search:d,title:g,url:i}},v=function(){var a=document.querySelector("link[rel='canonical']");return q(location.href,a&&a.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},w=function(a,b){void 0===b&&(b=u(v()));var c,d,e,g=a.context;"page"===a.type&&(e=a.properties&&(c=a.properties,d=Object.keys(b),Object.assign.apply(Object,(0,f.fX)([{}],d.map(function(a){var b;if(c&&Object.prototype.hasOwnProperty.call(c,a))return(b={})[a]=c[a],b}),!1))),a.properties=(0,f.Cl)((0,f.Cl)((0,f.Cl)({},b),a.properties),a.name?{name:a.name}:{})),g.page=(0,f.Cl)((0,f.Cl)((0,f.Cl)({},b),e),g.page)},x=c(212418),y=function(a){function b(b,c){var d=a.call(this,"".concat(b," ").concat(c))||this;return d.field=b,d}return(0,f.C6)(b,a),b}(Error),z="is not a string",A="is not an object",B=function(a){var b,c;this.settings=a,this.createMessageId=a.createMessageId,this.onEventMethodCall=null!=(b=a.onEventMethodCall)?b:function(){},this.onFinishedEvent=null!=(c=a.onFinishedEvent)?c:function(){}},C=function(a){function b(b){var c=a.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,p.v4)())},onEventMethodCall:function(a){var b=a.options;c.maybeUpdateAnonId(b)},onFinishedEvent:function(a){return c.addIdentity(a),a}})||this;return c.user=b,c}return(0,f.C6)(b,a),b.prototype.maybeUpdateAnonId=function(a){(null==a?void 0:a.anonymousId)&&this.user.anonymousId(a.anonymousId)},b.prototype.addIdentity=function(a){this.user.id()&&(a.userId=this.user.id()),this.user.anonymousId()&&(a.anonymousId=this.user.anonymousId())},b.prototype.track=function(b,c,d,e,f){var g=a.prototype.track.call(this,b,c,d,e);return w(g,f),g},b.prototype.page=function(b,c,d,e,f,g){var h=a.prototype.page.call(this,b,c,d,e,f);return w(h,g),h},b.prototype.screen=function(b,c,d,e,f,g){var h=a.prototype.screen.call(this,b,c,d,e,f);return w(h,g),h},b.prototype.identify=function(b,c,d,e,f){var g=a.prototype.identify.call(this,b,c,d,e);return w(g,f),g},b.prototype.group=function(b,c,d,e,f){var g=a.prototype.group.call(this,b,c,d,e);return w(g,f),g},b.prototype.alias=function(b,c,d,e,f){var g=a.prototype.alias.call(this,b,c,d,e);return w(g,f),g},b}(function(){function a(a){this.settings=new B(a)}return a.prototype.track=function(a,b,c,d){return this.settings.onEventMethodCall({type:"track",options:c}),this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),{event:a,type:"track",properties:null!=b?b:{},options:(0,f.Cl)({},c),integrations:(0,f.Cl)({},d)}))},a.prototype.page=function(a,b,c,d,e){this.settings.onEventMethodCall({type:"page",options:d});var g,h={type:"page",properties:(0,f.Cl)({},c),options:(0,f.Cl)({},d),integrations:(0,f.Cl)({},e)};return null!==a&&(h.category=a,h.properties=null!=(g=h.properties)?g:{},h.properties.category=a),null!==b&&(h.name=b),this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),h))},a.prototype.screen=function(a,b,c,d,e){this.settings.onEventMethodCall({type:"screen",options:d});var g={type:"screen",properties:(0,f.Cl)({},c),options:(0,f.Cl)({},d),integrations:(0,f.Cl)({},e)};return null!==a&&(g.category=a),null!==b&&(g.name=b),this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),g))},a.prototype.identify=function(a,b,c,d){return this.settings.onEventMethodCall({type:"identify",options:c}),this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),{type:"identify",userId:a,traits:null!=b?b:{},options:(0,f.Cl)({},c),integrations:d}))},a.prototype.group=function(a,b,c,d){return this.settings.onEventMethodCall({type:"group",options:c}),this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),{type:"group",traits:null!=b?b:{},options:(0,f.Cl)({},c),integrations:(0,f.Cl)({},d),groupId:a}))},a.prototype.alias=function(a,b,c,d){this.settings.onEventMethodCall({type:"alias",options:c});var e={userId:a,type:"alias",options:(0,f.Cl)({},c),integrations:(0,f.Cl)({},d)};return(null!==b&&(e.previousId=b),void 0===a)?this.normalize((0,f.Cl)((0,f.Cl)({},e),this.baseEvent())):this.normalize((0,f.Cl)((0,f.Cl)({},this.baseEvent()),e))},a.prototype.baseEvent=function(){return{integrations:{},options:{}}},a.prototype.context=function(a){var b,c=["userId","anonymousId","timestamp","messageId"];delete a.integrations;var d=Object.keys(a),e=null!=(b=a.context)?b:{},f={};return d.forEach(function(b){"context"!==b&&(c.includes(b)?(0,x.J)(f,b,a[b]):(0,x.J)(e,b,a[b]))}),[e,f]},a.prototype.normalize=function(a){var b,c,d,e=Object.keys(null!=(c=a.integrations)?c:{}).reduce(function(b,c){var d,e;return(0,f.Cl)((0,f.Cl)({},b),((d={})[c]=!!(null==(e=a.integrations)?void 0:e[c]),d))},{});b=a.options||{},a.options=Object.keys(b).filter(function(a){return function(a,b){return void 0!==b}(a,b[a])}).reduce(function(a,c){return a[c]=b[c],a},{});var h=(0,f.Cl)((0,f.Cl)({},e),null==(d=a.options)?void 0:d.integrations),i=a.options?this.context(a.options):[],j=i[0],k=i[1],l=a.options,m=(0,f.Tt)(a,["options"]),n=(0,f.Cl)((0,f.Cl)((0,f.Cl)((0,f.Cl)({timestamp:new Date},m),{context:j,integrations:h}),k),{messageId:l.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(n),!function(a){if(!(0,g.t2)(a))throw new y("Event","is nil");if("object"!=typeof a)throw new y("Event",A);if(!(0,g.Kg)(a.type))throw new y(".type",z);if(!(0,g.Kg)(a.messageId))throw new y(".messageId",z);if("track"===a.type){if(!(0,g.Kg)(a.event))throw new y(".event",z);if(!(0,g.Qd)(a.properties))throw new y(".properties",A)}["group","identify"].includes(a.type)&&function(a){if(!(0,g.Qd)(a.traits))throw new y(".traits",A)}(a)}(n),n},a}()),D=function(a){return"addMiddleware"in a&&"destination"===a.type},E=c(597538),F=c(615960),G=c(973272),H=function(){var a,b,c=0;return{done:function(){return a},run:function(d){var e=d();return"object"==typeof e&&null!==e&&"then"in e&&"function"==typeof e.then&&(1==++c&&(a=new Promise(function(a){return b=a})),e.finally(function(){return 0==--c&&b()})),e}}},I=c(374351),J=function(a){function b(b){return a.call(this,"string"==typeof b?new E.x(4,b):b)||this}return(0,f.C6)(b,a),b.prototype.flush=function(){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(b){return(0,l.a)()?[2,[]]:[2,a.prototype.flush.call(this)]})})},b}(function(a){function b(b){var c=a.call(this)||this;return c.criticalTasks=H(),c.plugins=[],c.failedInitializations=[],c.flushing=!1,c.queue=b,c.queue.on(F.g,function(){c.scheduleFlush(0)}),c}return(0,f.C6)(b,a),b.prototype.register=function(a,b,c){return(0,f.sH)(this,void 0,void 0,function(){var d,e,g=this;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(this.plugins.push(b),d=function(c){g.failedInitializations.push(b.name),g.emit("initialization_failure",b),console.warn(b.name,c),a.log("warn","Failed to load destination",{plugin:b.name,error:c}),g.plugins=g.plugins.filter(function(a){return a!==b})},"destination"!==b.type||"Segment.io"===b.name)return[3,1];return b.load(a,c).catch(d),[3,4];case 1:return f.trys.push([1,3,,4]),[4,b.load(a,c)];case 2:return f.sent(),[3,4];case 3:return e=f.sent(),d(e),[3,4];case 4:return[2]}})})},b.prototype.deregister=function(a,b,c){return(0,f.sH)(this,void 0,void 0,function(){var d;return(0,f.YH)(this,function(e){switch(e.label){case 0:if(e.trys.push([0,3,,4]),!b.unload)return[3,2];return[4,Promise.resolve(b.unload(a,c))];case 1:e.sent(),e.label=2;case 2:return this.plugins=this.plugins.filter(function(a){return a.name!==b.name}),[3,4];case 3:return d=e.sent(),a.log("warn","Failed to unload destination",{plugin:b.name,error:d}),[3,4];case 4:return[2]}})})},b.prototype.dispatch=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(c){return a.log("debug","Dispatching"),a.stats.increment("message_dispatched"),this.queue.push(a),b=this.subscribeToDelivery(a),this.scheduleFlush(0),[2,b]})})},b.prototype.subscribeToDelivery=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b=this;return(0,f.YH)(this,function(c){return[2,new Promise(function(c){var d=function(e,f){e.isSame(a)&&(b.off("flush",d),c(e))};b.on("flush",d)})]})})},b.prototype.dispatchSingle=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b=this;return(0,f.YH)(this,function(c){return a.log("debug","Dispatching"),a.stats.increment("message_dispatched"),this.queue.updateAttempts(a),a.attempts=1,[2,this.deliver(a).catch(function(c){return b.enqueuRetry(c,a)?b.subscribeToDelivery(a):(a.setFailedDelivery({reason:c}),a)})]})})},b.prototype.isEmpty=function(){return 0===this.queue.length},b.prototype.scheduleFlush=function(a){var b=this;void 0===a&&(a=500),this.flushing||(this.flushing=!0,setTimeout(function(){b.flush().then(function(){setTimeout(function(){b.flushing=!1,b.queue.length&&b.scheduleFlush(0)},0)})},a))},b.prototype.deliver=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e;return(0,f.YH)(this,function(f){switch(f.label){case 0:return[4,this.criticalTasks.done()];case 1:f.sent(),b=Date.now(),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this.flushOne(a)];case 3:return a=f.sent(),c=Date.now()-b,this.emit("delivery_success",a),a.stats.gauge("delivered",c),a.log("debug","Delivered",a.event),[2,a];case 4:throw e=d=f.sent(),a.log("error","Failed to deliver",e),this.emit("delivery_failure",a,e),a.stats.increment("delivery_failed"),d;case 5:return[2]}})})},b.prototype.enqueuRetry=function(a,b){return!!(!(a instanceof G.d)||a.retry)&&this.queue.pushWithBackoff(b)},b.prototype.flush=function(){return(0,f.sH)(this,void 0,void 0,function(){var a,b;return(0,f.YH)(this,function(c){switch(c.label){case 0:if(0===this.queue.length||!(a=this.queue.pop()))return[2,[]];a.attempts=this.queue.getAttempts(a),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.deliver(a)];case 2:return a=c.sent(),this.emit("flush",a,!0),[3,4];case 3:return b=c.sent(),this.enqueuRetry(b,a)||(a.setFailedDelivery({reason:b}),this.emit("flush",a,!1)),[2,[]];case 4:return[2,[a]]}})})},b.prototype.isReady=function(){return!0},b.prototype.availableExtensions=function(a){var b,c,d=(b="type",c={},this.plugins.filter(function(b){if("destination"!==b.type&&"Segment.io"!==b.name)return!0;var c,d,e,f=void 0;return null==(c=b.alternativeNames)||c.forEach(function(b){void 0!==a[b]&&(f=a[b])}),null!=(e=null!=(d=a[b.name])?d:f)?e:!1!==("Segment.io"===b.name||a.All)}).forEach(function(a){var d,e=void 0;if("string"==typeof b){var g=a[b];e="string"!=typeof g?JSON.stringify(g):g}else b instanceof Function&&(e=b(a));void 0!==e&&(c[e]=(0,f.fX)((0,f.fX)([],null!=(d=c[e])?d:[],!0),[a],!1))}),c),e=d.before,g=d.enrichment,h=d.destination,i=d.after;return{before:void 0===e?[]:e,enrichment:void 0===g?[]:g,destinations:void 0===h?[]:h,after:void 0===i?[]:i}},b.prototype.flushOne=function(a){var b,c;return(0,f.sH)(this,void 0,void 0,function(){var d,e,g,h,i,j,k,l,m,n,o,p,q;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(!this.isReady())throw Error("Not ready");a.attempts>1&&this.emit("delivery_retry",a),e=(d=this.availableExtensions(null!=(b=a.event.integrations)?b:{})).before,g=d.enrichment,h=0,i=e,f.label=1;case 1:if(!(h<i.length))return[3,4];return j=i[h],[4,(0,I.D)(a,j)];case 2:(k=f.sent())instanceof G.j&&(a=k),this.emit("message_enriched",a,j),f.label=3;case 3:return h++,[3,1];case 4:l=0,m=g,f.label=5;case 5:if(!(l<m.length))return[3,8];return n=m[l],[4,(0,I.C)(a,n)];case 6:(k=f.sent())instanceof G.j&&(a=k),this.emit("message_enriched",a,n),f.label=7;case 7:return l++,[3,5];case 8:return p=(o=this.availableExtensions(null!=(c=a.event.integrations)?c:{})).destinations,q=o.after,[4,new Promise(function(b,c){setTimeout(function(){Promise.all(p.map(function(b){return(0,I.C)(a,b)})).then(b).catch(c)},0)})];case 9:return f.sent(),a.stats.increment("message_delivered"),this.emit("message_delivered",a),[4,Promise.all(q.map(function(b){return(0,I.C)(a,b)}))];case 10:return f.sent(),[2,a]}})})},b}(o.v));function K(a){for(var b=a.constructor.prototype,c=0,d=Object.getOwnPropertyNames(b);c<d.length;c++){var e=d[c];if("constructor"!==e){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,e);f&&"function"==typeof f.value&&(a[e]=a[e].bind(a))}}return a}var L={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},M=function(a,b,c,d){console.warn("".concat(a.constructor.name,": Can't ").concat(b,' key "').concat(c,'" | Err: ').concat(d))},N=function(){function a(a){this.stores=a}return a.prototype.get=function(a){for(var b=null,c=0,d=this.stores;c<d.length;c++){var e=d[c];try{if(null!=(b=e.get(a)))return b}catch(b){M(e,"get",a,b)}}return null},a.prototype.set=function(a,b){this.stores.forEach(function(c){try{c.set(a,b)}catch(b){M(c,"set",a,b)}})},a.prototype.clear=function(a){this.stores.forEach(function(b){try{b.remove(a)}catch(c){M(b,"remove",a,c)}})},a.prototype.getAndSync=function(a){var b=this.get(a),c="number"==typeof b?b.toString():b;return this.set(a,c),c},a}(),O=function(){function a(){this.cache={}}return a.prototype.get=function(a){var b;return null!=(b=this.cache[a])?b:null},a.prototype.set=function(a,b){this.cache[a]=b},a.prototype.remove=function(a){delete this.cache[a]},a}();function P(a){return a&&a.stores&&Array.isArray(a.stores)&&a.stores.every(function(a){return Object.values(L).includes(a)})}function Q(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]=c[d]}return a}var R=function a(b,c){function d(a,d,e){if("undefined"!=typeof document){"number"==typeof(e=Q({},c,e)).expires&&(e.expires=new Date(Date.now()+864e5*e.expires)),e.expires&&(e.expires=e.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var g in e)e[g]&&(f+="; "+g,!0!==e[g]&&(f+="="+e[g].split(";")[0]));return document.cookie=a+"="+b.write(d,a)+f}}return Object.create({set:d,get:function(a){if("undefined"!=typeof document&&(!arguments.length||a)){for(var c=document.cookie?document.cookie.split("; "):[],d={},e=0;e<c.length;e++){var f=c[e].split("="),g=f.slice(1).join("=");try{var h=decodeURIComponent(f[0]);if(d[h]=b.read(g,h),a===h)break}catch(a){}}return a?d[a]:d}},remove:function(a,b){d(a,"",Q({},b,{expires:-1}))},withAttributes:function(b){return a(this.converter,Q({},this.attributes,b))},withConverter:function(b){return a(Q({},this.converter,b),this.attributes)}},{attributes:{value:Object.freeze(c)},converter:{value:Object.freeze(b)}})}({read:function(a){return'"'===a[0]&&(a=a.slice(1,-1)),a.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(a){return encodeURIComponent(a).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function S(a){var b=function(a){try{return new URL(a)}catch(a){return}}(a);if(b)for(var c=function(a){var b=a.hostname.split("."),c=b[b.length-1],d=[];if(4===b.length&&parseInt(c,10)>0||b.length<=1)return d;for(var e=b.length-2;e>=0;--e)d.push(b.slice(e).join("."));return d}(b),d=0;d<c.length;++d){var e="__tld__",f=c[d],g={domain:"."+f};try{if(R.set(e,"1",g),R.get(e))return R.remove(e,g),f}catch(a){return}}}var T=function(){function a(b){void 0===b&&(b=a.defaults),this.options=(0,f.Cl)((0,f.Cl)({},a.defaults),b)}return Object.defineProperty(a,"defaults",{get:function(){return{maxage:365,domain:S(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),a.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},a.prototype.get=function(a){var b;try{var c=R.get(a);if(null==c)return null;try{return null!=(b=JSON.parse(c))?b:null}catch(a){return null!=c?c:null}}catch(a){return null}},a.prototype.set=function(a,b){"string"==typeof b?R.set(a,b,this.opts()):null===b?R.remove(a,this.opts()):R.set(a,JSON.stringify(b),this.opts())},a.prototype.remove=function(a){return R.remove(a,this.opts())},a}(),U=function(){function a(){}return a.prototype.localStorageWarning=function(a,b){console.warn("Unable to access ".concat(a,", localStorage may be ").concat(b))},a.prototype.get=function(a){var b;try{var c=localStorage.getItem(a);if(null===c)return null;try{return null!=(b=JSON.parse(c))?b:null}catch(a){return null!=c?c:null}}catch(b){return this.localStorageWarning(a,"unavailable"),null}},a.prototype.set=function(a,b){try{localStorage.setItem(a,JSON.stringify(b))}catch(b){this.localStorageWarning(a,"full")}},a.prototype.remove=function(a){try{return localStorage.removeItem(a)}catch(b){this.localStorageWarning(a,"unavailable")}},a}();function V(a){return a.map(function(a){var b,c;switch("object"==typeof a&&void 0!==a.name?(b=a.name,c=a.settings):b=a,b){case L.Cookie:return new T(c);case L.LocalStorage:return new U;case L.Memory:return new O;default:throw Error("Unknown Store Type: ".concat(a))}})}function W(a,b){return a.map(function(a){return b&&a===L.Cookie?{name:a,settings:b}:a})}var X={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},Y=function(){function a(a,b){void 0===a&&(a=X);var c,d,e,g,h=this;this.options={},this.id=function(a){if(h.options.disable)return null;var b=h.identityStore.getAndSync(h.idKey);void 0!==a&&(h.identityStore.set(h.idKey,a),a!==b&&null!==b&&null!==a&&h.anonymousId(null));var c=h.identityStore.getAndSync(h.idKey);if(c)return c;var d=h.legacyUserStore.get(X.cookie.oldKey);return d?"object"==typeof d?d.id:d:null},this.anonymousId=function(a){var b,c;if(h.options.disable)return null;if(void 0===a){var d=null!=(b=h.identityStore.getAndSync(h.anonKey))?b:null==(c=h.legacySIO())?void 0:c[0];if(d)return d}return null===a?h.identityStore.set(h.anonKey,null):h.identityStore.set(h.anonKey,null!=a?a:(0,p.v4)()),h.identityStore.getAndSync(h.anonKey)},this.traits=function(a){var b;if(!h.options.disable)return null===a&&(a={}),a&&h.traitsStore.set(h.traitsKey,null!=a?a:{}),null!=(b=h.traitsStore.get(h.traitsKey))?b:{}},this.options=(0,f.Cl)((0,f.Cl)({},X),a),this.cookieOptions=b,this.idKey=null!=(d=null==(c=a.cookie)?void 0:c.key)?d:X.cookie.key,this.traitsKey=null!=(g=null==(e=a.localStorage)?void 0:e.key)?g:X.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,b),this.legacyUserStore=this.createStorage(this.options,b,function(a){return a===L.Cookie}),this.traitsStore=this.createStorage(this.options,b,function(a){return a!==L.Cookie});var i=this.legacyUserStore.get(X.cookie.oldKey);i&&"object"==typeof i&&(i.id&&this.id(i.id),i.traits&&this.traits(i.traits)),K(this)}return a.prototype.legacySIO=function(){var a=this.legacyUserStore.get("_sio");if(!a)return null;var b=a.split("----");return[b[0],b[1]]},a.prototype.identify=function(a,b){if(!this.options.disable){b=null!=b?b:{};var c=this.id();(null===c||c===a)&&(b=(0,f.Cl)((0,f.Cl)({},this.traits()),b)),a&&this.id(a),this.traits(b)}},a.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},a.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},a.prototype.load=function(){return new a(this.options,this.cookieOptions)},a.prototype.save=function(){return!0},a.prototype.createStorage=function(a,b,c){var d=[L.LocalStorage,L.Cookie,L.Memory];return a.disable?new N([]):a.persist?(void 0!==a.storage&&null!==a.storage&&P(a.storage)&&(d=a.storage.stores),a.localStorageFallbackDisabled&&(d=d.filter(function(a){return a!==L.LocalStorage})),c&&(d=d.filter(c)),new N(V(W(d,b)))):new N([new O])},a.defaults=X,a}(),Z={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},$=function(a){function b(b,c){void 0===b&&(b=Z);var d=a.call(this,(0,f.Cl)((0,f.Cl)({},Z),b),c)||this;return d.anonymousId=function(a){},K(d),d}return(0,f.C6)(b,a),b}(Y),_=c(445594),aa=c(488030),ab=c(556093),ac=c(952841),ad=function(a,b,c){c.getAndRemove(a).forEach(function(a){al(b,a).catch(console.error)})},ae=ad.bind(void 0,"on"),af=ad.bind(void 0,"setAnonymousId"),ag=function(a,b){Object.keys(b.calls).forEach(function(c){b.getAndRemove(c).forEach(function(b){setTimeout(function(){al(a,b).catch(console.error)},0)})})},ah=function(a){if(ai(a))return u(a.pop())},ai=function(a){var b=a[a.length-1];if("object"!==Object.prototype.toString.call(b).slice(8,-1).toLowerCase()||"bpc"!==b.__t)return!1;for(var c in b)if(!r.includes(c))return!1;return!0},aj=function(a,b,c,d){void 0===c&&(c=function(){}),void 0===d&&(d=console.error),this.method=a,this.resolve=c,this.reject=d,this.called=!1,this.args=b},ak=function(){function a(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this._callMap={},this.add.apply(this,a)}return Object.defineProperty(a.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(a){this._callMap=a},enumerable:!1,configurable:!0}),a.prototype.get=function(a){var b;return null!=(b=this.calls[a])?b:[]},a.prototype.getAndRemove=function(a){var b=this.get(a);return this.calls[a]=[],b},a.prototype.add=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b.forEach(function(b){["track","screen","alias","group","page","identify"].includes(b.method)&&!ai(b.args)&&(b.args=(0,f.fX)((0,f.fX)([],b.args,!0),[v()],!1)),a.calls[b.method]?a.calls[b.method].push(b):a.calls[b.method]=[b]})},a.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},a.prototype.toArray=function(){var a;return(a=[]).concat.apply(a,Object.values(this.calls))},a.prototype._pushSnippetWindowBuffer=function(){if("npm"!==(0,ac.X)()){var a=(0,ab.kJ)();if(Array.isArray(a)){var b=a.splice(0,a.length).map(function(a){return new aj(a[0],a.slice(1))});this.add.apply(this,b)}}},a}();function al(a,b){return(0,f.sH)(this,void 0,void 0,function(){var c,d;return(0,f.YH)(this,function(e){switch(e.label){case 0:var f;if(e.trys.push([0,3,,4]),b.called)return[2,void 0];if(b.called=!0,!("object"==typeof(f=c=a[b.method].apply(a,b.args))&&null!==f&&"then"in f&&"function"==typeof f.then))return[3,2];return[4,c];case 1:e.sent(),e.label=2;case 2:return b.resolve(c),[3,4];case 3:return d=e.sent(),b.reject(d),[3,4];case 4:return[2]}})})}var am=function(){function a(a){var b=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=_.r,this._preInitBuffer=new ak,this._promise=a(this._preInitBuffer),this._promise.then(function(a){var c=a[0],d=a[1];b.instance=c,b.ctx=d}).catch(function(){})}return a.prototype.then=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return(a=this._promise).then.apply(a,b)},a.prototype.catch=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return(a=this._promise).catch.apply(a,b)},a.prototype.finally=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];return(a=this._promise).finally.apply(a,b)},a.prototype._createMethod=function(a){var b=this;return function(){for(var c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return b.instance?Promise.resolve((c=b.instance)[a].apply(c,d)):new Promise(function(c,e){b._preInitBuffer.add(new aj(a,d,c,e))})}},a.prototype._createChainableMethod=function(a){var b=this;return function(){for(var c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];return b.instance?(c=b.instance)[a].apply(c,d):b._preInitBuffer.add(new aj(a,d)),b}},a}(),an=c(969174),ao=c(34376),ap=function(a){var b=!1;window.addEventListener("pagehide",function(){b||a(b=!0)}),document.addEventListener("visibilitychange",function(){if("hidden"==document.visibilityState){if(b)return;b=!0}else b=!1;a(b)})},aq=function(a){function b(b,c){var d=a.call(this,b)||this;return d.retryTimeout=c,d.name="RateLimitError",d}return(0,f.C6)(b,a),b}(Error),ar=function(a){return(0,f.Cl)({"Content-Type":"text/plain"},"function"==typeof a?a():a)};function as(a){return(encodeURI(JSON.stringify(a)).split(/%..|./).length-1)/1024}var at=c(505976);function au(a,b,c,d){var e=this;a||setTimeout(function(){return(0,f.sH)(e,void 0,void 0,function(){var a,e;return(0,f.YH)(this,function(g){switch(g.label){case 0:return a=!0,[4,function(a,b){return(0,f.sH)(this,void 0,void 0,function(){var c,d=this;return(0,f.YH)(this,function(e){switch(e.label){case 0:if(c=[],(0,l.a)())return[2,b];return[4,(0,at._)(function(){return b.length>0&&!(0,l.a)()},function(){return(0,f.sH)(d,void 0,void 0,function(){var d;return(0,f.YH)(this,function(e){switch(e.label){case 0:if(!(d=b.pop()))return[2];return[4,(0,I.C)(d,a)];case 1:return e.sent()instanceof m.o||c.push(d),[2]}})})})];case 1:return e.sent(),c.map(function(a){return b.pushWithBackoff(a)}),[2,b]}})})}(c,b)];case 1:return e=g.sent(),a=!1,b.todo>0&&d(a,e,c,d),[2]}})})},5e3*Math.random())}var av=c(722880),aw=function(a){return"Segment.io"===a.name};function ax(a,b,c){window.addEventListener("pagehide",function(){j.push.apply(j,Array.from(k)),k.clear()});var d,e,g,h,i=null!=(e=null==b?void 0:b.apiKey)?e:"",j=a.options.disableClientPersistence?new F.M(a.queue.queue.maxAttempts,[]):new E.x(a.queue.queue.maxAttempts,"".concat(i,":dest-Segment.io")),k=new Set,n=null!=(g=null==b?void 0:b.apiHost)?g:av.a,o=null!=(h=null==b?void 0:b.protocol)?h:"https",p="".concat(o,"://").concat(n),q=null==b?void 0:b.deliveryStrategy,r=q&&"strategy"in q&&"batching"===q.strategy?function(a,b){var c,d,e,g=[],h=!1,i=null!=(c=null==b?void 0:b.size)?c:10,j=null!=(d=null==b?void 0:b.timeout)?d:5e3,k=0;function l(c){if(0!==c.length){var d,e=null==(d=c[0])?void 0:d.writeKey,g=c.map(function(a){return a.sentAt,(0,f.Tt)(a,["sentAt"])});return(0,ao.h)("https://".concat(a,"/b"),{credentials:null==b?void 0:b.credentials,keepalive:(null==b?void 0:b.keepalive)||h,headers:ar(null==b?void 0:b.headers),method:"post",body:JSON.stringify({writeKey:e,batch:g,sentAt:new Date().toISOString()}),priority:null==b?void 0:b.priority}).then(function(a){var b;if(a.status>=500)throw Error("Bad response from server: ".concat(a.status));if(429===a.status){var c=null==(b=a.headers)?void 0:b.get("x-ratelimit-reset"),d="string"==typeof c?1e3*parseInt(c):j;throw new aq("Rate limit exceeded: ".concat(a.status),d)}})}}function n(a){var c;return void 0===a&&(a=1),(0,f.sH)(this,void 0,void 0,function(){var d;return(0,f.YH)(this,function(e){return g.length?(d=g,g=[],[2,null==(c=l(d))?void 0:c.catch(function(c){var e;m.o.system().log("error","Error sending batch",c),a<=(null!=(e=null==b?void 0:b.maxRetries)?e:10)&&("RateLimitError"===c.name&&(k=c.retryTimeout),g.push.apply(g,d),g.map(function(b){"_metadata"in b&&(b._metadata=(0,f.Cl)((0,f.Cl)({},b._metadata),{retryCount:a}))}),o(a+1))})]):[2]})})}function o(a){void 0===a&&(a=1),e||(e=setTimeout(function(){e=void 0,n(a).catch(console.error)},k||j),k=0)}return ap(function(a){if((h=a)&&g.length){var b,c;Promise.all((b=[],c=0,g.forEach(function(a){as(b[c])>=64&&c++,b[c]?b[c].push(a):b[c]=[a]}),b).map(l)).catch(console.error)}}),{dispatch:function(a,c){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(a){return g.push(c),[2,g.length>=i||as(g)>=450||(null==b?void 0:b.keepalive)&&as(g)>=54||h?n():o()]})})}}}(n,q.config):(d=null==q?void 0:q.config,{dispatch:function(a,b){return(0,ao.h)(a,{credentials:null==d?void 0:d.credentials,keepalive:null==d?void 0:d.keepalive,headers:ar(null==d?void 0:d.headers),method:"post",body:JSON.stringify(b),priority:null==d?void 0:d.priority}).then(function(a){var b;if(a.status>=500)throw Error("Bad response from server: ".concat(a.status));if(429===a.status){var c=null==(b=a.headers)?void 0:b.get("x-ratelimit-reset"),d=c?1e3*parseInt(c):5e3;throw new aq("Rate limit exceeded: ".concat(a.status),d)}})}});function s(d){return(0,f.sH)(this,void 0,void 0,function(){var e,g;return(0,f.YH)(this,function(h){var i,m,n,o,q,s;return(0,l.a)()?(j.push(d),au(!1,j,t,au),[2,d]):(k.add(d),e=d.event.type.charAt(0),g=(0,an.W)(d.event).json(),"track"===d.event.type&&delete g.traits,"alias"===d.event.type&&(i=g,s=a.user(),i.previousId=null!=(o=null!=(n=null!=(m=i.previousId)?m:i.from)?n:s.id())?o:s.anonymousId(),i.userId=null!=(q=i.userId)?q:i.to,delete i.from,delete i.to,g=i),j.getAttempts(d)>=j.maxAttempts)?(k.delete(d),[2,d]):[2,r.dispatch("".concat(p,"/").concat(e),function(a,b,c,d,e){var g,h=a.user();delete b.options,b.writeKey=null==c?void 0:c.apiKey,b.userId=b.userId||h.id(),b.anonymousId=b.anonymousId||h.anonymousId(),b.sentAt=new Date;var i=a.queue.failedInitializations||[];i.length>0&&(b._metadata={failedInitializations:i}),null!=e&&(e.attempts>1&&(b._metadata=(0,f.Cl)((0,f.Cl)({},b._metadata),{retryCount:e.attempts})),e.attempts++);var j=[],k=[];for(var l in d){var m=d[l];"Segment.io"===l&&j.push(l),"bundled"===m.bundlingStatus&&j.push(l),"unbundled"===m.bundlingStatus&&k.push(l)}for(var n=0,o=(null==c?void 0:c.unbundledIntegrations)||[];n<o.length;n++){var p=o[n];k.includes(p)||k.push(p)}var q=null!=(g=null==c?void 0:c.maybeBundledConfigIds)?g:{},r=[];return j.sort().forEach(function(a){var b;(null!=(b=q[a])?b:[]).forEach(function(a){r.push(a)})}),(null==c?void 0:c.addBundledMetadata)!==!1&&(b._metadata=(0,f.Cl)((0,f.Cl)({},b._metadata),{bundled:j.sort(),unbundled:k.sort(),bundledIds:r})),b}(a,g,b,c,d)).then(function(){return d}).catch(function(a){if(d.log("error","Error sending event",a),"RateLimitError"===a.name){var b=a.retryTimeout;j.pushWithBackoff(d,b)}else j.pushWithBackoff(d);return au(!1,j,t,au),d}).finally(function(){k.delete(d)})]})})}var t={metadata:{writeKey:i,apiHost:n,protocol:o},name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:s,identify:s,page:s,alias:s,group:s,screen:s};return j.todo&&au(!1,j,t,au),t}var ay="This is being deprecated and will be not be available in future releases of Analytics JS",az=(0,aa.m)(),aA=null==az?void 0:az.analytics,aB=function(){function a(a,b){var c;this.timeout=300,this._getSegmentPluginMetadata=function(){var a;return null==(a=b.plugins.find(aw))?void 0:a.metadata},this.writeKey=a.writeKey,this.cdnSettings=null!=(c=a.cdnSettings)?c:{integrations:{"Segment.io":{apiKey:""}}},this.cdnURL=a.cdnURL}return Object.defineProperty(a.prototype,"apiHost",{get:function(){var a,b;return null==(b=null==(a=this._getSegmentPluginMetadata)?void 0:a.call(this))?void 0:b.apiHost},enumerable:!1,configurable:!0}),a}();function aC(){console.warn(ay)}var aD=function(a){function b(b,c,d,e,g){var h,i,j,k,l,m,n=this;(n=a.call(this)||this)._debug=!1,n.initialized=!1,n.user=function(){return n._user},n.init=n.initialize.bind(n),n.log=aC,n.addIntegrationMiddleware=aC,n.listeners=aC,n.addEventListener=aC,n.removeAllListeners=aC,n.removeListener=aC,n.removeEventListener=aC,n.hasListeners=aC,n.add=aC,n.addIntegration=aC;var o=null==c?void 0:c.cookie,p=null!=(l=null==c?void 0:c.disableClientPersistence)&&l;n.queue=null!=d?d:(h="".concat(b.writeKey,":event-queue"),void 0===(i=null==c?void 0:c.retryQueue)&&(i=!1),void 0===(j=p)&&(j=!1),k=i?10:1,new J(j?new F.M(k,[]):new E.x(k,h))),n.settings=new aB(b,n.queue);var q=null==c?void 0:c.storage;return n._universalStorage=n.createStore(p,q,o),n._user=null!=e?e:new Y((0,f.Cl)({persist:!p,storage:null==c?void 0:c.storage},null==c?void 0:c.user),o).load(),n._group=null!=g?g:new $((0,f.Cl)({persist:!p,storage:null==c?void 0:c.storage},null==c?void 0:c.group),o).load(),n.eventFactory=new C(n._user),n.integrations=null!=(m=null==c?void 0:c.integrations)?m:{},n.options=null!=c?c:{},K(n),n}return(0,f.C6)(b,a),b.prototype.createStore=function(a,b,c){return new N(a?[new O]:b&&P(b)?V(W(b.stores,c)):V([L.LocalStorage,{name:L.Cookie,settings:c},L.Memory]))},Object.defineProperty(b.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),b.prototype.track=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g,i,j,k=this;return(0,f.YH)(this,function(f){return b=ah(a),d=(c=h.apply(void 0,a))[0],e=c[1],g=c[2],i=c[3],j=this.eventFactory.track(d,e,g,this.integrations,b),[2,this._dispatch(j,i).then(function(a){return k.emit("track",d,a.event.properties,a.event.options),a})]})})},b.prototype.page=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g,h,j,k,l=this;return(0,f.YH)(this,function(f){return b=ah(a),d=(c=i.apply(void 0,a))[0],e=c[1],g=c[2],h=c[3],j=c[4],k=this.eventFactory.page(d,e,g,h,this.integrations,b),[2,this._dispatch(k,j).then(function(a){return l.emit("page",d,e,a.event.properties,a.event.options),a})]})})},b.prototype.identify=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g,h,i,k=this;return(0,f.YH)(this,function(f){return b=ah(a),d=(c=j(this._user).apply(void 0,a))[0],e=c[1],g=c[2],h=c[3],this._user.identify(d,e),i=this.eventFactory.identify(this._user.id(),this._user.traits(),g,this.integrations,b),[2,this._dispatch(i,h).then(function(a){return k.emit("identify",a.event.userId,a.event.traits,a.event.options),a})]})})},b.prototype.group=function(){for(var a=this,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=ah(b);if(0===b.length)return this._group;var e=j(this._group).apply(void 0,b),f=e[0],g=e[1],h=e[2],i=e[3];this._group.identify(f,g);var k=this._group.id(),l=this._group.traits(),m=this.eventFactory.group(k,l,h,this.integrations,d);return this._dispatch(m,i).then(function(b){return a.emit("group",b.event.groupId,b.event.traits,b.event.options),b})},b.prototype.alias=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g,h,i,j=this;return(0,f.YH)(this,function(f){return b=ah(a),d=(c=k.apply(void 0,a))[0],e=c[1],g=c[2],h=c[3],i=this.eventFactory.alias(d,e,g,this.integrations,b),[2,this._dispatch(i,h).then(function(a){return j.emit("alias",d,e,a.event.options),a})]})})},b.prototype.screen=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g,h,j,k,l=this;return(0,f.YH)(this,function(f){return b=ah(a),d=(c=i.apply(void 0,a))[0],e=c[1],g=c[2],h=c[3],j=c[4],k=this.eventFactory.screen(d,e,g,h,this.integrations,b),[2,this._dispatch(k,j).then(function(a){return l.emit("screen",d,e,a.event.properties,a.event.options),a})]})})},b.prototype.trackClick=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(d){switch(d.label){case 0:return[4,c.e(248).then(c.bind(c,565869))];case 1:return[2,(b=d.sent().link).call.apply(b,(0,f.fX)([this],a,!1))]}})})},b.prototype.trackLink=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(d){switch(d.label){case 0:return[4,c.e(248).then(c.bind(c,565869))];case 1:return[2,(b=d.sent().link).call.apply(b,(0,f.fX)([this],a,!1))]}})})},b.prototype.trackSubmit=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(d){switch(d.label){case 0:return[4,c.e(248).then(c.bind(c,565869))];case 1:return[2,(b=d.sent().form).call.apply(b,(0,f.fX)([this],a,!1))]}})})},b.prototype.trackForm=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(d){switch(d.label){case 0:return[4,c.e(248).then(c.bind(c,565869))];case 1:return[2,(b=d.sent().form).call.apply(b,(0,f.fX)([this],a,!1))]}})})},b.prototype.register=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c=this;return(0,f.YH)(this,function(d){switch(d.label){case 0:return b=m.o.system(),[4,Promise.all(a.map(function(a){return c.queue.register(b,a,c)}))];case 1:return d.sent(),[2,b]}})})},b.prototype.deregister=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return(0,f.sH)(this,void 0,void 0,function(){var b,c=this;return(0,f.YH)(this,function(d){switch(d.label){case 0:return b=m.o.system(),[4,Promise.all(a.map(function(a){var d=c.queue.plugins.find(function(b){return b.name===a});if(d)return c.queue.deregister(b,d,c);b.log("warn","plugin ".concat(a," not found"))}))];case 1:return d.sent(),[2,b]}})})},b.prototype.debug=function(a){return!1===a&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=a,this},b.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},b.prototype.timeout=function(a){this.settings.timeout=a},b.prototype._dispatch=function(a,b){return(0,f.sH)(this,void 0,void 0,function(){var c;return(0,f.YH)(this,function(d){return((c=new m.o(a)).stats.increment("analytics_js.invoke",1,[a.type]),(0,l.a)()&&!this.options.retryQueue)?[2,c]:[2,function(a,b,c,d){return(0,f.sH)(this,void 0,void 0,function(){var e,g;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(c.emit("dispatch_start",a),e=Date.now(),!b.isEmpty())return[3,2];return[4,b.dispatchSingle(a)];case 1:return g=f.sent(),[3,4];case 2:return[4,b.dispatch(a)];case 3:g=f.sent(),f.label=4;case 4:var h,i;if(!(null==d?void 0:d.callback))return[3,6];return[4,(0,n.w_)(g,d.callback,(h=e,Math.max((null!=(i=d.timeout)?i:300)-(Date.now()-h),0)))];case 5:g=f.sent(),f.label=6;case 6:return(null==d?void 0:d.debug)&&g.flush(),[2,g]}})})}(c,this.queue,this,{callback:b,debug:this._debug,timeout:this.settings.timeout})]})})},b.prototype.addSourceMiddleware=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b=this;return(0,f.YH)(this,function(d){switch(d.label){case 0:return[4,this.queue.criticalTasks.run(function(){return(0,f.sH)(b,void 0,void 0,function(){var b,d,e;return(0,f.YH)(this,function(f){switch(f.label){case 0:return[4,c.e(2751).then(c.bind(c,874376))];case 1:return b=f.sent().sourceMiddlewarePlugin,d={},this.queue.plugins.forEach(function(a){if("destination"===a.type)return d[a.name]=!0}),e=b(a,d),[4,this.register(e)];case 2:return f.sent(),[2]}})})})];case 1:return d.sent(),[2,this]}})})},b.prototype.addDestinationMiddleware=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.queue.plugins.filter(D).forEach(function(c){("*"===a||c.name.toLowerCase()===a.toLowerCase())&&c.addMiddleware.apply(c,b)}),Promise.resolve(this)},b.prototype.setAnonymousId=function(a){return this._user.anonymousId(a)},b.prototype.queryString=function(a){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(b){switch(b.label){case 0:if(!1===this.options.useQueryString)return[2,[]];return[4,c.e(7538).then(c.bind(c,794495))];case 1:return[2,(0,b.sent().queryString)(this,a)]}})})},b.prototype.use=function(a){return a(this),this},b.prototype.ready=function(a){return void 0===a&&(a=function(a){return a}),(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(b){return[2,Promise.all(this.queue.plugins.map(function(a){return a.ready?a.ready():Promise.resolve()})).then(function(b){return a(b),b})]})})},b.prototype.noConflict=function(){return console.warn(ay),(0,ab.Ud)(null!=aA?aA:this),this},b.prototype.normalize=function(a){return console.warn(ay),this.eventFactory.normalize(a)},Object.defineProperty(b.prototype,"failedInitializations",{get:function(){return console.warn(ay),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"VERSION",{get:function(){return _.r},enumerable:!1,configurable:!0}),b.prototype.initialize=function(a,b){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(a){return console.warn(ay),[2,Promise.resolve(this)]})})},b.prototype.pageview=function(a){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(b){switch(b.label){case 0:return console.warn(ay),[4,this.page({path:a})];case 1:return b.sent(),[2,this]}})})},Object.defineProperty(b.prototype,"plugins",{get:function(){var a;return console.warn(ay),null!=(a=this._plugins)?a:{}},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"Integrations",{get:function(){return console.warn(ay),this.queue.plugins.filter(function(a){return"destination"===a.type}).reduce(function(a,b){var c="".concat(b.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),d=window[c];if(!d)return a;var e=d.Integration;return e?a[b.name]=e:a[b.name]=d,a},{})},enumerable:!1,configurable:!0}),b.prototype.push=function(a){var b=a.shift();(!b||this[b])&&this[b].apply(this,a)},b}(o.v),aE=function(a){function b(){var b=a.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return b.initialized=!0,b}return(0,f.C6)(b,a),b}(aD);function aF(){return"undefined"!=typeof process&&process.env?process.env:{}}var aG=c(977137),aH=c(452069),aI=c(194080),aJ=c(705149),aK=function(a){try{var b=new URLSearchParams;return Object.entries(a).forEach(function(a){var c=a[0],d=a[1];Array.isArray(d)?d.forEach(function(a){return b.append(c,a)}):b.append(c,d)}),b.toString()}catch(a){return""}},aL=new function(){var a=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(b,c){return(0,f.sH)(a,void 0,void 0,function(){var a;return(0,f.YH)(this,function(b){switch(b.label){case 0:this.instance=c,b.label=1;case 1:return b.trys.push([1,3,,4]),a=this,[4,function(a){return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(c){return(b=navigator.userAgentData)?a?[2,b.getHighEntropyValues(a).catch(function(){return b.toJSON()})]:[2,b.toJSON()]:[2,void 0]})})}(this.instance.options.highEntropyValuesClientHints)];case 2:return a.userAgentData=b.sent(),[3,4];case 3:return b.sent(),[3,4];case 4:return[2,Promise.resolve()]}})})},this.enrich=function(b){var c,e,g,h,i,j,k=b.event.context,l=k.page.search||"",m="object"==typeof l?aK(l):l;k.userAgent=navigator.userAgent,k.userAgentData=a.userAgentData;var n=navigator.userLanguage||navigator.language;void 0===k.locale&&void 0!==n&&(k.locale=n),null!=k.library||(k.library={name:"analytics.js",version:"".concat("web"===(0,ac.X)()?"next":"npm:next","-").concat(_.r)}),m&&!k.campaign&&((c=m).startsWith("?")&&(c=c.substring(1)),k.campaign=(c=c.replace(/\?/g,"&")).split("&").reduce(function(a,b){var c=b.split("="),d=c[0],e=c[1];if(d.includes("utm_")&&d.length>4){var f=d.slice(4);"campaign"===f&&(f="name"),a[f]=(0,aJ.p)(void 0===e?"":e)}return a},{}));var o=function(){var a=R.get("_ga");if(a&&a.startsWith("amp"))return a}();o&&(k.amp={id:o}),h=(g=new N(null!=(j=a.instance.options.disableClientPersistence)&&j?[]:[new T(function(){if(d)return d;var a=S(window.location.href);return d={expires:31536e6,secure:!1,path:"/"},a&&(d.domain=a),d}())])).get("s:context.referrer"),(i=null!=(e=function(a){var b={btid:"dataxu",urid:"millennial-media"};a.startsWith("?")&&(a=a.substring(1));for(var c=(a=a.replace(/\?/g,"&")).split("&"),d=0;d<c.length;d++){var e=c[d].split("="),f=e[0],g=e[1];if(b[f])return{id:g,type:b[f]}}}(m))?e:h)&&(k&&(k.referrer=(0,f.Cl)((0,f.Cl)({},k.referrer),i)),g.set("s:context.referrer",i));try{k.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(a){}return b},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},aM=c(671676),aN=c(874376),aO=c(31908),aP=function(){function a(a,b){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,aI.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=b,this.name=a,this.type=b.type,this.alternativeNames.push(b.name)}return a.prototype.addMiddleware=function(){for(var a,b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];"destination"===this.type&&(a=this.middleware).push.apply(a,b)},a.prototype.transform=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b;return(0,f.YH)(this,function(c){switch(c.label){case 0:return[4,(0,aN.applyDestinationMiddleware)(this.name,a.event,this.middleware)];case 1:return null===(b=c.sent())&&a.cancel(new G.d({retry:!1,reason:"dropped by destination middleware"})),[2,new m.o(b)]}})})},a.prototype._createMethod=function(a){var b=this;return function(c){return(0,f.sH)(b,void 0,void 0,function(){var b,d;return(0,f.YH)(this,function(e){switch(e.label){case 0:if(!this.action[a])return[2,c];if(b=c,"destination"!==this.type)return[3,2];return[4,this.transform(c)];case 1:b=e.sent(),e.label=2;case 2:return e.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!e.sent())throw Error("Something prevented the destination from getting ready");return(0,aO.y)(c,{integrationName:this.action.name,methodName:a,type:"action"}),[4,this.action[a](b)];case 4:return e.sent(),[3,6];case 5:throw d=e.sent(),(0,aO.y)(c,{integrationName:this.action.name,methodName:a,type:"action",didError:!0}),d;case 6:return[2,c]}})})}},a.prototype.isLoaded=function(){return this.action.isLoaded()},a.prototype.ready=function(){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return a.sent(),[2,!0];case 2:return a.sent(),[2,!1];case 3:return[2]}})})},a.prototype.load=function(a,b){return(0,f.sH)(this,void 0,void 0,function(){var c,d,e,g;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];f.label=1;case 1:return f.trys.push([1,3,,4]),(0,aO.y)(a,{integrationName:this.action.name,methodName:"load",type:"action"}),c=this.action.load(a,b),e=(d=this.loadPromise).resolve,[4,c];case 2:return e.apply(d,[f.sent()]),[2,c];case 3:throw g=f.sent(),(0,aO.y)(a,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(g),g;case 4:return[2]}})})},a.prototype.unload=function(a,b){var c,d;return null==(d=(c=this.action).unload)?void 0:d.call(c,a,b)},a}(),aQ=(0,aa.m)(),aR=null!=(e=aQ.__SEGMENT_INSPECTOR__)?e:aQ.__SEGMENT_INSPECTOR__={},aS=function(a){var b;return null==(b=aR.attach)?void 0:b.call(aR,a)},aT=c(874012),aU=function(){var a,b,c=null!=(a=window.location.hash)?a:"",d=null!=(b=window.location.search)?b:"";return d.length?d:c.replace(/(?=#).*(?=\?)/,"")},aV=function(a){function b(){var b=this,d=(0,aI.u)(),e=d.promise,g=d.resolve;return(b=a.call(this,function(a){return e.then(function(b){return function(a,b,d){var e,g,h,i,j,k,l,n,o;return void 0===b&&(b={}),(0,f.sH)(this,void 0,void 0,function(){var p,q,r,s,t,u,v,w,x,y;return(0,f.YH)(this,function(z){switch(z.label){case 0:if(!0===b.disable)return[2,[new aE,m.o.system()]];if(b.globalAnalyticsKey&&(0,ab.rY)(b.globalAnalyticsKey),a.cdnURL&&(0,aG.qQ)(a.cdnURL),b.initialPageview&&d.add(new aj("page",[])),p=aU(),q=null!=(e=a.cdnURL)?e:(0,aG.I2)(),null==(g=a.cdnSettings))return[3,1];return s=g,[3,3];case 1:var A,B;return[4,(A=a.writeKey,B=q,(0,ao.h)("".concat(B,"/v1/projects/").concat(A,"/settings")).then(function(a){return a.ok?a.json():a.text().then(function(a){throw Error(a)})}).catch(function(a){throw console.error(a.message),a}))];case 2:s=z.sent(),z.label=3;case 3:if(r=s,b.updateCDNSettings&&(r=b.updateCDNSettings(r)),"function"!=typeof b.disable)return[3,5];return[4,b.disable(r)];case 4:if(z.sent())return[2,[new aE,m.o.system()]];z.label=5;case 5:return t=null==(i=null==(h=r.integrations["Segment.io"])?void 0:h.retryQueue)||i,b=(0,f.Cl)({retryQueue:t},b),aS(u=new aD((0,f.Cl)((0,f.Cl)({},a),{cdnSettings:r,cdnURL:q}),b)),v=null!=(j=a.plugins)?j:[],w=null!=(k=a.classicIntegrations)?k:[],x=null==(l=b.integrations)?void 0:l["Segment.io"],aT.U.initRemoteMetrics((0,f.Cl)((0,f.Cl)({},r.metrics),{host:null!=(n=null==x?void 0:x.apiHost)?n:null==(o=r.metrics)?void 0:o.host,protocol:null==x?void 0:x.protocol})),[4,function(a,b,d,e,g,h,i){var j,k,l;return void 0===g&&(g=[]),(0,f.sH)(this,void 0,void 0,function(){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=this;return(0,f.YH)(this,function(B){var C,D,E;switch(B.label){case 0:if(af(d,i),ae(d,i),m=null==g?void 0:g.filter(function(a){return"object"==typeof a}),n=null==g?void 0:g.filter(function(a){return"function"==typeof a&&"string"==typeof a.pluginName}),"test"===aF().NODE_ENV||!((null!=(E=null==(D=null==(C=b.middlewareSettings)?void 0:C.routingRules)?void 0:D.length)?E:0)>0))return[3,2];return[4,Promise.all([c.e(4184),c.e(9010)]).then(c.bind(c,971561)).then(function(a){return a.tsubMiddleware(b.middlewareSettings.routingRules)})];case 1:return p=B.sent(),[3,3];case 2:p=void 0,B.label=3;case 3:if(o=p,("test"===aF().NODE_ENV||!(Object.keys(b.integrations).length>1))&&!(h.length>0))return[3,5];return[4,Promise.all([c.e(3400),c.e(9832),c.e(5050)]).then(c.bind(c,252371)).then(function(c){return c.ajsDestinations(a,b,d.integrations,e,o,h)})];case 4:return r=B.sent(),[3,6];case 5:r=[],B.label=6;case 6:if(q=r,!b.legacyVideoPluginsEnabled)return[3,8];return[4,c.e(9694).then(c.bind(c,180848)).then(function(a){return a.loadLegacyVideoPlugins(d)})];case 7:B.sent(),B.label=8;case 8:if(!(null==(j=e.plan)?void 0:j.track))return[3,10];return[4,c.e(3104).then(c.bind(c,805340)).then(function(a){var c;return a.schemaFilter(null==(c=e.plan)?void 0:c.track,b)})];case 9:return t=B.sent(),[3,11];case 10:t=void 0,B.label=11;case 11:return s=t,u=(0,aH.J)(b,e),[4,(function(a,b,c,d,e,g){var h,i,j;return(0,f.sH)(this,void 0,void 0,function(){var k,l,m=this;return(0,f.YH)(this,function(n){switch(n.label){case 0:return k=[],l=null!=(i=null==(h=a.middlewareSettings)?void 0:h.routingRules)?i:[],[4,Promise.all((null!=(j=a.remotePlugins)?j:[]).map(function(a){return(0,f.sH)(m,void 0,void 0,function(){var h,i,j,m,n,o;return(0,f.YH)(this,function(p){switch(p.label){case 0:var q,r;if(q=b[a.creationName],r=b[a.name],!1===b.All&&!q&&!r||!1===q||!1===r||0)return[2];p.label=1;case 1:if(p.trys.push([1,6,,7]),i=null==g?void 0:g.find(function(b){return b.pluginName===a.name}))return[3,3];return[4,function(a,b){return(0,f.sH)(this,void 0,void 0,function(){var c,d,e,g,h,i;return(0,f.YH)(this,function(f){switch(f.label){case 0:if(f.trys.push([0,9,,10]),c=RegExp("https://cdn.segment.(com|build)"),d=(0,aG.I2)(),!b)return[3,6];g=(e=a.url.split("/"))[e.length-2],h=a.url.replace(g,btoa(g).replace(/=/g,"")),f.label=1;case 1:return f.trys.push([1,3,,5]),[4,(0,aM.k)(h.replace(c,d))];case 2:case 4:return f.sent(),[3,5];case 3:return f.sent(),[4,(0,aM.k)(a.url.replace(c,d))];case 5:return[3,8];case 6:return[4,(0,aM.k)(a.url.replace(c,d))];case 7:f.sent(),f.label=8;case 8:if("function"==typeof window[a.libraryName])return[2,window[a.libraryName]];return[3,10];case 9:throw i=f.sent(),console.error("Failed to create PluginFactory",a),i;case 10:return[2]}})})}(a,null==d?void 0:d.obfuscate)];case 2:i=p.sent(),p.label=3;case 3:if(!(h=i))return[3,5];return j=c[a.name],[4,h((0,f.Cl)((0,f.Cl)({},a.settings),j))];case 4:!function(a){if(!Array.isArray(a))throw Error("Not a valid list of plugins");var b=["load","isLoaded","name","version","type"];a.forEach(function(a){b.forEach(function(b){var c;if(void 0===a[b])throw Error("Plugin: ".concat(null!=(c=a.name)?c:"unknown"," missing required function ").concat(b))})})}(n=Array.isArray(m=p.sent())?m:[m]),o=l.filter(function(b){return b.destinationName===a.creationName}),n.forEach(function(b){var c=new aP(a.creationName,b);o.length&&e&&c.addMiddleware(e),k.push(c)}),p.label=5;case 5:return[3,7];case 6:return console.warn("Failed to load Remote Plugin",p.sent()),[3,7];case 7:return[2]}})})}))];case 1:return n.sent(),[2,k.filter(Boolean)]}})})})(b,d.integrations,u,e,o,n).catch(function(){return[]})];case 12:if(v=B.sent(),w=(0,f.fX)((0,f.fX)([aL],q,!0),v,!0),s&&w.push(s),(null==(k=e.integrations)?void 0:k.All)===!1&&!e.integrations["Segment.io"]||e.integrations&&!1===e.integrations["Segment.io"])return[3,14];return y=(x=w).push,[4,ax(d,u["Segment.io"],b.integrations)];case 13:y.apply(x,[B.sent()]),B.label=14;case 14:return[4,d.register.apply(d,(0,f.fX)((0,f.fX)([],w,!1),m,!1))];case 15:return z=B.sent(),[4,(0,f.sH)(void 0,void 0,void 0,function(){var a,b;return(0,f.YH)(this,function(c){switch(c.label){case 0:a=0,b=i.getAndRemove("register"),c.label=1;case 1:if(!(a<b.length))return[3,4];return[4,al(d,b[a]).catch(console.error)];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})];case 16:if(B.sent(),!Object.entries(null!=(l=b.enabledMiddleware)?l:{}).some(function(a){return a[1]}))return[3,18];return[4,c.e(521).then(c.bind(c,195825)).then(function(a){var c=a.remoteMiddlewares;return(0,f.sH)(A,void 0,void 0,function(){return(0,f.YH)(this,function(a){switch(a.label){case 0:return[4,c(z,b,e.obfuscate)];case 1:return[2,Promise.all(a.sent().map(function(a){return d.addSourceMiddleware(a)}))]}})})})];case 17:B.sent(),B.label=18;case 18:return[4,(0,f.sH)(void 0,void 0,void 0,function(){var a,b;return(0,f.YH)(this,function(c){switch(c.label){case 0:a=0,b=i.getAndRemove("addSourceMiddleware"),c.label=1;case 1:if(!(a<b.length))return[3,4];return[4,al(d,b[a]).catch(console.error)];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})];case 19:return B.sent(),[2,z]}})})}(a.writeKey,r,u,b,v,w,d)];case 6:return y=z.sent(),u.initialized=!0,u.emit("initialize",a,b),[4,function(a,b,c){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(d){switch(d.label){case 0:var e,g;return[4,(e=a,g=b,(0,f.sH)(void 0,void 0,void 0,function(){return(0,f.YH)(this,function(a){switch(a.label){case 0:if(!g.includes("ajs_"))return[3,2];return[4,e.queryString(g).catch(console.error)];case 1:a.sent(),a.label=2;case 2:return[2]}})}))];case 1:return d.sent(),ag(a,c),[2]}})})}(u,p,d)];case 7:return z.sent(),[2,[u,y]]}})})}(b[0],b[1],a)})})||this)._resolveLoadStart=function(a,b){return g([a,b])},b}return(0,f.C6)(b,a),b.prototype.load=function(a,b){return void 0===b&&(b={}),this._resolveLoadStart(a,b),this},b.load=function(a,c){return void 0===c&&(c={}),new b().load(a,c)},b.standalone=function(a,c){return b.load({writeKey:a},c).then(function(a){return a[0]})},b}(am),aW=c(112906),aX=function(){function a(){}return a.load=function(a){return(0,f.sH)(this,void 0,void 0,function(){var b,c,d,e,g;return(0,f.YH)(this,function(h){switch(h.label){case 0:return b={persist:!1},c=new J(new F.M(3,[])),d=new aD(a,{user:b,group:b},c),e={writeKey:a.writeKey,name:"analytics-node-next",type:"after",version:"latest"},[4,d.register(function(a){var b=this,c=function(c){return(0,f.sH)(b,void 0,void 0,function(){return(0,f.YH)(this,function(b){switch(b.label){case 0:return c.updateEvent("context.library.name","analytics-node-next"),c.updateEvent("context.library.version",_.r),c.updateEvent("_metadata.nodeVersion",process.versions.node),[4,function(a,b){return(0,f.sH)(this,void 0,void 0,function(){return(0,f.YH)(this,function(c){switch(c.label){case 0:return[4,(0,aW.default)("https://api.segment.io/v1/".concat(a.type),{method:"POST",headers:{"Content-Type":"application/json","User-Agent":"analytics-node-next/latest",Authorization:"Basic ".concat(Buffer.from(b).toString("base64"))},body:JSON.stringify(a)})];case 1:if(!c.sent().ok)throw Error("Message Rejected");return[2,a]}})})}(c.event,a.writeKey)];case 1:return b.sent(),[2,c]}})})};return{name:a.name,type:a.type,version:a.version,load:function(a){return Promise.resolve(a)},isLoaded:function(){return!0},track:c,identify:c,page:c,alias:c,group:c,screen:c}}(e))];case 1:return g=h.sent(),d.emit("initialize",a,null!=b?b:{}),[2,[d,g]]}})})},a}()},380687:(a,b,c)=>{function d(a,b){return new Promise(function(c,d){var e=setTimeout(function(){d(Error("Promise timed out"))},b);a.then(function(a){return clearTimeout(e),c(a)}).catch(d)})}function e(a,b,c){var e=function(){try{return Promise.resolve(b(a))}catch(a){return Promise.reject(a)}};return new Promise(function(a){return setTimeout(a,c)}).then(function(){return d(e(),1e3)}).catch(function(b){null==a||a.log("warn","Callback Error",{error:b}),null==a||a.stats.increment("callback_error")}).then(function(){return a})}c.d(b,{s2:()=>d,w_:()=>e})},705149:(a,b,c)=>{c.d(b,{p:()=>d});function d(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}}}};