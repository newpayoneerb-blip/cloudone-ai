"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20521],{14178:(t,e,r)=>{function n(){return"undefined"!=typeof window}function o(){return!n()}r.d(e,{B:()=>n,S:()=>o})},14717:(t,e,r)=>{r.d(e,{Ud:()=>u,kJ:()=>o,rY:()=>i});var n="htevents";function o(){return window[n]}function i(t){n=t}function u(t){window[n]=t}},14816:(t,e,r)=>{function n(t){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(e){return e.src===t})}function o(t,e){var r=n(t);if(void 0!==r){var o=null==r?void 0:r.getAttribute("status");if("loaded"===o)return Promise.resolve(r);if("loading"===o)return new Promise(function(t,e){r.addEventListener("load",function(){return t(r)}),r.addEventListener("error",function(t){return e(t)})})}return new Promise(function(r,n){var o,i=window.document.createElement("script");i.type="text/javascript",i.src=t,i.async=!0,i.setAttribute("status","loading");for(var u=0,a=Object.entries(null!=e?e:{});u<a.length;u++){var c=a[u],l=c[0],s=c[1];i.setAttribute(l,s)}i.onload=function(){i.onerror=i.onload=null,i.setAttribute("status","loaded"),r(i)},i.onerror=function(){i.onerror=i.onload=null,i.setAttribute("status","error"),n(Error("Failed to load ".concat(t)))};var d=window.document.getElementsByTagName("script")[0];null==(o=d.parentElement)||o.insertBefore(i,d)})}function i(t){var e=n(t);return void 0!==e&&e.remove(),Promise.resolve()}r.d(e,{d:()=>i,k:()=>o})},15615:(t,e,r)=>{r.r(e),r.d(e,{remoteMiddlewares:()=>a});var n=r(95520),o=r(91608),i=r(82714),u=r(45599);function a(t,e,r){var a;return(0,n.sH)(this,void 0,void 0,function(){var c,l=this;return(0,n.YH)(this,function(s){switch(s.label){case 0:if((0,o.S)())return[2,[]];return c=(0,u.YM)(),[4,Promise.all(Object.entries(null!=(a=e.enabledMiddleware)?a:{}).filter(function(t){return t[0],t[1]}).map(function(t){return t[0]}).map(function(e){return(0,n.sH)(l,void 0,void 0,function(){var o,u,a,l;return(0,n.YH)(this,function(n){switch(n.label){case 0:u=o=e.replace("@segment/",""),r&&(u=btoa(o).replace(/=/g,"")),a="".concat(c,"/middleware/").concat(u,"/latest/").concat(u,".js.gz"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,i.k)(a)];case 2:return n.sent(),[2,window["".concat(o,"Middleware")]];case 3:return l=n.sent(),t.log("error",l),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}))];case 1:return[2,s.sent().filter(Boolean)]}})})}},45599:(t,e,r)=>{r.d(e,{I2:()=>l,YM:()=>s,qQ:()=>c});var n,o=r(78219),i=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,u=function(){var t;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(e){var r,n=null!=(r=e.getAttribute("src"))?r:"",o=i.exec(n);o&&o[1]&&(t=o[1])}),t},a=function(){var t;return null!=n?n:null==(t=(0,o.kJ)())?void 0:t._cdn},c=function(t){var e=(0,o.kJ)();e&&(e._cdn=t),n=t},l=function(){var t=a();if(t)return t;var e=u();return e||"https://cdn.segment.com"},s=function(){var t=l();return"".concat(t,"/next-integrations")}},66357:(t,e,r)=>{r.d(e,{I2:()=>l,YM:()=>s,qQ:()=>c});var n,o=r(14717),i=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,u=function(){var t;return Array.prototype.slice.call(document.querySelectorAll("script")).forEach(function(e){var r,n=null!=(r=e.getAttribute("src"))?r:"",o=i.exec(n);o&&o[1]&&(t=o[1])}),t},a=function(){var t;return null!=n?n:null==(t=(0,o.kJ)())?void 0:t._cdn},c=function(t){var e=(0,o.kJ)();e&&(e._cdn=t),n=t},l=function(){var t=a();if(t)return t;var e=u();return e||"https://cdn.hightouch-events.com"},s=function(){var t=l();return"".concat(t,"/next-integrations")}},78219:(t,e,r)=>{r.d(e,{Ud:()=>u,kJ:()=>o,rY:()=>i});var n="analytics";function o(){return window[n]}function i(t){n=t}function u(t){window[n]=t}},82714:(t,e,r)=>{function n(t){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find(function(e){return e.src===t})}function o(t,e){var r=n(t);if(void 0!==r){var o=null==r?void 0:r.getAttribute("status");if("loaded"===o)return Promise.resolve(r);if("loading"===o)return new Promise(function(t,e){r.addEventListener("load",function(){return t(r)}),r.addEventListener("error",function(t){return e(t)})})}return new Promise(function(r,n){var o,i=window.document.createElement("script");i.type="text/javascript",i.src=t,i.async=!0,i.setAttribute("status","loading");for(var u=0,a=Object.entries(null!=e?e:{});u<a.length;u++){var c=a[u],l=c[0],s=c[1];i.setAttribute(l,s)}i.onload=function(){i.onerror=i.onload=null,i.setAttribute("status","loaded"),r(i)},i.onerror=function(){i.onerror=i.onload=null,i.setAttribute("status","error"),n(Error("Failed to load ".concat(t)))};var d=window.document.querySelector("script");d?null==(o=d.parentElement)||o.insertBefore(i,d):window.document.head.appendChild(i)})}function i(t){var e=n(t);return void 0!==e&&e.remove(),Promise.resolve()}r.d(e,{d:()=>i,k:()=>o})},87261:(t,e,r)=>{r.r(e),r.d(e,{remoteMiddlewares:()=>a});var n=r(95520),o=r(14178),i=r(14816),u=r(66357);function a(t,e,r){var a;return(0,n.sH)(this,void 0,void 0,function(){var c,l=this;return(0,n.YH)(this,function(s){switch(s.label){case 0:if((0,o.S)())return[2,[]];return c=(0,u.YM)(),[4,Promise.all(Object.entries(null!=(a=e.enabledMiddleware)?a:{}).filter(function(t){return t[0],t[1]}).map(function(t){return t[0]}).map(function(e){return(0,n.sH)(l,void 0,void 0,function(){var o,u,a,l;return(0,n.YH)(this,function(n){switch(n.label){case 0:u=o=e.replace("@segment/",""),r&&(u=btoa(o).replace(/=/g,"")),a="".concat(c,"/middleware/").concat(u,"/latest/").concat(u,".js.gz"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,i.k)(a)];case 2:return n.sent(),[2,window["".concat(o,"Middleware")]];case 3:return l=n.sent(),t.log("error",l),t.stats.increment("failed_remote_middleware"),[3,4];case 4:return[2]}})})}))];case 1:return[2,s.sent().filter(Boolean)]}})})}},91608:(t,e,r)=>{function n(){return"undefined"!=typeof window}function o(){return!n()}r.d(e,{B:()=>n,S:()=>o})}}]);