(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80263,84562],{12492:(e,t,r)=>{Promise.resolve().then(r.bind(r,86627))},27541:(e,t,r)=>{"use strict";var n=r(43041);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},46744:(e,t,r)=>{"use strict";r.d(t,{S:()=>i});let n=["javascript:","data:","vbscript:","file:","about:","blob:"];function a(e){let t=e.toLowerCase();for(let e of n)if(t.startsWith(e))return!0;return!!(e.startsWith("//")||e.includes("	")||e.includes("\n")||e.includes("\r")||e.includes("\0")||e.includes("&#"))}function i(e){let{redirectUrl:t,currentOrigin:r,allowedOrigins:n,allowDifferentOrigin:i}=e;if(!t)return!0;if("string"!=typeof t)return null;let u=t.trim();if(0===u.length)return!0;if(a(u))return null;let s=u;for(let e=0;e<3;e++)try{let e=decodeURIComponent(s);if(e===s)break;if(s=e,a(s))return null}catch{return null}if(u.startsWith("/")||!u.includes("://"))return u;try{let e=new URL(u);if("https:"!==e.protocol)return null;if(i)return u;let t=e.origin;if(t===r||n&&n.includes(t))return u;return null}catch{return null}}},80841:(e,t,r)=>{"use strict";function n(e){return!e||e.startsWith("/")?e.substring(1):e}r.d(t,{$:()=>n})},86627:(e,t,r)=>{"use strict";r.d(t,{JWTCallback:()=>l});var n=r(54568),a=r(27541),i=r(7620),u=r(80841),s=r(46744);let l=({callbackEndpoint:e})=>{let t=(0,a.useRouter)(),[r,l]=(0,i.useState)(null);return(0,i.useEffect)(()=>{(async()=>{let r=location.hash.slice(1),n=new URLSearchParams(location.search).get("redirect"),a=(0,s.S)({redirectUrl:n,currentOrigin:window.location.origin});if(!a)return l("Invalid redirect path. Please contact support.");try{let n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jwt:r})});if(n.ok)return void t.replace(`/${(0,u.$)("string"==typeof a?a:"")}`);{let e=`Login callback failed (${n.status})`;console.error(e),l(e)}}catch(e){console.error("Login callback failed:",e),l(`Login callback failed: ${e}`)}t.replace(location.pathname)})()},[]),r?(0,n.jsx)("div",{children:r}):(0,n.jsx)("div",{})}}},e=>{e.O(0,[587,90018,77358],()=>e(e.s=12492)),_N_E=e.O()}]);