"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71636],{71636:(e,t,n)=>{n.r(t),n.d(t,{createCommentNotationTransformer:()=>o,findAllSubstringIndexes:()=>m,parseMetaHighlightString:()=>a,parseMetaHighlightWords:()=>c,transformerCompactLineOptions:()=>s,transformerMetaHighlight:()=>f,transformerMetaWordHighlight:()=>u,transformerNotationDiff:()=>p,transformerNotationErrorLevel:()=>y,transformerNotationFocus:()=>x,transformerNotationHighlight:()=>v,transformerNotationMap:()=>g,transformerNotationWordHighlight:()=>M,transformerRemoveLineBreak:()=>j,transformerRemoveNotationEscape:()=>C,transformerRenderWhitespace:()=>_,transformerStyleToClass:()=>N});let r=[[/^(<!--)(.+)(-->)$/,!1],[/^(\/\*)(.+)(\*\/)$/,!1],[/^(\/\/|["'#]|;{1,2}|%{1,2}|--)(.*)$/,!0],[/^(\*)(.+)$/,!0]];function i(e,t){if("element"!==e.type)return!1;let n=e.children[0];return"text"===n.type&&n.value.trim()===t}function l(e,t){let n=e.trimStart(),i=e.length-n.length;n=n.trimEnd();let l=e.length-n.length-i;for(let[e,o]of r){if(o&&!t)continue;let r=e.exec(n);if(r)return[" ".repeat(i)+r[1],r[2],r[3]?r[3]+" ".repeat(l):void 0]}}function o(e,t,n,r){return null==r&&(r="v3"),{name:e,code(e){let o=e.children.filter(e=>"element"===e.type),s=[];e.data??={};let a=e.data;for(let e of(a._shiki_notation??=function(e,t,n){let r=[];for(let o of e){if("v3"===n){let e=o.children.flatMap((e,t)=>{if("element"!==e.type)return e;let n=e.children[0];if("text"!==n.type)return e;let r=t===o.children.length-1;if(!l(n.value,r))return e;let i=n.value.split(/(\s+\/\/)/);if(i.length<=1)return e;let s=[i[0]];for(let e=1;e<i.length;e+=2)s.push(i[e]+(i[e+1]||""));return(s=s.filter(Boolean)).length<=1?e:s.map(t=>({...e,children:[{type:"text",value:t}]}))});e.length!==o.children.length&&(o.children=e)}let e=o.children,s=e.length-1;"v1"===n?s=0:t&&(s=e.length-2);for(let n=Math.max(s,0);n<e.length;n++){let s=e[n];if("element"!==s.type)continue;let a=s.children.at(0);if(a?.type!=="text")continue;let h=n===e.length-1,f=l(a.value,h);if(f)if(t&&!h&&0!==n){let t=i(e[n-1],"{")&&i(e[n+1],"}");r.push({info:f,line:o,token:s,isLineCommentOnly:3===e.length&&1===s.children.length,isJsxStyle:t})}else r.push({info:f,line:o,token:s,isLineCommentOnly:1===e.length&&1===s.children.length,isJsxStyle:!1})}}return r}(o,["jsx","tsx"].includes(this.options.lang),r),a._shiki_notation)){if(0===e.info[1].length)continue;let i=o.indexOf(e.line);e.isLineCommentOnly&&"v1"!==r&&i++;let l=!1;if(e.info[1]=e.info[1].replace(t,(...t)=>n.call(this,t,e.line,e.token,o,i)?(l=!0,""):t[0]),!l)continue;"v1"===r&&(e.info[1]=function(e){let t=e.match(/(?:\/\/|["'#]|;{1,2}|%{1,2}|--)(\s*)$/);return t&&0===t[1].trim().length?e.slice(0,t.index):e}(e.info[1]));let a=0===e.info[1].trim().length;if(a&&(e.info[1]=""),a&&e.isLineCommentOnly)s.push(e.line);else if(a&&e.isJsxStyle)e.line.children.splice(e.line.children.indexOf(e.token)-1,3);else if(a)e.line.children.splice(e.line.children.indexOf(e.token),1);else{let t=e.token.children[0];"text"===t.type&&(t.value=e.info.join(""))}}for(let t of s){let n=e.children.indexOf(t),r=e.children[n+1],i=1;r?.type==="text"&&r?.value==="\n"&&(i=2),e.children.splice(n,i)}}}}function s(e=[]){return{name:"@shikijs/transformers:compact-line-options",line(t,n){let r=e.find(e=>e.line===n);return r?.classes&&this.addClassToHast(t,r.classes),t}}}function a(e){if(!e)return null;let t=e.match(/\{([\d,-]+)\}/);return t?t[1].split(",").flatMap(e=>{let t=e.split("-").map(e=>Number.parseInt(e,10));return 1===t.length?[t[0]]:Array.from({length:t[1]-t[0]+1},(e,n)=>n+t[0])}):null}let h=Symbol("highlighted-lines");function f(e={}){let{className:t="highlighted"}=e;return{name:"@shikijs/transformers:meta-highlight",line(e,n){if(!this.options.meta?.__raw)return;let r=this.meta;return r[h]??=a(this.options.meta.__raw),(r[h]??[]).includes(n)&&this.addClassToHast(e,t),e}}}function c(e){return e?Array.from(e.matchAll(/\/((?:\\.|[^/])+)\//g)).map(e=>e[1].replace(/\\(.)/g,"$1")):[]}function u(e={}){let{className:t="highlighted-word"}=e;return{name:"@shikijs/transformers:meta-word-highlight",preprocess(e,n){if(!this.options.meta?.__raw)return;let r=c(this.options.meta.__raw);for(let i of(n.decorations||=[],r))for(let r of m(e,i))n.decorations.push({start:r,end:r+i.length,properties:{class:t}})}}}function m(e,t){let n=[],r=0;for(;;){let i=e.indexOf(t,r);if(-1===i||i>=e.length||i<r)break;n.push(i),r=i+t.length}return n}function d(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e={},t="@shikijs/transformers:notation-map"){let{classMap:n={},classActivePre:r}=e;return o(t,RegExp(`\\s*\\[!code (${Object.keys(n).map(d).join("|")})(:\\d+)?\\]`),function([e,t,i=":1"],l,o,s,a){let h=Number.parseInt(i.slice(1),10);for(let e=a;e<Math.min(a+h,s.length);e++)this.addClassToHast(s[e],n[t]);return r&&this.addClassToHast(this.pre,r),!0},e.matchAlgorithm)}function p(e={}){let{classLineAdd:t="diff add",classLineRemove:n="diff remove",classActivePre:r="has-diff"}=e;return g({classMap:{"++":t,"--":n},classActivePre:r,matchAlgorithm:e.matchAlgorithm},"@shikijs/transformers:notation-diff")}function y(e={}){let{classMap:t={error:["highlighted","error"],warning:["highlighted","warning"]},classActivePre:n="has-highlighted"}=e;return g({classMap:t,classActivePre:n,matchAlgorithm:e.matchAlgorithm},"@shikijs/transformers:notation-error-level")}function x(e={}){let{classActiveLine:t="focused",classActivePre:n="has-focused"}=e;return g({classMap:{focus:t},classActivePre:n,matchAlgorithm:e.matchAlgorithm},"@shikijs/transformers:notation-focus")}function v(e={}){let{classActiveLine:t="highlighted",classActivePre:n="has-highlighted"}=e;return g({classMap:{highlight:t,hl:t},classActivePre:n,matchAlgorithm:e.matchAlgorithm},"@shikijs/transformers:notation-highlight")}function k(e,t,n,r){let i=function e(t){return"text"===t.type?t.value:"element"===t.type&&"span"===t.tagName?t.children.map(e).join(""):""}(e),l=i.indexOf(n);for(;-1!==l;)b.call(this,e.children,t,l,n.length,r),l=i.indexOf(n,l+1)}function b(e,t,n,r,i){let l=0;for(let a=0;a<e.length;a++){let h=e[a];if("element"!==h.type||"span"!==h.tagName||h===t)continue;let f=h.children[0];if("text"===f.type){var o,s;if(o=[l,l+f.value.length-1],o[0]<=(s=[n,n+r])[1]&&o[1]>=s[0]){let t=Math.max(0,n-l),o=r-Math.max(0,l-n);if(0===o)continue;let s=function(e,t,n,r){let i=t.value,l=t=>{var n,r;return n=e,r={children:[{type:"text",value:t}]},{...n,properties:{...n.properties},...r}};return[n>0?l(i.slice(0,n)):void 0,l(i.slice(n,n+r)),n+r<i.length?l(i.slice(n+r)):void 0]}(h,f,t,o);this.addClassToHast(s[1],i);let c=s.filter(Boolean);e.splice(a,1,...c),a+=c.length-1}l+=f.value.length}}}function M(e={}){let{classActiveWord:t="highlighted-word",classActivePre:n}=e;return o("@shikijs/transformers:notation-highlight-word",/\s*\[!code word:((?:\\.|[^:\]])+)(:\d+)?\]/,function([e,r,i],l,o,s,a){let h=i?Number.parseInt(i.slice(1),10):s.length;r=r.replace(/\\(.)/g,"$1");for(let e=a;e<Math.min(a+h,s.length);e++)k.call(this,s[e],o,r,t);return n&&this.addClassToHast(this.pre,n),!0},e.matchAlgorithm)}function j(){return{name:"@shikijs/transformers:remove-line-break",code(e){e.children=e.children.filter(e=>"text"!==e.type||"\n"!==e.value)}}}function C(){return{name:"@shikijs/transformers:remove-notation-escape",code:e=>(!function e(t){if("text"===t.type)t.value=t.value.replace("\\[!code","[!code");else if("children"in t)for(let n of t.children)e(n)}(e),e)}}function A(e){return" "===e||"	"===e}function _(e={}){let t={" ":e.classSpace??"space","	":e.classTab??"tab"},n=e.position??"all",r=Object.keys(t);return{name:"@shikijs/transformers:render-whitespace",root(e){let i=e.children[0];("pre"===i.tagName?i.children[0]:{children:[e]}).children.forEach(e=>{if("element"!==e.type&&"root"!==e.type)return;let i=e.children.filter(e=>"element"===e.type),l=i.length-1;e.children=e.children.flatMap(e=>{if("element"!==e.type)return e;let o=i.indexOf(e);if("boundary"===n&&0!==o&&o!==l||"trailing"===n&&o!==l)return e;let s=e.children[0];if("text"!==s.type||!s.value)return e;let a=function(e,t,n=!0){if("all"===t)return e;let r=0,i=0;if("boundary"===t)for(let t=0;t<e.length;t++)if(A(e[t]))r++;else break;if("boundary"===t||"trailing"===t)for(let t=e.length-1;t>=0;t--)if(A(e[t]))i++;else break;let l=e.slice(r,e.length-i);return[...e.slice(0,r),...n?function(e){let t=[],n="";function r(){n.length&&t.push(n),n=""}return e.forEach((i,l)=>{"	"===i||A(i)&&(A(e[l-1])||A(e[l+1]))?(r(),t.push(i)):n+=i}),r(),t}(l):[l.join("")],...e.slice(e.length-i)]}(s.value.split(/([ \t])/).filter(e=>e.length),"boundary"===n&&o===l&&0!==l?"trailing":n,"trailing"!==n);return a.length<=1?e:a.map(n=>{let i={...e,properties:{...e.properties}};return i.children=[{type:"text",value:n}],r.includes(n)&&(this.addClassToHast(i,t[n]),delete i.properties.style),i})})})}}}function N(e={}){let{classPrefix:t="__shiki_",classSuffix:n="",classReplacer:r=e=>e}=e,i=new Map;function l(e){return Object.entries(e).map(([e,t])=>`${e}:${t}`).join(";")}function o(e){let o=t+function(e,t=0){let n=0xdeadbeef^t,r=0x41c6ce57^t;for(let t=0,i;t<e.length;t++)n=Math.imul(n^(i=e.charCodeAt(t)),0x9e3779b1),r=Math.imul(r^i,0x5f356495);return n=Math.imul(n^n>>>16,0x85ebca6b)^Math.imul(r^r>>>13,0xc2b2ae35),(0x100000000*(2097151&(r=Math.imul(r^r>>>16,0x85ebca6b)^Math.imul(n^n>>>13,0xc2b2ae35)))+(n>>>0)).toString(36).slice(0,6)}("string"==typeof e?e:l(e))+n;return o=r(o),i.has(o)||i.set(o,"string"==typeof e?e:{...e}),o}return{name:"@shikijs/transformers:style-to-class",pre(e){if(!e.properties.style)return;let t=o(e.properties.style);delete e.properties.style,this.addClassToHast(e,t)},tokens(e){for(let t of e)for(let e of t){if(!e.htmlStyle)continue;let t=o(e.htmlStyle);e.htmlStyle={},e.htmlAttrs||={},e.htmlAttrs.class?e.htmlAttrs.class+=` ${t}`:e.htmlAttrs.class=t}},getClassRegistry:()=>i,getCSS(){let e="";for(let[t,n]of i.entries())e+=`.${t}{${"string"==typeof n?n:l(n)}}`;return e},clearRegistry(){i.clear()}}}}}]);