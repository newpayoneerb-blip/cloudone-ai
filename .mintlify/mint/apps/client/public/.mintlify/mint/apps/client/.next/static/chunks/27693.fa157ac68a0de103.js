(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27693],{27693:(t,e,n)=>{"use strict";n.d(e,{diagram:()=>V});var i=n(51741),r=n(27283),a=n(88610),o=n(87242),s=n(33467),l=n(65622),c=n(41985),d=n(78155),h=n(15791),g=n(5703),u=function(){var t=(0,o.K2)(function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},"o"),e=[1,4],n=[1,13],i=[1,12],r=[1,15],a=[1,16],s=[1,20],l=[1,19],c=[6,7,8],d=[1,26],h=[1,24],g=[1,25],u=[6,7,11],p=[1,6,13,15,16,19,22],y=[1,33],f=[1,34],m=[1,6,7,11,13,15,16,19,22],E={trace:(0,o.K2)(function(){},"trace"),yy:{},symbols_:{error:2,start:3,mindMap:4,spaceLines:5,SPACELINE:6,NL:7,MINDMAP:8,document:9,stop:10,EOF:11,statement:12,SPACELIST:13,node:14,ICON:15,CLASS:16,nodeWithId:17,nodeWithoutId:18,NODE_DSTART:19,NODE_DESCR:20,NODE_DEND:21,NODE_ID:22,$accept:0,$end:1},terminals_:{2:"error",6:"SPACELINE",7:"NL",8:"MINDMAP",11:"EOF",13:"SPACELIST",15:"ICON",16:"CLASS",19:"NODE_DSTART",20:"NODE_DESCR",21:"NODE_DEND",22:"NODE_ID"},productions_:[0,[3,1],[3,2],[5,1],[5,2],[5,2],[4,2],[4,3],[10,1],[10,1],[10,1],[10,2],[10,2],[9,3],[9,2],[12,2],[12,2],[12,2],[12,1],[12,1],[12,1],[12,1],[12,1],[14,1],[14,1],[18,3],[17,1],[17,4]],performAction:(0,o.K2)(function(t,e,n,i,r,a,o){var s=a.length-1;switch(r){case 6:case 7:return i;case 8:i.getLogger().trace("Stop NL ");break;case 9:i.getLogger().trace("Stop EOF ");break;case 11:i.getLogger().trace("Stop NL2 ");break;case 12:i.getLogger().trace("Stop EOF2 ");break;case 15:i.getLogger().info("Node: ",a[s].id),i.addNode(a[s-1].length,a[s].id,a[s].descr,a[s].type);break;case 16:i.getLogger().trace("Icon: ",a[s]),i.decorateNode({icon:a[s]});break;case 17:case 21:i.decorateNode({class:a[s]});break;case 18:i.getLogger().trace("SPACELIST");break;case 19:i.getLogger().trace("Node: ",a[s].id),i.addNode(0,a[s].id,a[s].descr,a[s].type);break;case 20:i.decorateNode({icon:a[s]});break;case 25:i.getLogger().trace("node found ..",a[s-2]),this.$={id:a[s-1],descr:a[s-1],type:i.getType(a[s-2],a[s])};break;case 26:this.$={id:a[s],descr:a[s],type:i.nodeType.DEFAULT};break;case 27:i.getLogger().trace("node found ..",a[s-3]),this.$={id:a[s-3],descr:a[s-1],type:i.getType(a[s-2],a[s])}}},"anonymous"),table:[{3:1,4:2,5:3,6:[1,5],8:e},{1:[3]},{1:[2,1]},{4:6,6:[1,7],7:[1,8],8:e},{6:n,7:[1,10],9:9,12:11,13:i,14:14,15:r,16:a,17:17,18:18,19:s,22:l},t(c,[2,3]),{1:[2,2]},t(c,[2,4]),t(c,[2,5]),{1:[2,6],6:n,12:21,13:i,14:14,15:r,16:a,17:17,18:18,19:s,22:l},{6:n,9:22,12:11,13:i,14:14,15:r,16:a,17:17,18:18,19:s,22:l},{6:d,7:h,10:23,11:g},t(u,[2,22],{17:17,18:18,14:27,15:[1,28],16:[1,29],19:s,22:l}),t(u,[2,18]),t(u,[2,19]),t(u,[2,20]),t(u,[2,21]),t(u,[2,23]),t(u,[2,24]),t(u,[2,26],{19:[1,30]}),{20:[1,31]},{6:d,7:h,10:32,11:g},{1:[2,7],6:n,12:21,13:i,14:14,15:r,16:a,17:17,18:18,19:s,22:l},t(p,[2,14],{7:y,11:f}),t(m,[2,8]),t(m,[2,9]),t(m,[2,10]),t(u,[2,15]),t(u,[2,16]),t(u,[2,17]),{20:[1,35]},{21:[1,36]},t(p,[2,13],{7:y,11:f}),t(m,[2,11]),t(m,[2,12]),{21:[1,37]},t(u,[2,25]),t(u,[2,27])],defaultActions:{2:[2,1],6:[2,2]},parseError:(0,o.K2)(function(t,e){if(e.recoverable)this.trace(t);else{var n=Error(t);throw n.hash=e,n}},"parseError"),parse:(0,o.K2)(function(t){var e=this,n=[0],i=[],r=[null],a=[],s=this.table,l="",c=0,d=0,h=0,g=a.slice.call(arguments,1),u=Object.create(this.lexer),p={};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p[y]=this.yy[y]);u.setInput(t,p),p.lexer=u,p.parser=this,void 0===u.yylloc&&(u.yylloc={});var f=u.yylloc;a.push(f);var m=u.options&&u.options.ranges;function E(){var t;return"number"!=typeof(t=i.pop()||u.lex()||1)&&(t instanceof Array&&(t=(i=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof p.parseError?this.parseError=p.parseError:this.parseError=Object.getPrototypeOf(this).parseError,(0,o.K2)(function(t){n.length=n.length-2*t,r.length=r.length-t,a.length=a.length-t},"popStack"),(0,o.K2)(E,"lex");for(var _,L,N,$,b,T,I,D,A,S={};;){if(N=n[n.length-1],this.defaultActions[N]?$=this.defaultActions[N]:(null==_&&(_=E()),$=s[N]&&s[N][_]),void 0===$||!$.length||!$[0]){var x="";for(T in A=[],s[N])this.terminals_[T]&&T>2&&A.push("'"+this.terminals_[T]+"'");x=u.showPosition?"Parse error on line "+(c+1)+":\n"+u.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[_]||_)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==_?"end of input":"'"+(this.terminals_[_]||_)+"'"),this.parseError(x,{text:u.match,token:this.terminals_[_]||_,line:u.yylineno,loc:f,expected:A})}if($[0]instanceof Array&&$.length>1)throw Error("Parse Error: multiple actions possible at state: "+N+", token: "+_);switch($[0]){case 1:n.push(_),r.push(u.yytext),a.push(u.yylloc),n.push($[1]),_=null,L?(_=L,L=null):(d=u.yyleng,l=u.yytext,c=u.yylineno,f=u.yylloc,h>0&&h--);break;case 2:if(I=this.productions_[$[1]][1],S.$=r[r.length-I],S._$={first_line:a[a.length-(I||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(I||1)].first_column,last_column:a[a.length-1].last_column},m&&(S._$.range=[a[a.length-(I||1)].range[0],a[a.length-1].range[1]]),void 0!==(b=this.performAction.apply(S,[l,d,c,p,$[1],r,a].concat(g))))return b;I&&(n=n.slice(0,-1*I*2),r=r.slice(0,-1*I),a=a.slice(0,-1*I)),n.push(this.productions_[$[1]][0]),r.push(S.$),a.push(S._$),D=s[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0},"parse")};function _(){this.yy={}}return E.lexer={EOF:1,parseError:(0,o.K2)(function(t,e){if(this.yy.parser)this.yy.parser.parseError(t,e);else throw Error(t)},"parseError"),setInput:(0,o.K2)(function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"setInput"),input:(0,o.K2)(function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},"input"),unput:(0,o.K2)(function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},"unput"),more:(0,o.K2)(function(){return this._more=!0,this},"more"),reject:(0,o.K2)(function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"reject"),less:(0,o.K2)(function(t){this.unput(this.match.slice(t))},"less"),pastInput:(0,o.K2)(function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},"pastInput"),upcomingInput:(0,o.K2)(function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},"upcomingInput"),showPosition:(0,o.K2)(function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},"showPosition"),test_match:(0,o.K2)(function(t,e){var n,i,r;if(this.options.backtrack_lexer&&(r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(r.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var a in r)this[a]=r[a];return!1},"test_match"),next:(0,o.K2)(function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,n,i,r=this._currentRules(),a=0;a<r.length;a++)if((n=this._input.match(this.rules[r[a]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=a,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[a])))return t;if(!this._backtrack)return!1;e=!1;continue}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},"next"),lex:(0,o.K2)(function(){var t=this.next();return t||this.lex()},"lex"),begin:(0,o.K2)(function(t){this.conditionStack.push(t)},"begin"),popState:(0,o.K2)(function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},"popState"),_currentRules:(0,o.K2)(function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},"_currentRules"),topState:(0,o.K2)(function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},"topState"),pushState:(0,o.K2)(function(t){this.begin(t)},"pushState"),stateStackSize:(0,o.K2)(function(){return this.conditionStack.length},"stateStackSize"),options:{"case-insensitive":!0},performAction:(0,o.K2)(function(t,e,n,i){switch(n){case 0:return t.getLogger().trace("Found comment",e.yytext),6;case 1:return 8;case 2:this.begin("CLASS");break;case 3:return this.popState(),16;case 4:case 23:case 26:this.popState();break;case 5:t.getLogger().trace("Begin icon"),this.begin("ICON");break;case 6:return t.getLogger().trace("SPACELINE"),6;case 7:return 7;case 8:return 15;case 9:t.getLogger().trace("end icon"),this.popState();break;case 10:return t.getLogger().trace("Exploding node"),this.begin("NODE"),19;case 11:return t.getLogger().trace("Cloud"),this.begin("NODE"),19;case 12:return t.getLogger().trace("Explosion Bang"),this.begin("NODE"),19;case 13:return t.getLogger().trace("Cloud Bang"),this.begin("NODE"),19;case 14:case 15:case 16:case 17:return this.begin("NODE"),19;case 18:return 13;case 19:return 22;case 20:return 11;case 21:this.begin("NSTR2");break;case 22:return"NODE_DESCR";case 24:t.getLogger().trace("Starting NSTR"),this.begin("NSTR");break;case 25:return t.getLogger().trace("description:",e.yytext),"NODE_DESCR";case 27:return this.popState(),t.getLogger().trace("node end ))"),"NODE_DEND";case 28:return this.popState(),t.getLogger().trace("node end )"),"NODE_DEND";case 29:return this.popState(),t.getLogger().trace("node end ...",e.yytext),"NODE_DEND";case 30:case 33:case 34:return this.popState(),t.getLogger().trace("node end (("),"NODE_DEND";case 31:case 32:return this.popState(),t.getLogger().trace("node end (-"),"NODE_DEND";case 35:case 36:return t.getLogger().trace("Long description:",e.yytext),20}},"anonymous"),rules:[/^(?:\s*%%.*)/i,/^(?:mindmap\b)/i,/^(?::::)/i,/^(?:.+)/i,/^(?:\n)/i,/^(?:::icon\()/i,/^(?:[\s]+[\n])/i,/^(?:[\n]+)/i,/^(?:[^\)]+)/i,/^(?:\))/i,/^(?:-\))/i,/^(?:\(-)/i,/^(?:\)\))/i,/^(?:\))/i,/^(?:\(\()/i,/^(?:\{\{)/i,/^(?:\()/i,/^(?:\[)/i,/^(?:[\s]+)/i,/^(?:[^\(\[\n\)\{\}]+)/i,/^(?:$)/i,/^(?:["][`])/i,/^(?:[^`"]+)/i,/^(?:[`]["])/i,/^(?:["])/i,/^(?:[^"]+)/i,/^(?:["])/i,/^(?:[\)]\))/i,/^(?:[\)])/i,/^(?:[\]])/i,/^(?:\}\})/i,/^(?:\(-)/i,/^(?:-\))/i,/^(?:\(\()/i,/^(?:\()/i,/^(?:[^\)\]\(\}]+)/i,/^(?:.+(?!\(\())/i],conditions:{CLASS:{rules:[3,4],inclusive:!1},ICON:{rules:[8,9],inclusive:!1},NSTR2:{rules:[22,23],inclusive:!1},NSTR:{rules:[25,26],inclusive:!1},NODE:{rules:[21,24,27,28,29,30,31,32,33,34,35,36],inclusive:!1},INITIAL:{rules:[0,1,2,5,6,7,10,11,12,13,14,15,16,17,18,19,20],inclusive:!0}}},(0,o.K2)(_,"Parser"),_.prototype=E,E.Parser=_,new _}();u.parser=u;var p=[],y=0,f={},m=(0,o.K2)(()=>{p=[],y=0,f={}},"clear"),E=(0,o.K2)(function(t){for(let e=p.length-1;e>=0;e--)if(p[e].level<t)return p[e];return null},"getParent"),_=(0,o.K2)(()=>p.length>0?p[0]:null,"getMindmap"),L=(0,o.K2)((t,e,n,i)=>{o.Rm.info("addNode",t,e,n,i);let r=(0,o.D7)(),a=r.mindmap?.padding??o.UI.mindmap.padding;switch(i){case N.ROUNDED_RECT:case N.RECT:case N.HEXAGON:a*=2}let s={id:y++,nodeId:(0,o.jZ)(e,r),level:t,descr:(0,o.jZ)(n,r),type:i,children:[],width:r.mindmap?.maxNodeWidth??o.UI.mindmap.maxNodeWidth,padding:a},l=E(t);if(l)l.children.push(s),p.push(s);else if(0===p.length)p.push(s);else throw Error('There can be only one root. No parent could be found for ("'+s.descr+'")')},"addNode"),N={DEFAULT:0,NO_BORDER:0,ROUNDED_RECT:1,RECT:2,CIRCLE:3,CLOUD:4,BANG:5,HEXAGON:6},$=(0,o.K2)((t,e)=>{switch(o.Rm.debug("In get type",t,e),t){case"[":return N.RECT;case"(":return")"===e?N.ROUNDED_RECT:N.CLOUD;case"((":return N.CIRCLE;case")":return N.CLOUD;case"))":return N.BANG;case"{{":return N.HEXAGON;default:return N.DEFAULT}},"getType"),b=(0,o.K2)((t,e)=>{f[t]=e},"setElementForId"),T=(0,o.K2)(t=>{if(!t)return;let e=(0,o.D7)(),n=p[p.length-1];t.icon&&(n.icon=(0,o.jZ)(t.icon,e)),t.class&&(n.class=(0,o.jZ)(t.class,e))},"decorateNode"),I=(0,o.K2)(t=>{switch(t){case N.DEFAULT:return"no-border";case N.RECT:return"rect";case N.ROUNDED_RECT:return"rounded-rect";case N.CIRCLE:return"circle";case N.CLOUD:return"cloud";case N.BANG:return"bang";case N.HEXAGON:return"hexgon";default:return"no-border"}},"type2Str"),D=(0,o.K2)(()=>o.Rm,"getLogger"),A=(0,o.K2)(t=>f[t],"getElementById"),S=(0,o.K2)(function(t,e,n,i){e.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("d",`M0 ${n.height-5} v${-n.height+10} q0,-5 5,-5 h${n.width-10} q5,0 5,5 v${n.height-5} H0 Z`),e.append("line").attr("class","node-line-"+i).attr("x1",0).attr("y1",n.height).attr("x2",n.width).attr("y2",n.height)},"defaultBkg"),x=(0,o.K2)(function(t,e,n){e.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("height",n.height).attr("width",n.width)},"rectBkg"),R=(0,o.K2)(function(t,e,n){let i=n.width,r=n.height,a=.15*i,o=.25*i,s=.35*i,l=.2*i;e.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("d",`M0 0 a${a},${a} 0 0,1 ${.25*i},${-1*i*.1}
      a${s},${s} 1 0,1 ${.4*i},${-1*i*.1}
      a${o},${o} 1 0,1 ${.35*i},${.2*i}

      a${a},${a} 1 0,1 ${.15*i},${.35*r}
      a${l},${l} 1 0,1 ${-1*i*.15},${.65*r}

      a${o},${a} 1 0,1 ${-1*i*.25},${.15*i}
      a${s},${s} 1 0,1 ${-1*i*.5},0
      a${a},${a} 1 0,1 ${-1*i*.25},${-1*i*.15}

      a${a},${a} 1 0,1 ${-1*i*.1},${-1*r*.35}
      a${l},${l} 1 0,1 ${.1*i},${-1*r*.65}

    H0 V0 Z`)},"cloudBkg"),k=(0,o.K2)(function(t,e,n){let i=n.width,r=n.height,a=.15*i;e.append("path").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("d",`M0 0 a${a},${a} 1 0,0 ${.25*i},${-1*r*.1}
      a${a},${a} 1 0,0 ${.25*i},0
      a${a},${a} 1 0,0 ${.25*i},0
      a${a},${a} 1 0,0 ${.25*i},${.1*r}

      a${a},${a} 1 0,0 ${.15*i},${.33*r}
      a${.8*a},${.8*a} 1 0,0 0,${.34*r}
      a${a},${a} 1 0,0 ${-1*i*.15},${.33*r}

      a${a},${a} 1 0,0 ${-1*i*.25},${.15*r}
      a${a},${a} 1 0,0 ${-1*i*.25},0
      a${a},${a} 1 0,0 ${-1*i*.25},0
      a${a},${a} 1 0,0 ${-1*i*.25},${-1*r*.15}

      a${a},${a} 1 0,0 ${-1*i*.1},${-1*r*.33}
      a${.8*a},${.8*a} 1 0,0 0,${-1*r*.34}
      a${a},${a} 1 0,0 ${.1*i},${-1*r*.33}

    H0 V0 Z`)},"bangBkg"),O=(0,o.K2)(function(t,e,n){e.append("circle").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("r",n.width/2)},"circleBkg");function C(t,e,n,i,r){return t.insert("polygon",":first-child").attr("points",i.map(function(t){return t.x+","+t.y}).join(" ")).attr("transform","translate("+(r.width-e)/2+", "+n+")")}(0,o.K2)(C,"insertPolygonShape");var v=(0,o.K2)(function(t,e,n){let i=n.height,r=i/4,a=n.width-n.padding+2*r,o=[{x:r,y:0},{x:a-r,y:0},{x:a,y:-i/2},{x:a-r,y:-i},{x:r,y:-i},{x:0,y:-i/2}];C(e,a,i,o,n)},"hexagonBkg"),w=(0,o.K2)(function(t,e,n){e.append("rect").attr("id","node-"+n.id).attr("class","node-bkg node-"+t.type2Str(n.type)).attr("height",n.height).attr("rx",n.padding).attr("ry",n.padding).attr("width",n.width)},"roundedRectBkg"),P=(0,o.K2)(async function(t,e,n,a,o){let s=o.htmlLabels,l=a%11,c=e.append("g");n.section=l;let d="section-"+l;l<0&&(d+=" section-root"),c.attr("class",(n.class?n.class+" ":"")+"mindmap-node "+d);let h=c.append("g"),g=c.append("g"),u=n.descr.replace(/(<br\/*>)/g,"\n");await (0,i.GZ)(g,u,{useHtmlLabels:s,width:n.width,classes:"mindmap-node-label"},o),s||g.attr("dy","1em").attr("alignment-baseline","middle").attr("dominant-baseline","middle").attr("text-anchor","middle");let p=g.node().getBBox(),[y]=(0,r.I5)(o.fontSize);if(n.height=p.height+1.1*y*.5+n.padding,n.width=p.width+2*n.padding,n.icon)if(n.type===t.nodeType.CIRCLE)n.height+=50,n.width+=50,c.append("foreignObject").attr("height","50px").attr("width",n.width).attr("style","text-align: center;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+n.icon),g.attr("transform","translate("+n.width/2+", "+(n.height/2-1.5*n.padding)+")");else{n.width+=50;let t=n.height;n.height=Math.max(t,60);let e=Math.abs(n.height-t);c.append("foreignObject").attr("width","60px").attr("height",n.height).attr("style","text-align: center;margin-top:"+e/2+"px;").append("div").attr("class","icon-container").append("i").attr("class","node-icon-"+l+" "+n.icon),g.attr("transform","translate("+(25+n.width/2)+", "+(e/2+n.padding/2)+")")}else if(s){let t=(n.width-p.width)/2,e=(n.height-p.height)/2;g.attr("transform","translate("+t+", "+e+")")}else{let t=n.width/2,e=n.padding/2;g.attr("transform","translate("+t+", "+e+")")}switch(n.type){case t.nodeType.DEFAULT:S(t,h,n,l);break;case t.nodeType.ROUNDED_RECT:w(t,h,n,l);break;case t.nodeType.RECT:x(t,h,n,l);break;case t.nodeType.CIRCLE:h.attr("transform","translate("+n.width/2+", "+n.height/2+")"),O(t,h,n,l);break;case t.nodeType.CLOUD:R(t,h,n,l);break;case t.nodeType.BANG:k(t,h,n,l);break;case t.nodeType.HEXAGON:v(t,h,n,l)}return t.setElementForId(n.id,c),n.height},"drawNode"),K=(0,o.K2)(function(t,e){let n=t.getElementById(e.id),i=e.x||0,r=e.y||0;n.attr("transform","translate("+i+","+r+")")},"positionNode");async function F(t,e,n,i,r){await P(t,e,n,i,r),n.children&&await Promise.all(n.children.map((n,a)=>F(t,e,n,i<0?a:i,r)))}function U(t,e){e.edges().map((e,n)=>{let i=e.data();if(e[0]._private.bodyBounds){let r=e[0]._private.rscratch;o.Rm.trace("Edge: ",n,i),t.insert("path").attr("d",`M ${r.startX},${r.startY} L ${r.midX},${r.midY} L${r.endX},${r.endY} `).attr("class","edge section-edge-"+i.section+" edge-depth-"+i.depth)}})}function G(t,e,n,i){e.add({group:"nodes",data:{id:t.id.toString(),labelText:t.descr,height:t.height,width:t.width,level:i,nodeId:t.id,padding:t.padding,type:t.type},position:{x:t.x,y:t.y}}),t.children&&t.children.forEach(r=>{G(r,e,n,i+1),e.add({group:"edges",data:{id:`${t.id}_${r.id}`,source:t.id,target:r.id,depth:i,section:r.section}})})}function M(t,e){return new Promise(n=>{let i=(0,c.Ltv)("body").append("div").attr("id","cy").attr("style","display:none"),r=(0,s.A)({container:document.getElementById("cy"),style:[{selector:"edge",style:{"curve-style":"bezier"}}]});i.remove(),G(t,r,e,0),r.nodes().forEach(function(t){t.layoutDimensions=()=>{let e=t.data();return{w:e.width,h:e.height}}}),r.layout({name:"cose-bilkent",quality:"proof",styleEnabled:!1,animate:!1}).run(),r.ready(t=>{o.Rm.info("Ready",t),n(r)})})}function B(t,e){e.nodes().map((e,n)=>{let i=e.data();i.x=e.position().x,i.y=e.position().y,K(t,i);let r=t.getElementById(i.nodeId);o.Rm.info("Id:",n,"Position: (",e.position().x,", ",e.position().y,")",i),r.attr("transform",`translate(${e.position().x-i.width/2}, ${e.position().y-i.height/2})`),r.attr("attr",`apa-${n})`)})}s.A.use(l),(0,o.K2)(F,"drawNodes"),(0,o.K2)(U,"drawEdges"),(0,o.K2)(G,"addNodes"),(0,o.K2)(M,"layoutMindmap"),(0,o.K2)(B,"positionNodes");var H=(0,o.K2)(async(t,e,n,i)=>{o.Rm.debug("Rendering mindmap diagram\n"+t);let r=i.db,s=r.getMindmap();if(!s)return;let l=(0,o.D7)();l.htmlLabels=!1;let c=(0,a.D)(e),d=c.append("g");d.attr("class","mindmap-edges");let h=c.append("g");h.attr("class","mindmap-nodes"),await F(r,h,s,-1,l);let g=await M(s,l);U(d,g),B(r,g),(0,o.ot)(void 0,c,l.mindmap?.padding??o.UI.mindmap.padding,l.mindmap?.useMaxWidth??o.UI.mindmap.useMaxWidth)},"draw"),j=(0,o.K2)(t=>{let e="";for(let e=0;e<t.THEME_COLOR_LIMIT;e++)t["lineColor"+e]=t["lineColor"+e]||t["cScaleInv"+e],(0,d.A)(t["lineColor"+e])?t["lineColor"+e]=(0,h.A)(t["lineColor"+e],20):t["lineColor"+e]=(0,g.A)(t["lineColor"+e],20);for(let n=0;n<t.THEME_COLOR_LIMIT;n++){let i=""+(17-3*n);e+=`
    .section-${n-1} rect, .section-${n-1} path, .section-${n-1} circle, .section-${n-1} polygon, .section-${n-1} path  {
      fill: ${t["cScale"+n]};
    }
    .section-${n-1} text {
     fill: ${t["cScaleLabel"+n]};
    }
    .node-icon-${n-1} {
      font-size: 40px;
      color: ${t["cScaleLabel"+n]};
    }
    .section-edge-${n-1}{
      stroke: ${t["cScale"+n]};
    }
    .edge-depth-${n-1}{
      stroke-width: ${i};
    }
    .section-${n-1} line {
      stroke: ${t["cScaleInv"+n]} ;
      stroke-width: 3;
    }

    .disabled, .disabled circle, .disabled text {
      fill: lightgray;
    }
    .disabled text {
      fill: #efefef;
    }
    `}return e},"genSections"),V={db:{clear:m,addNode:L,getMindmap:_,nodeType:N,getType:$,setElementForId:b,decorateNode:T,type2Str:I,getLogger:D,getElementById:A},renderer:{draw:H},parser:u,styles:(0,o.K2)(t=>`
  .edge {
    stroke-width: 3;
  }
  ${j(t)}
  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {
    fill: ${t.git0};
  }
  .section-root text {
    fill: ${t.gitBranchLabel0};
  }
  .icon-container {
    height:100%;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .edge {
    fill: none;
  }
  .mindmap-node-label {
    dy: 1em;
    alignment-baseline: middle;
    text-anchor: middle;
    dominant-baseline: middle;
    text-align: center;
  }
`,"getStyles")}},65622:function(t,e,n){t.exports=function(t){var e=[function(e,n){e.exports=t},function(t,e,n){"use strict";var i=n(0).layoutBase.LayoutConstants,r=n(0).layoutBase.FDLayoutConstants,a=n(0).CoSEConstants,o=n(0).CoSELayout,s=n(0).CoSENode,l=n(0).layoutBase.PointD,c=n(0).layoutBase.DimensionD,d={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function h(t){this.options=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}(d,t),g(this.options)}var g=function(t){null!=t.nodeRepulsion&&(a.DEFAULT_REPULSION_STRENGTH=r.DEFAULT_REPULSION_STRENGTH=t.nodeRepulsion),null!=t.idealEdgeLength&&(a.DEFAULT_EDGE_LENGTH=r.DEFAULT_EDGE_LENGTH=t.idealEdgeLength),null!=t.edgeElasticity&&(a.DEFAULT_SPRING_STRENGTH=r.DEFAULT_SPRING_STRENGTH=t.edgeElasticity),null!=t.nestingFactor&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=r.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=t.nestingFactor),null!=t.gravity&&(a.DEFAULT_GRAVITY_STRENGTH=r.DEFAULT_GRAVITY_STRENGTH=t.gravity),null!=t.numIter&&(a.MAX_ITERATIONS=r.MAX_ITERATIONS=t.numIter),null!=t.gravityRange&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=r.DEFAULT_GRAVITY_RANGE_FACTOR=t.gravityRange),null!=t.gravityCompound&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=r.DEFAULT_COMPOUND_GRAVITY_STRENGTH=t.gravityCompound),null!=t.gravityRangeCompound&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=r.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=t.gravityRangeCompound),null!=t.initialEnergyOnIncremental&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=r.DEFAULT_COOLING_FACTOR_INCREMENTAL=t.initialEnergyOnIncremental),"draft"==t.quality?i.QUALITY=0:"proof"==t.quality?i.QUALITY=2:i.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=r.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=t.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=r.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!t.randomize,a.ANIMATE=r.ANIMATE=i.ANIMATE=t.animate,a.TILE=t.tile,a.TILING_PADDING_VERTICAL="function"==typeof t.tilingPaddingVertical?t.tilingPaddingVertical.call():t.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL="function"==typeof t.tilingPaddingHorizontal?t.tilingPaddingHorizontal.call():t.tilingPaddingHorizontal};h.prototype.run=function(){var t,e,n=this.options;this.idToLNode={};var i=this.layout=new o,r=this;r.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var a=i.newGraphManager();this.gm=a;var s=this.options.eles.nodes(),l=this.options.eles.edges();this.root=a.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(s),i);for(var c=0;c<l.length;c++){var d=l[c],h=this.idToLNode[d.data("source")],g=this.idToLNode[d.data("target")];h!==g&&0==h.getEdgesBetween(g).length&&(a.add(i.newEdge(),h,g).id=d.id())}var u=function(t,e){"number"==typeof t&&(t=e);var n=t.data("id"),i=r.idToLNode[n];return{x:i.getRect().getCenterX(),y:i.getRect().getCenterY()}},p=function a(){for(var o,s=function(){n.fit&&n.cy.fit(n.eles,n.padding),t||(t=!0,r.cy.one("layoutready",n.ready),r.cy.trigger({type:"layoutready",layout:r}))},l=r.options.refresh,c=0;c<l&&!o;c++)o=r.stopped||r.layout.tick();if(o){i.checkLayoutSuccess()&&!i.isSubLayout&&i.doPostLayout(),i.tilingPostLayout&&i.tilingPostLayout(),i.isLayoutFinished=!0,r.options.eles.nodes().positions(u),s(),r.cy.one("layoutstop",r.options.stop),r.cy.trigger({type:"layoutstop",layout:r}),e&&cancelAnimationFrame(e),t=!1;return}var d=r.layout.getPositionsData();n.eles.nodes().positions(function(t,e){if("number"==typeof t&&(t=e),!t.isParent()){for(var n=t.id(),i=d[n],r=t;null==i&&(i=d[r.data("parent")]||d["DummyCompound_"+r.data("parent")],d[n]=i,void 0!=(r=r.parent()[0])););return null!=i?{x:i.x,y:i.y}:{x:t.position("x"),y:t.position("y")}}}),s(),e=requestAnimationFrame(a)};return i.addListener("layoutstarted",function(){"during"===r.options.animate&&(e=requestAnimationFrame(p))}),i.runLayout(),"during"!==this.options.animate&&(r.options.eles.nodes().not(":parent").layoutPositions(r,r.options,u),t=!1),this},h.prototype.getTopMostNodes=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].id()]=!0;return t.filter(function(t,n){"number"==typeof t&&(t=n);for(var i=t.parent()[0];null!=i;){if(e[i.id()])return!1;i=i.parent()[0]}return!0})},h.prototype.processChildrenList=function(t,e,n){for(var i=e.length,r=0;r<i;r++){var a,o,d=e[r],h=d.children(),g=d.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if((a=null!=d.outerWidth()&&null!=d.outerHeight()?t.add(new s(n.graphManager,new l(d.position("x")-g.w/2,d.position("y")-g.h/2),new c(parseFloat(g.w),parseFloat(g.h)))):t.add(new s(this.graphManager))).id=d.data("id"),a.paddingLeft=parseInt(d.css("padding")),a.paddingTop=parseInt(d.css("padding")),a.paddingRight=parseInt(d.css("padding")),a.paddingBottom=parseInt(d.css("padding")),this.options.nodeDimensionsIncludeLabels&&d.isParent()){var u=d.boundingBox({includeLabels:!0,includeNodes:!1}).w,p=d.boundingBox({includeLabels:!0,includeNodes:!1}).h,y=d.css("text-halign");a.labelWidth=u,a.labelHeight=p,a.labelPos=y}this.idToLNode[d.data("id")]=a,isNaN(a.rect.x)&&(a.rect.x=0),isNaN(a.rect.y)&&(a.rect.y=0),null!=h&&h.length>0&&(o=n.getGraphManager().add(n.newGraph(),a),this.processChildrenList(o,h,n))}},h.prototype.stop=function(){return this.stopped=!0,this};var u=function(t){t("layout","cose-bilkent",h)};"undefined"!=typeof cytoscape&&u(cytoscape),t.exports=u}],n={};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=n,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}(n(99916))}}]);