"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[69143],{69143:(e,t,a)=>{a.r(t),a.d(t,{CodeBlock:()=>p});var l=a(16003),n=a(7620),r=a(54568),s=a(75899),o=a(57562),c=a(69528),d=(0,l.a)("block","before:content-[counter(line)]","before:inline-block","before:[counter-increment:line]","before:w-4","before:mr-4","before:text-[13px]","before:text-right","before:text-muted-foreground/50","before:font-mono","before:select-none"),i=(0,n.memo)(({children:e,result:t,language:a,className:s,...o})=>{let c=(0,n.useMemo)(()=>({backgroundColor:t.bg,color:t.fg}),[t.bg,t.fg]);return(0,r.jsx)("pre",{className:(0,l.a)(s,"p-4 text-sm dark:bg-(--shiki-dark-bg)!"),"data-language":a,"data-streamdown":"code-block-body",style:c,...o,children:(0,r.jsx)("code",{className:"[counter-increment:line_0] [counter-reset:line]",children:t.tokens.map((e,t)=>(0,r.jsx)("span",{className:d,children:e.map((e,t)=>(0,r.jsx)("span",{className:"dark:bg-(--shiki-dark-bg)! dark:text-(--shiki-dark)!",style:{color:e.color,backgroundColor:e.bgColor,...e.htmlStyle},...e.htmlAttrs,children:e.content},t))},t))})})},(e,t)=>e.result===t.result&&e.language===t.language&&e.className===t.className),g=({className:e,language:t,style:a,...n})=>(0,r.jsx)("div",{className:(0,l.a)("my-4 w-full overflow-hidden rounded-xl border border-border",e),"data-language":t,"data-streamdown":"code-block",style:{contentVisibility:"auto",containIntrinsicSize:"auto 200px",...a},...n}),u=({language:e,children:t})=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-muted/80 p-3 text-muted-foreground text-xs","data-language":e,"data-streamdown":"code-block-header",children:[(0,r.jsx)("span",{className:"ml-1 font-mono lowercase",children:e}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:t})]}),h=(0,c.l)({forgiving:!0}),m=new Map,b=new Map,f=new Map,x=e=>Object.hasOwn(s.el,e),k=(e,t,a,l)=>{let n=x(t)?t:"text",r=((e,t,a)=>{let l=e.slice(0,100),n=e.length>100?e.slice(-100):"";return`${t}:${a[0]}:${a[1]}:${e.length}:${l}:${n}`})(e,n,a);return b.has(r)?b.get(r):(l&&(f.has(r)||f.set(r,new Set),f.get(r).add(l)),((e,t)=>{let a=x(e)?e:"text",l=((e,t)=>`${e}-${t[0]}-${t[1]}`)(a,t);if(m.has(l))return m.get(l);let n=(0,o.O_)({themes:t,langs:[a],engine:h});return m.set(l,n),n})(n,a).then(t=>{let l=t.codeToTokens(e,{lang:n,themes:{light:a[0],dark:a[1]}});b.set(r,l);let s=f.get(r);if(s){for(let e of s)e(l);f.delete(r)}}).catch(e=>{console.error("Failed to highlight code:",e),f.delete(r)}),null)},p=({code:e,language:t,className:a,children:s,...o})=>{let{shikiTheme:c}=(0,n.useContext)(l.h),d=(0,n.useMemo)(()=>({bg:"transparent",fg:"inherit",tokens:e.split(`
`).map(e=>[{content:e,color:"inherit",bgColor:"transparent",htmlStyle:{},offset:0}])}),[e]),[h,m]=(0,n.useState)(d);return(0,n.useEffect)(()=>{let a=k(e,t,c);if(a)return void m(a);k(e,t,c,e=>{m(e)})},[e,t,c]),(0,r.jsx)(l.b.Provider,{value:{code:e},children:(0,r.jsxs)(g,{language:t,children:[(0,r.jsx)(u,{language:t,children:s}),(0,r.jsx)(i,{className:a,language:t,result:h,...o})]})})}}}]);