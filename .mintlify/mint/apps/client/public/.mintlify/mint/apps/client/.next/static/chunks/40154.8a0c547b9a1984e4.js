"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40154],{40154:(e,t,a)=>{let r;a.r(t),a.d(t,{DEFAULT_MERMAID_PLACEMENT:()=>f,Mermaid:()=>y});var n=a(54568),i=a(16182),l=a(7620),o=a(33052),s=a(80021),d=a(61167),c=a(85973),u=a(31587),m=a(14486),h=a(72116),p=a(78272),E=a(81325);let b=({children:e,className:t,...a})=>(0,n.jsx)("button",{type:"button",className:(0,E.cn)("flex items-center [&_svg]:size-4 justify-center size-7 rounded-md bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-white/10 transition-[transform] duration-100 active:scale-95",t),...a,children:e}),g=({onZoomIn:e,onZoomOut:t,onReset:a,onPan:r,panStep:i,placement:l=f})=>(0,n.jsxs)("div",{"data-component-name":"mermaid-controls-wrapper",className:(0,E.cn)("absolute z-10 grid grid-cols-3 gap-1","top-left"===l&&"top-2 left-2","top-right"===l&&"top-2 right-2","bottom-left"===l&&"bottom-2 left-2","bottom-right"===l&&"bottom-2 right-2"),children:[(0,n.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none"}),(0,n.jsx)(b,{"aria-label":"Pan up",title:"Pan up",onClick:()=>r(0,i),children:(0,n.jsx)(s.A,{"aria-hidden":"true"})}),(0,n.jsx)(b,{"aria-label":"Zoom in",title:"Zoom in",onClick:e,children:(0,n.jsx)(d.A,{"aria-hidden":"true"})}),(0,n.jsx)(b,{"aria-label":"Pan left",title:"Pan left",onClick:()=>r(i,0),children:(0,n.jsx)(c.A,{"aria-hidden":"true"})}),(0,n.jsx)(b,{"aria-label":"Reset view",title:"Reset view",onClick:a,children:(0,n.jsx)(u.A,{"aria-hidden":"true"})}),(0,n.jsx)(b,{"aria-label":"Pan right",title:"Pan right",onClick:()=>r(-i,0),children:(0,n.jsx)(m.A,{"aria-hidden":"true"})}),(0,n.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none"}),(0,n.jsx)(b,{"aria-label":"Pan down",title:"Pan down",onClick:()=>r(0,-i),children:(0,n.jsx)(h.A,{"aria-hidden":"true"})}),(0,n.jsx)(b,{"aria-label":"Zoom out",title:"Zoom out",onClick:t,children:(0,n.jsx)(p.A,{"aria-hidden":"true"})})]}),x={scale:1,x:0,y:0},f="bottom-right",_=()=>document.documentElement.classList.contains("dark"),R=async()=>r||(r=a.e(11027).then(a.bind(a,11027)).then(e=>{let t="default"in e?e.default:e;i.A.registerLayoutLoaders(t)}).catch(()=>void 0));function y({chart:e,placement:t=f,actions:a,onError:r,onSuccess:s}){let d=(0,l.useId)(),[c,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(!1),p=(0,l.useRef)(null),[E,b]=(0,l.useState)(!1),{style:y,zoomIn:O,zoomOut:v,reset:N,pan:j,panStep:k}=(()=>{let[e,t]=(0,l.useState)(x),a=(0,l.useCallback)(()=>{t(e=>({...e,scale:Math.min(e.scale+.15,4)}))},[]),r=(0,l.useCallback)(()=>{t(e=>({...e,scale:Math.max(e.scale-.15,.25)}))},[]),n=(0,l.useCallback)(()=>{t(x)},[]),i=(0,l.useCallback)((e,a)=>{t(t=>({...t,x:t.x+e,y:t.y+a}))},[]);return{style:(0,l.useMemo)(()=>({transform:`translate(${e.x}px, ${e.y}px) scale(${e.scale})`,transformOrigin:"center center",transition:"transform 0.15s ease-out"}),[e.scale,e.x,e.y]),zoomIn:a,zoomOut:r,reset:n,pan:i,panStep:50}})();return(0,l.useEffect)(()=>{b(_());let e=new MutationObserver(()=>{b(_())});return e.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>{e.disconnect()}},[]),(0,l.useEffect)(()=>{let t=!1;return(async()=>{let a=document.createElement("div");a.style.position="absolute",a.style.left="-9999px",a.style.top="-9999px",document.body.appendChild(a);try{await R(),i.A.initialize({startOnLoad:!1,fontFamily:"inherit",theme:E?"dark":"default",gantt:{useWidth:800}});let r=`mermaid-${d.replaceAll(":","")}-${Date.now()}`,{svg:n}=await i.A.render(r,e,a);if(!t){let e=((e,t)=>{let a=e;for(let e of["arrowhead","crosshead","filled-head","sequencenumber","compositionStart","compositionEnd","aggregationStart","aggregationEnd","dependencyStart","dependencyEnd","extensionStart","extensionEnd","lollipopStart","lollipopEnd","ZERO_OR_ONE_START","ZERO_OR_ONE_END","ONLY_ONE_START","ONLY_ONE_END","ZERO_OR_MORE_START","ZERO_OR_MORE_END","ONE_OR_MORE_START","ONE_OR_MORE_END","MD_PARENT_START","MD_PARENT_END"]){let r=`${t}-${e}`;a=(a=a.replace(RegExp(`id="${e}"`,"g"),`id="${r}"`)).replace(RegExp(`url\\(#${e}\\)`,"g"),`url(#${r})`)}return a})(n,r);u(e),s?.()}}catch(e){console.error("Error while rendering mermaid",e),t||r?.(e)}finally{document.body.removeChild(a)}})().catch(console.error),()=>{t=!0}},[e,d,E,r,s]),(0,l.useEffect)(()=>{if(void 0!==a)return;let e=p.current;if(!e)return;let t=new ResizeObserver(e=>{for(let t of e)h(t.contentRect.height>=120)});return t.observe(e),()=>{t.disconnect()}},[c,a]),(0,n.jsxs)("div",{className:"group relative overflow-hidden","data-component-name":"mermaid-container",children:[(!0===a||void 0===a&&m)&&(0,n.jsx)(g,{onZoomIn:O,onZoomOut:v,onReset:N,onPan:j,panStep:k,placement:t}),(0,n.jsx)("div",{ref:p,dangerouslySetInnerHTML:{__html:c},className:o.x.Mermaid,style:y,role:"img","aria-label":"Mermaid diagram"})]})}}}]);