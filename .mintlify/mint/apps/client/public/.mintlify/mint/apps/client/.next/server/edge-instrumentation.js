(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{4893:a=>{"use strict";let b=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"system-ui","sans-serif"];a.exports={SYSTEM_FONT_FALLBACK_ARRAY:b,SYSTEM_FONT_FALLBACK_STRING:b.join(", "),MONO_FONT_FALLBACK_STRING:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'}},4942:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{register:()=>bs}),function(a){a.assertEqual=a=>a,a.assertIs=function(a){},a.assertNever=function(a){throw Error()},a.arrayToEnum=a=>{let b={};for(let c of a)b[c]=c;return b},a.getValidEnumValues=b=>{let c=a.objectKeys(b).filter(a=>"number"!=typeof b[b[a]]),d={};for(let a of c)d[a]=b[a];return a.objectValues(d)},a.objectValues=b=>a.objectKeys(b).map(function(a){return b[a]}),a.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{let b=[];for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},a.find=(a,b)=>{for(let c of a)if(b(c))return c},a.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&isFinite(a)&&Math.floor(a)===a,a.joinValues=function(a,b=" | "){return a.map(a=>"string"==typeof a?`'${a}'`:a).join(b)},a.jsonStringifyReplacer=(a,b)=>"bigint"==typeof b?b.toString():b}(bc||(bc={})),(bd||(bd={})).mergeShapes=(a,b)=>({...a,...b});let e=bc.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),f=a=>{switch(typeof a){case"undefined":return e.undefined;case"string":return e.string;case"number":return isNaN(a)?e.nan:e.number;case"boolean":return e.boolean;case"function":return e.function;case"bigint":return e.bigint;case"symbol":return e.symbol;case"object":if(Array.isArray(a))return e.array;if(null===a)return e.null;if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return e.promise;if("undefined"!=typeof Map&&a instanceof Map)return e.map;if("undefined"!=typeof Set&&a instanceof Set)return e.set;if("undefined"!=typeof Date&&a instanceof Date)return e.date;return e.object;default:return e.unknown}},g=bc.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class h extends Error{constructor(a){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let b=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,b):this.__proto__=b,this.name="ZodError",this.issues=a}get errors(){return this.issues}format(a){let b=a||function(a){return a.message},c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code)e.unionErrors.map(d);else if("invalid_return_type"===e.code)d(e.returnTypeError);else if("invalid_arguments"===e.code)d(e.argumentsError);else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(this),c}static assert(a){if(!(a instanceof h))throw Error(`Not a ZodError: ${a}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bc.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(a=a=>a.message){let b={},c=[];for(let d of this.issues)d.path.length>0?(b[d.path[0]]=b[d.path[0]]||[],b[d.path[0]].push(a(d))):c.push(a(d));return{formErrors:c,fieldErrors:b}}get formErrors(){return this.flatten()}}h.create=a=>new h(a);let i=(a,b)=>{let c;switch(a.code){case g.invalid_type:c=a.received===e.undefined?"Required":`Expected ${a.expected}, received ${a.received}`;break;case g.invalid_literal:c=`Invalid literal value, expected ${JSON.stringify(a.expected,bc.jsonStringifyReplacer)}`;break;case g.unrecognized_keys:c=`Unrecognized key(s) in object: ${bc.joinValues(a.keys,", ")}`;break;case g.invalid_union:c="Invalid input";break;case g.invalid_union_discriminator:c=`Invalid discriminator value. Expected ${bc.joinValues(a.options)}`;break;case g.invalid_enum_value:c=`Invalid enum value. Expected ${bc.joinValues(a.options)}, received '${a.received}'`;break;case g.invalid_arguments:c="Invalid function arguments";break;case g.invalid_return_type:c="Invalid function return type";break;case g.invalid_date:c="Invalid date";break;case g.invalid_string:"object"==typeof a.validation?"includes"in a.validation?(c=`Invalid input: must include "${a.validation.includes}"`,"number"==typeof a.validation.position&&(c=`${c} at one or more positions greater than or equal to ${a.validation.position}`)):"startsWith"in a.validation?c=`Invalid input: must start with "${a.validation.startsWith}"`:"endsWith"in a.validation?c=`Invalid input: must end with "${a.validation.endsWith}"`:bc.assertNever(a.validation):c="regex"!==a.validation?`Invalid ${a.validation}`:"Invalid";break;case g.too_small:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at least":"more than"} ${a.minimum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at least":"over"} ${a.minimum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${a.minimum}`:"date"===a.type?`Date must be ${a.exact?"exactly equal to ":a.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(a.minimum))}`:"Invalid input";break;case g.too_big:c="array"===a.type?`Array must contain ${a.exact?"exactly":a.inclusive?"at most":"less than"} ${a.maximum} element(s)`:"string"===a.type?`String must contain ${a.exact?"exactly":a.inclusive?"at most":"under"} ${a.maximum} character(s)`:"number"===a.type?`Number must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"bigint"===a.type?`BigInt must be ${a.exact?"exactly":a.inclusive?"less than or equal to":"less than"} ${a.maximum}`:"date"===a.type?`Date must be ${a.exact?"exactly":a.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(a.maximum))}`:"Invalid input";break;case g.custom:c="Invalid input";break;case g.invalid_intersection_types:c="Intersection results could not be merged";break;case g.not_multiple_of:c=`Number must be a multiple of ${a.multipleOf}`;break;case g.not_finite:c="Number must be finite";break;default:c=b.defaultError,bc.assertNever(a)}return{message:c}},j=i;function k(){return j}let l=a=>{let{data:b,path:c,errorMaps:d,issueData:e}=a,f=[...c,...e.path||[]],g={...e,path:f};if(void 0!==e.message)return{...e,path:f,message:e.message};let h="";for(let a of d.filter(a=>!!a).slice().reverse())h=a(g,{data:b,defaultError:h}).message;return{...e,path:f,message:h}};function m(a,b){let c=k(),d=l({issueData:b,data:a.data,path:a.path,errorMaps:[a.common.contextualErrorMap,a.schemaErrorMap,c,c===i?void 0:i].filter(a=>!!a)});a.common.issues.push(d)}class n{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(a,b){let c=[];for(let d of b){if("aborted"===d.status)return o;"dirty"===d.status&&a.dirty(),c.push(d.value)}return{status:a.value,value:c}}static async mergeObjectAsync(a,b){let c=[];for(let a of b){let b=await a.key,d=await a.value;c.push({key:b,value:d})}return n.mergeObjectSync(a,c)}static mergeObjectSync(a,b){let c={};for(let d of b){let{key:b,value:e}=d;if("aborted"===b.status||"aborted"===e.status)return o;"dirty"===b.status&&a.dirty(),"dirty"===e.status&&a.dirty(),"__proto__"!==b.value&&(void 0!==e.value||d.alwaysSet)&&(c[b.value]=e.value)}return{status:a.value,value:c}}}let o=Object.freeze({status:"aborted"}),p=a=>({status:"dirty",value:a}),q=a=>({status:"valid",value:a}),r=a=>"aborted"===a.status,s=a=>"dirty"===a.status,t=a=>"valid"===a.status,u=a=>"undefined"!=typeof Promise&&a instanceof Promise;function v(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)}function w(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c}"function"==typeof SuppressedError&&SuppressedError,function(a){a.errToObj=a=>"string"==typeof a?{message:a}:a||{},a.toString=a=>"string"==typeof a?a:null==a?void 0:a.message}(be||(be={}));class x{constructor(a,b,c,d){this._cachedPath=[],this.parent=a,this.data=b,this._path=c,this._key=d}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let y=(a,b)=>{if(t(b))return{success:!0,data:b.value};if(!a.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let b=new h(a.common.issues);return this._error=b,this._error}}};function z(a){if(!a)return{};let{errorMap:b,invalid_type_error:c,required_error:d,description:e}=a;if(b&&(c||d))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return b?{errorMap:b,description:e}:{errorMap:(b,e)=>{var f,g;let{message:h}=a;return"invalid_enum_value"===b.code?{message:null!=h?h:e.defaultError}:void 0===e.data?{message:null!=(f=null!=h?h:d)?f:e.defaultError}:"invalid_type"!==b.code?{message:e.defaultError}:{message:null!=(g=null!=h?h:c)?g:e.defaultError}},description:e}}class A{constructor(a){this.spa=this.safeParseAsync,this._def=a,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}get description(){return this._def.description}_getType(a){return f(a.data)}_getOrReturnCtx(a,b){return b||{common:a.parent.common,data:a.data,parsedType:f(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}_processInputParams(a){return{status:new n,ctx:{common:a.parent.common,data:a.data,parsedType:f(a.data),schemaErrorMap:this._def.errorMap,path:a.path,parent:a.parent}}}_parseSync(a){let b=this._parse(a);if(u(b))throw Error("Synchronous parse encountered promise.");return b}_parseAsync(a){return Promise.resolve(this._parse(a))}parse(a,b){let c=this.safeParse(a,b);if(c.success)return c.data;throw c.error}safeParse(a,b){var c;let d={common:{issues:[],async:null!=(c=null==b?void 0:b.async)&&c,contextualErrorMap:null==b?void 0:b.errorMap},path:(null==b?void 0:b.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:f(a)},e=this._parseSync({data:a,path:d.path,parent:d});return y(d,e)}"~validate"(a){var b,c;let d={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:f(a)};if(!this["~standard"].async)try{let b=this._parseSync({data:a,path:[],parent:d});return t(b)?{value:b.value}:{issues:d.common.issues}}catch(a){(null==(c=null==(b=null==a?void 0:a.message)?void 0:b.toLowerCase())?void 0:c.includes("encountered"))&&(this["~standard"].async=!0),d.common={issues:[],async:!0}}return this._parseAsync({data:a,path:[],parent:d}).then(a=>t(a)?{value:a.value}:{issues:d.common.issues})}async parseAsync(a,b){let c=await this.safeParseAsync(a,b);if(c.success)return c.data;throw c.error}async safeParseAsync(a,b){let c={common:{issues:[],contextualErrorMap:null==b?void 0:b.errorMap,async:!0},path:(null==b?void 0:b.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:a,parsedType:f(a)},d=this._parse({data:a,path:c.path,parent:c});return y(c,await (u(d)?d:Promise.resolve(d)))}refine(a,b){return this._refinement((c,d)=>{let e=a(c),f=()=>d.addIssue({code:g.custom,..."string"==typeof b||void 0===b?{message:b}:"function"==typeof b?b(c):b});return"undefined"!=typeof Promise&&e instanceof Promise?e.then(a=>!!a||(f(),!1)):!!e||(f(),!1)})}refinement(a,b){return this._refinement((c,d)=>!!a(c)||(d.addIssue("function"==typeof b?b(c,d):b),!1))}_refinement(a){return new au({schema:this,typeName:bh.ZodEffects,effect:{type:"refinement",refinement:a}})}superRefine(a){return this._refinement(a)}optional(){return av.create(this,this._def)}nullable(){return aw.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ad.create(this)}promise(){return at.create(this,this._def)}or(a){return af.create([this,a],this._def)}and(a){return ai.create(this,a,this._def)}transform(a){return new au({...z(this._def),schema:this,typeName:bh.ZodEffects,effect:{type:"transform",transform:a}})}default(a){return new ax({...z(this._def),innerType:this,defaultValue:"function"==typeof a?a:()=>a,typeName:bh.ZodDefault})}brand(){return new aB({typeName:bh.ZodBranded,type:this,...z(this._def)})}catch(a){return new ay({...z(this._def),innerType:this,catchValue:"function"==typeof a?a:()=>a,typeName:bh.ZodCatch})}describe(a){return new this.constructor({...this._def,description:a})}pipe(a){return aC.create(this,a)}readonly(){return aD.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let B=/^c[^\s-]{8,}$/i,C=/^[0-9a-z]+$/,D=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,F=/^[a-z0-9_-]{21}$/i,G=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,H=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,I=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,K=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,L=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,O=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Q=RegExp(`^${P}$`);function R(a){let b="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return a.precision?b=`${b}\\.\\d{${a.precision}}`:null==a.precision&&(b=`${b}(\\.\\d+)?`),b}function S(a){let b=`${P}T${R(a)}`,c=[];return c.push(a.local?"Z?":"Z"),a.offset&&c.push("([+-]\\d{2}:?\\d{2})"),b=`${b}(${c.join("|")})`,RegExp(`^${b}$`)}class T extends A{_parse(a){var b,c,f,h;let i;if(this._def.coerce&&(a.data=String(a.data)),this._getType(a)!==e.string){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.string,received:b.parsedType}),o}let j=new n;for(let e of this._def.checks)if("min"===e.kind)a.data.length<e.value&&(m(i=this._getOrReturnCtx(a,i),{code:g.too_small,minimum:e.value,type:"string",inclusive:!0,exact:!1,message:e.message}),j.dirty());else if("max"===e.kind)a.data.length>e.value&&(m(i=this._getOrReturnCtx(a,i),{code:g.too_big,maximum:e.value,type:"string",inclusive:!0,exact:!1,message:e.message}),j.dirty());else if("length"===e.kind){let b=a.data.length>e.value,c=a.data.length<e.value;(b||c)&&(i=this._getOrReturnCtx(a,i),b?m(i,{code:g.too_big,maximum:e.value,type:"string",inclusive:!0,exact:!0,message:e.message}):c&&m(i,{code:g.too_small,minimum:e.value,type:"string",inclusive:!0,exact:!0,message:e.message}),j.dirty())}else if("email"===e.kind)I.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"email",code:g.invalid_string,message:e.message}),j.dirty());else if("emoji"===e.kind)d||(d=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),d.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"emoji",code:g.invalid_string,message:e.message}),j.dirty());else if("uuid"===e.kind)E.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"uuid",code:g.invalid_string,message:e.message}),j.dirty());else if("nanoid"===e.kind)F.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"nanoid",code:g.invalid_string,message:e.message}),j.dirty());else if("cuid"===e.kind)B.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"cuid",code:g.invalid_string,message:e.message}),j.dirty());else if("cuid2"===e.kind)C.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"cuid2",code:g.invalid_string,message:e.message}),j.dirty());else if("ulid"===e.kind)D.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"ulid",code:g.invalid_string,message:e.message}),j.dirty());else if("url"===e.kind)try{new URL(a.data)}catch(b){m(i=this._getOrReturnCtx(a,i),{validation:"url",code:g.invalid_string,message:e.message}),j.dirty()}else"regex"===e.kind?(e.regex.lastIndex=0,e.regex.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"regex",code:g.invalid_string,message:e.message}),j.dirty())):"trim"===e.kind?a.data=a.data.trim():"includes"===e.kind?a.data.includes(e.value,e.position)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:{includes:e.value,position:e.position},message:e.message}),j.dirty()):"toLowerCase"===e.kind?a.data=a.data.toLowerCase():"toUpperCase"===e.kind?a.data=a.data.toUpperCase():"startsWith"===e.kind?a.data.startsWith(e.value)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:{startsWith:e.value},message:e.message}),j.dirty()):"endsWith"===e.kind?a.data.endsWith(e.value)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:{endsWith:e.value},message:e.message}),j.dirty()):"datetime"===e.kind?S(e).test(a.data)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:"datetime",message:e.message}),j.dirty()):"date"===e.kind?Q.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:"date",message:e.message}),j.dirty()):"time"===e.kind?RegExp(`^${R(e)}$`).test(a.data)||(m(i=this._getOrReturnCtx(a,i),{code:g.invalid_string,validation:"time",message:e.message}),j.dirty()):"duration"===e.kind?H.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"duration",code:g.invalid_string,message:e.message}),j.dirty()):"ip"===e.kind?(b=a.data,!(("v4"===(c=e.version)||!c)&&J.test(b)||("v6"===c||!c)&&L.test(b))&&1&&(m(i=this._getOrReturnCtx(a,i),{validation:"ip",code:g.invalid_string,message:e.message}),j.dirty())):"jwt"===e.kind?!function(a,b){if(!G.test(a))return!1;try{let[c]=a.split("."),d=c.replace(/-/g,"+").replace(/_/g,"/").padEnd(c.length+(4-c.length%4)%4,"="),e=JSON.parse(atob(d));if("object"!=typeof e||null===e||!e.typ||!e.alg||b&&e.alg!==b)return!1;return!0}catch(a){return!1}}(a.data,e.alg)&&(m(i=this._getOrReturnCtx(a,i),{validation:"jwt",code:g.invalid_string,message:e.message}),j.dirty()):"cidr"===e.kind?(f=a.data,!(("v4"===(h=e.version)||!h)&&K.test(f)||("v6"===h||!h)&&M.test(f))&&1&&(m(i=this._getOrReturnCtx(a,i),{validation:"cidr",code:g.invalid_string,message:e.message}),j.dirty())):"base64"===e.kind?N.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"base64",code:g.invalid_string,message:e.message}),j.dirty()):"base64url"===e.kind?O.test(a.data)||(m(i=this._getOrReturnCtx(a,i),{validation:"base64url",code:g.invalid_string,message:e.message}),j.dirty()):bc.assertNever(e);return{status:j.value,value:a.data}}_regex(a,b,c){return this.refinement(b=>a.test(b),{validation:b,code:g.invalid_string,...be.errToObj(c)})}_addCheck(a){return new T({...this._def,checks:[...this._def.checks,a]})}email(a){return this._addCheck({kind:"email",...be.errToObj(a)})}url(a){return this._addCheck({kind:"url",...be.errToObj(a)})}emoji(a){return this._addCheck({kind:"emoji",...be.errToObj(a)})}uuid(a){return this._addCheck({kind:"uuid",...be.errToObj(a)})}nanoid(a){return this._addCheck({kind:"nanoid",...be.errToObj(a)})}cuid(a){return this._addCheck({kind:"cuid",...be.errToObj(a)})}cuid2(a){return this._addCheck({kind:"cuid2",...be.errToObj(a)})}ulid(a){return this._addCheck({kind:"ulid",...be.errToObj(a)})}base64(a){return this._addCheck({kind:"base64",...be.errToObj(a)})}base64url(a){return this._addCheck({kind:"base64url",...be.errToObj(a)})}jwt(a){return this._addCheck({kind:"jwt",...be.errToObj(a)})}ip(a){return this._addCheck({kind:"ip",...be.errToObj(a)})}cidr(a){return this._addCheck({kind:"cidr",...be.errToObj(a)})}datetime(a){var b,c;return"string"==typeof a?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:a}):this._addCheck({kind:"datetime",precision:void 0===(null==a?void 0:a.precision)?null:null==a?void 0:a.precision,offset:null!=(b=null==a?void 0:a.offset)&&b,local:null!=(c=null==a?void 0:a.local)&&c,...be.errToObj(null==a?void 0:a.message)})}date(a){return this._addCheck({kind:"date",message:a})}time(a){return"string"==typeof a?this._addCheck({kind:"time",precision:null,message:a}):this._addCheck({kind:"time",precision:void 0===(null==a?void 0:a.precision)?null:null==a?void 0:a.precision,...be.errToObj(null==a?void 0:a.message)})}duration(a){return this._addCheck({kind:"duration",...be.errToObj(a)})}regex(a,b){return this._addCheck({kind:"regex",regex:a,...be.errToObj(b)})}includes(a,b){return this._addCheck({kind:"includes",value:a,position:null==b?void 0:b.position,...be.errToObj(null==b?void 0:b.message)})}startsWith(a,b){return this._addCheck({kind:"startsWith",value:a,...be.errToObj(b)})}endsWith(a,b){return this._addCheck({kind:"endsWith",value:a,...be.errToObj(b)})}min(a,b){return this._addCheck({kind:"min",value:a,...be.errToObj(b)})}max(a,b){return this._addCheck({kind:"max",value:a,...be.errToObj(b)})}length(a,b){return this._addCheck({kind:"length",value:a,...be.errToObj(b)})}nonempty(a){return this.min(1,be.errToObj(a))}trim(){return new T({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new T({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new T({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(a=>"datetime"===a.kind)}get isDate(){return!!this._def.checks.find(a=>"date"===a.kind)}get isTime(){return!!this._def.checks.find(a=>"time"===a.kind)}get isDuration(){return!!this._def.checks.find(a=>"duration"===a.kind)}get isEmail(){return!!this._def.checks.find(a=>"email"===a.kind)}get isURL(){return!!this._def.checks.find(a=>"url"===a.kind)}get isEmoji(){return!!this._def.checks.find(a=>"emoji"===a.kind)}get isUUID(){return!!this._def.checks.find(a=>"uuid"===a.kind)}get isNANOID(){return!!this._def.checks.find(a=>"nanoid"===a.kind)}get isCUID(){return!!this._def.checks.find(a=>"cuid"===a.kind)}get isCUID2(){return!!this._def.checks.find(a=>"cuid2"===a.kind)}get isULID(){return!!this._def.checks.find(a=>"ulid"===a.kind)}get isIP(){return!!this._def.checks.find(a=>"ip"===a.kind)}get isCIDR(){return!!this._def.checks.find(a=>"cidr"===a.kind)}get isBase64(){return!!this._def.checks.find(a=>"base64"===a.kind)}get isBase64url(){return!!this._def.checks.find(a=>"base64url"===a.kind)}get minLength(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxLength(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}T.create=a=>{var b;return new T({checks:[],typeName:bh.ZodString,coerce:null!=(b=null==a?void 0:a.coerce)&&b,...z(a)})};class U extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(a){let b;if(this._def.coerce&&(a.data=Number(a.data)),this._getType(a)!==e.number){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.number,received:b.parsedType}),o}let c=new n;for(let d of this._def.checks)"int"===d.kind?bc.isInteger(a.data)||(m(b=this._getOrReturnCtx(a,b),{code:g.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty()):"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty()):"multipleOf"===d.kind?0!==function(a,b){let c=(a.toString().split(".")[1]||"").length,d=(b.toString().split(".")[1]||"").length,e=c>d?c:d;return parseInt(a.toFixed(e).replace(".",""))%parseInt(b.toFixed(e).replace(".",""))/Math.pow(10,e)}(a.data,d.value)&&(m(b=this._getOrReturnCtx(a,b),{code:g.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(a.data)||(m(b=this._getOrReturnCtx(a,b),{code:g.not_finite,message:d.message}),c.dirty()):bc.assertNever(d);return{status:c.value,value:a.data}}gte(a,b){return this.setLimit("min",a,!0,be.toString(b))}gt(a,b){return this.setLimit("min",a,!1,be.toString(b))}lte(a,b){return this.setLimit("max",a,!0,be.toString(b))}lt(a,b){return this.setLimit("max",a,!1,be.toString(b))}setLimit(a,b,c,d){return new U({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:be.toString(d)}]})}_addCheck(a){return new U({...this._def,checks:[...this._def.checks,a]})}int(a){return this._addCheck({kind:"int",message:be.toString(a)})}positive(a){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(a)})}negative(a){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:be.toString(b)})}finite(a){return this._addCheck({kind:"finite",message:be.toString(a)})}safe(a){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(a)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(a)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}get isInt(){return!!this._def.checks.find(a=>"int"===a.kind||"multipleOf"===a.kind&&bc.isInteger(a.value))}get isFinite(){let a=null,b=null;for(let c of this._def.checks)if("finite"===c.kind||"int"===c.kind||"multipleOf"===c.kind)return!0;else"min"===c.kind?(null===b||c.value>b)&&(b=c.value):"max"===c.kind&&(null===a||c.value<a)&&(a=c.value);return Number.isFinite(b)&&Number.isFinite(a)}}U.create=a=>new U({checks:[],typeName:bh.ZodNumber,coerce:(null==a?void 0:a.coerce)||!1,...z(a)});class V extends A{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(a){let b;if(this._def.coerce)try{a.data=BigInt(a.data)}catch(b){return this._getInvalidInput(a)}if(this._getType(a)!==e.bigint)return this._getInvalidInput(a);let c=new n;for(let d of this._def.checks)"min"===d.kind?(d.inclusive?a.data<d.value:a.data<=d.value)&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_small,type:"bigint",minimum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"max"===d.kind?(d.inclusive?a.data>d.value:a.data>=d.value)&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_big,type:"bigint",maximum:d.value,inclusive:d.inclusive,message:d.message}),c.dirty()):"multipleOf"===d.kind?a.data%d.value!==BigInt(0)&&(m(b=this._getOrReturnCtx(a,b),{code:g.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):bc.assertNever(d);return{status:c.value,value:a.data}}_getInvalidInput(a){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.bigint,received:b.parsedType}),o}gte(a,b){return this.setLimit("min",a,!0,be.toString(b))}gt(a,b){return this.setLimit("min",a,!1,be.toString(b))}lte(a,b){return this.setLimit("max",a,!0,be.toString(b))}lt(a,b){return this.setLimit("max",a,!1,be.toString(b))}setLimit(a,b,c,d){return new V({...this._def,checks:[...this._def.checks,{kind:a,value:b,inclusive:c,message:be.toString(d)}]})}_addCheck(a){return new V({...this._def,checks:[...this._def.checks,a]})}positive(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(a)})}negative(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(a)})}nonpositive(a){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(a)})}nonnegative(a){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(a)})}multipleOf(a,b){return this._addCheck({kind:"multipleOf",value:a,message:be.toString(b)})}get minValue(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return a}get maxValue(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return a}}V.create=a=>{var b;return new V({checks:[],typeName:bh.ZodBigInt,coerce:null!=(b=null==a?void 0:a.coerce)&&b,...z(a)})};class W extends A{_parse(a){if(this._def.coerce&&(a.data=!!a.data),this._getType(a)!==e.boolean){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.boolean,received:b.parsedType}),o}return q(a.data)}}W.create=a=>new W({typeName:bh.ZodBoolean,coerce:(null==a?void 0:a.coerce)||!1,...z(a)});class X extends A{_parse(a){let b;if(this._def.coerce&&(a.data=new Date(a.data)),this._getType(a)!==e.date){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.date,received:b.parsedType}),o}if(isNaN(a.data.getTime()))return m(this._getOrReturnCtx(a),{code:g.invalid_date}),o;let c=new n;for(let d of this._def.checks)"min"===d.kind?a.data.getTime()<d.value&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_small,message:d.message,inclusive:!0,exact:!1,minimum:d.value,type:"date"}),c.dirty()):"max"===d.kind?a.data.getTime()>d.value&&(m(b=this._getOrReturnCtx(a,b),{code:g.too_big,message:d.message,inclusive:!0,exact:!1,maximum:d.value,type:"date"}),c.dirty()):bc.assertNever(d);return{status:c.value,value:new Date(a.data.getTime())}}_addCheck(a){return new X({...this._def,checks:[...this._def.checks,a]})}min(a,b){return this._addCheck({kind:"min",value:a.getTime(),message:be.toString(b)})}max(a,b){return this._addCheck({kind:"max",value:a.getTime(),message:be.toString(b)})}get minDate(){let a=null;for(let b of this._def.checks)"min"===b.kind&&(null===a||b.value>a)&&(a=b.value);return null!=a?new Date(a):null}get maxDate(){let a=null;for(let b of this._def.checks)"max"===b.kind&&(null===a||b.value<a)&&(a=b.value);return null!=a?new Date(a):null}}X.create=a=>new X({checks:[],coerce:(null==a?void 0:a.coerce)||!1,typeName:bh.ZodDate,...z(a)});class Y extends A{_parse(a){if(this._getType(a)!==e.symbol){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.symbol,received:b.parsedType}),o}return q(a.data)}}Y.create=a=>new Y({typeName:bh.ZodSymbol,...z(a)});class Z extends A{_parse(a){if(this._getType(a)!==e.undefined){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.undefined,received:b.parsedType}),o}return q(a.data)}}Z.create=a=>new Z({typeName:bh.ZodUndefined,...z(a)});class $ extends A{_parse(a){if(this._getType(a)!==e.null){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.null,received:b.parsedType}),o}return q(a.data)}}$.create=a=>new $({typeName:bh.ZodNull,...z(a)});class _ extends A{constructor(){super(...arguments),this._any=!0}_parse(a){return q(a.data)}}_.create=a=>new _({typeName:bh.ZodAny,...z(a)});class aa extends A{constructor(){super(...arguments),this._unknown=!0}_parse(a){return q(a.data)}}aa.create=a=>new aa({typeName:bh.ZodUnknown,...z(a)});class ab extends A{_parse(a){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.never,received:b.parsedType}),o}}ab.create=a=>new ab({typeName:bh.ZodNever,...z(a)});class ac extends A{_parse(a){if(this._getType(a)!==e.undefined){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.void,received:b.parsedType}),o}return q(a.data)}}ac.create=a=>new ac({typeName:bh.ZodVoid,...z(a)});class ad extends A{_parse(a){let{ctx:b,status:c}=this._processInputParams(a),d=this._def;if(b.parsedType!==e.array)return m(b,{code:g.invalid_type,expected:e.array,received:b.parsedType}),o;if(null!==d.exactLength){let a=b.data.length>d.exactLength.value,e=b.data.length<d.exactLength.value;(a||e)&&(m(b,{code:a?g.too_big:g.too_small,minimum:e?d.exactLength.value:void 0,maximum:a?d.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:d.exactLength.message}),c.dirty())}if(null!==d.minLength&&b.data.length<d.minLength.value&&(m(b,{code:g.too_small,minimum:d.minLength.value,type:"array",inclusive:!0,exact:!1,message:d.minLength.message}),c.dirty()),null!==d.maxLength&&b.data.length>d.maxLength.value&&(m(b,{code:g.too_big,maximum:d.maxLength.value,type:"array",inclusive:!0,exact:!1,message:d.maxLength.message}),c.dirty()),b.common.async)return Promise.all([...b.data].map((a,c)=>d.type._parseAsync(new x(b,a,b.path,c)))).then(a=>n.mergeArray(c,a));let f=[...b.data].map((a,c)=>d.type._parseSync(new x(b,a,b.path,c)));return n.mergeArray(c,f)}get element(){return this._def.type}min(a,b){return new ad({...this._def,minLength:{value:a,message:be.toString(b)}})}max(a,b){return new ad({...this._def,maxLength:{value:a,message:be.toString(b)}})}length(a,b){return new ad({...this._def,exactLength:{value:a,message:be.toString(b)}})}nonempty(a){return this.min(1,a)}}ad.create=(a,b)=>new ad({type:a,minLength:null,maxLength:null,exactLength:null,typeName:bh.ZodArray,...z(b)});class ae extends A{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let a=this._def.shape(),b=bc.objectKeys(a);return this._cached={shape:a,keys:b}}_parse(a){if(this._getType(a)!==e.object){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.object,received:b.parsedType}),o}let{status:b,ctx:c}=this._processInputParams(a),{shape:d,keys:f}=this._getCached(),h=[];if(!(this._def.catchall instanceof ab&&"strip"===this._def.unknownKeys))for(let a in c.data)f.includes(a)||h.push(a);let i=[];for(let a of f){let b=d[a],e=c.data[a];i.push({key:{status:"valid",value:a},value:b._parse(new x(c,e,c.path,a)),alwaysSet:a in c.data})}if(this._def.catchall instanceof ab){let a=this._def.unknownKeys;if("passthrough"===a)for(let a of h)i.push({key:{status:"valid",value:a},value:{status:"valid",value:c.data[a]}});else if("strict"===a)h.length>0&&(m(c,{code:g.unrecognized_keys,keys:h}),b.dirty());else if("strip"===a);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let a=this._def.catchall;for(let b of h){let d=c.data[b];i.push({key:{status:"valid",value:b},value:a._parse(new x(c,d,c.path,b)),alwaysSet:b in c.data})}}return c.common.async?Promise.resolve().then(async()=>{let a=[];for(let b of i){let c=await b.key,d=await b.value;a.push({key:c,value:d,alwaysSet:b.alwaysSet})}return a}).then(a=>n.mergeObjectSync(b,a)):n.mergeObjectSync(b,i)}get shape(){return this._def.shape()}strict(a){return be.errToObj,new ae({...this._def,unknownKeys:"strict",...void 0!==a?{errorMap:(b,c)=>{var d,e,f,g;let h=null!=(f=null==(e=(d=this._def).errorMap)?void 0:e.call(d,b,c).message)?f:c.defaultError;return"unrecognized_keys"===b.code?{message:null!=(g=be.errToObj(a).message)?g:h}:{message:h}}}:{}})}strip(){return new ae({...this._def,unknownKeys:"strip"})}passthrough(){return new ae({...this._def,unknownKeys:"passthrough"})}extend(a){return new ae({...this._def,shape:()=>({...this._def.shape(),...a})})}merge(a){return new ae({unknownKeys:a._def.unknownKeys,catchall:a._def.catchall,shape:()=>({...this._def.shape(),...a._def.shape()}),typeName:bh.ZodObject})}setKey(a,b){return this.augment({[a]:b})}catchall(a){return new ae({...this._def,catchall:a})}pick(a){let b={};return bc.objectKeys(a).forEach(c=>{a[c]&&this.shape[c]&&(b[c]=this.shape[c])}),new ae({...this._def,shape:()=>b})}omit(a){let b={};return bc.objectKeys(this.shape).forEach(c=>{a[c]||(b[c]=this.shape[c])}),new ae({...this._def,shape:()=>b})}deepPartial(){return function a(b){if(b instanceof ae){let c={};for(let d in b.shape){let e=b.shape[d];c[d]=av.create(a(e))}return new ae({...b._def,shape:()=>c})}if(b instanceof ad)return new ad({...b._def,type:a(b.element)});if(b instanceof av)return av.create(a(b.unwrap()));if(b instanceof aw)return aw.create(a(b.unwrap()));if(b instanceof aj)return aj.create(b.items.map(b=>a(b)));else return b}(this)}partial(a){let b={};return bc.objectKeys(this.shape).forEach(c=>{let d=this.shape[c];a&&!a[c]?b[c]=d:b[c]=d.optional()}),new ae({...this._def,shape:()=>b})}required(a){let b={};return bc.objectKeys(this.shape).forEach(c=>{if(a&&!a[c])b[c]=this.shape[c];else{let a=this.shape[c];for(;a instanceof av;)a=a._def.innerType;b[c]=a}}),new ae({...this._def,shape:()=>b})}keyof(){return aq(bc.objectKeys(this.shape))}}ae.create=(a,b)=>new ae({shape:()=>a,unknownKeys:"strip",catchall:ab.create(),typeName:bh.ZodObject,...z(b)}),ae.strictCreate=(a,b)=>new ae({shape:()=>a,unknownKeys:"strict",catchall:ab.create(),typeName:bh.ZodObject,...z(b)}),ae.lazycreate=(a,b)=>new ae({shape:a,unknownKeys:"strip",catchall:ab.create(),typeName:bh.ZodObject,...z(b)});class af extends A{_parse(a){let{ctx:b}=this._processInputParams(a),c=this._def.options;if(b.common.async)return Promise.all(c.map(async a=>{let c={...b,common:{...b.common,issues:[]},parent:null};return{result:await a._parseAsync({data:b.data,path:b.path,parent:c}),ctx:c}})).then(function(a){for(let b of a)if("valid"===b.result.status)return b.result;for(let c of a)if("dirty"===c.result.status)return b.common.issues.push(...c.ctx.common.issues),c.result;let c=a.map(a=>new h(a.ctx.common.issues));return m(b,{code:g.invalid_union,unionErrors:c}),o});{let a,d=[];for(let e of c){let c={...b,common:{...b.common,issues:[]},parent:null},f=e._parseSync({data:b.data,path:b.path,parent:c});if("valid"===f.status)return f;"dirty"!==f.status||a||(a={result:f,ctx:c}),c.common.issues.length&&d.push(c.common.issues)}if(a)return b.common.issues.push(...a.ctx.common.issues),a.result;let e=d.map(a=>new h(a));return m(b,{code:g.invalid_union,unionErrors:e}),o}}get options(){return this._def.options}}af.create=(a,b)=>new af({options:a,typeName:bh.ZodUnion,...z(b)});let ag=a=>{if(a instanceof ao)return ag(a.schema);if(a instanceof au)return ag(a.innerType());if(a instanceof ap)return[a.value];if(a instanceof ar)return a.options;if(a instanceof as)return bc.objectValues(a.enum);else if(a instanceof ax)return ag(a._def.innerType);else if(a instanceof Z)return[void 0];else if(a instanceof $)return[null];else if(a instanceof av)return[void 0,...ag(a.unwrap())];else if(a instanceof aw)return[null,...ag(a.unwrap())];else if(a instanceof aB)return ag(a.unwrap());else if(a instanceof aD)return ag(a.unwrap());else if(a instanceof ay)return ag(a._def.innerType);else return[]};class ah extends A{_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==e.object)return m(b,{code:g.invalid_type,expected:e.object,received:b.parsedType}),o;let c=this.discriminator,d=b.data[c],f=this.optionsMap.get(d);return f?b.common.async?f._parseAsync({data:b.data,path:b.path,parent:b}):f._parseSync({data:b.data,path:b.path,parent:b}):(m(b,{code:g.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[c]}),o)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(a,b,c){let d=new Map;for(let c of b){let b=ag(c.shape[a]);if(!b.length)throw Error(`A discriminator value for key \`${a}\` could not be extracted from all schema options`);for(let e of b){if(d.has(e))throw Error(`Discriminator property ${String(a)} has duplicate value ${String(e)}`);d.set(e,c)}}return new ah({typeName:bh.ZodDiscriminatedUnion,discriminator:a,options:b,optionsMap:d,...z(c)})}}class ai extends A{_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=(a,d)=>{if(r(a)||r(d))return o;let h=function a(b,c){let d=f(b),g=f(c);if(b===c)return{valid:!0,data:b};if(d===e.object&&g===e.object){let d=bc.objectKeys(c),e=bc.objectKeys(b).filter(a=>-1!==d.indexOf(a)),f={...b,...c};for(let d of e){let e=a(b[d],c[d]);if(!e.valid)return{valid:!1};f[d]=e.data}return{valid:!0,data:f}}if(d===e.array&&g===e.array){if(b.length!==c.length)return{valid:!1};let d=[];for(let e=0;e<b.length;e++){let f=a(b[e],c[e]);if(!f.valid)return{valid:!1};d.push(f.data)}return{valid:!0,data:d}}if(d===e.date&&g===e.date&&+b==+c)return{valid:!0,data:b};return{valid:!1}}(a.value,d.value);return h.valid?((s(a)||s(d))&&b.dirty(),{status:b.value,value:h.data}):(m(c,{code:g.invalid_intersection_types}),o)};return c.common.async?Promise.all([this._def.left._parseAsync({data:c.data,path:c.path,parent:c}),this._def.right._parseAsync({data:c.data,path:c.path,parent:c})]).then(([a,b])=>d(a,b)):d(this._def.left._parseSync({data:c.data,path:c.path,parent:c}),this._def.right._parseSync({data:c.data,path:c.path,parent:c}))}}ai.create=(a,b,c)=>new ai({left:a,right:b,typeName:bh.ZodIntersection,...z(c)});class aj extends A{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==e.array)return m(c,{code:g.invalid_type,expected:e.array,received:c.parsedType}),o;if(c.data.length<this._def.items.length)return m(c,{code:g.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o;!this._def.rest&&c.data.length>this._def.items.length&&(m(c,{code:g.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b.dirty());let d=[...c.data].map((a,b)=>{let d=this._def.items[b]||this._def.rest;return d?d._parse(new x(c,a,c.path,b)):null}).filter(a=>!!a);return c.common.async?Promise.all(d).then(a=>n.mergeArray(b,a)):n.mergeArray(b,d)}get items(){return this._def.items}rest(a){return new aj({...this._def,rest:a})}}aj.create=(a,b)=>{if(!Array.isArray(a))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new aj({items:a,typeName:bh.ZodTuple,rest:null,...z(b)})};class ak extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==e.object)return m(c,{code:g.invalid_type,expected:e.object,received:c.parsedType}),o;let d=[],f=this._def.keyType,h=this._def.valueType;for(let a in c.data)d.push({key:f._parse(new x(c,a,c.path,a)),value:h._parse(new x(c,c.data[a],c.path,a)),alwaysSet:a in c.data});return c.common.async?n.mergeObjectAsync(b,d):n.mergeObjectSync(b,d)}get element(){return this._def.valueType}static create(a,b,c){return new ak(b instanceof A?{keyType:a,valueType:b,typeName:bh.ZodRecord,...z(c)}:{keyType:T.create(),valueType:a,typeName:bh.ZodRecord,...z(b)})}}class al extends A{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==e.map)return m(c,{code:g.invalid_type,expected:e.map,received:c.parsedType}),o;let d=this._def.keyType,f=this._def.valueType,h=[...c.data.entries()].map(([a,b],e)=>({key:d._parse(new x(c,a,c.path,[e,"key"])),value:f._parse(new x(c,b,c.path,[e,"value"]))}));if(c.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of h){let d=await c.key,e=await c.value;if("aborted"===d.status||"aborted"===e.status)return o;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}})}{let a=new Map;for(let c of h){let d=c.key,e=c.value;if("aborted"===d.status||"aborted"===e.status)return o;("dirty"===d.status||"dirty"===e.status)&&b.dirty(),a.set(d.value,e.value)}return{status:b.value,value:a}}}}al.create=(a,b,c)=>new al({valueType:b,keyType:a,typeName:bh.ZodMap,...z(c)});class am extends A{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.parsedType!==e.set)return m(c,{code:g.invalid_type,expected:e.set,received:c.parsedType}),o;let d=this._def;null!==d.minSize&&c.data.size<d.minSize.value&&(m(c,{code:g.too_small,minimum:d.minSize.value,type:"set",inclusive:!0,exact:!1,message:d.minSize.message}),b.dirty()),null!==d.maxSize&&c.data.size>d.maxSize.value&&(m(c,{code:g.too_big,maximum:d.maxSize.value,type:"set",inclusive:!0,exact:!1,message:d.maxSize.message}),b.dirty());let f=this._def.valueType;function h(a){let c=new Set;for(let d of a){if("aborted"===d.status)return o;"dirty"===d.status&&b.dirty(),c.add(d.value)}return{status:b.value,value:c}}let i=[...c.data.values()].map((a,b)=>f._parse(new x(c,a,c.path,b)));return c.common.async?Promise.all(i).then(a=>h(a)):h(i)}min(a,b){return new am({...this._def,minSize:{value:a,message:be.toString(b)}})}max(a,b){return new am({...this._def,maxSize:{value:a,message:be.toString(b)}})}size(a,b){return this.min(a,b).max(a,b)}nonempty(a){return this.min(1,a)}}am.create=(a,b)=>new am({valueType:a,minSize:null,maxSize:null,typeName:bh.ZodSet,...z(b)});class an extends A{constructor(){super(...arguments),this.validate=this.implement}_parse(a){let{ctx:b}=this._processInputParams(a);if(b.parsedType!==e.function)return m(b,{code:g.invalid_type,expected:e.function,received:b.parsedType}),o;function c(a,c){return l({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,k(),i].filter(a=>!!a),issueData:{code:g.invalid_arguments,argumentsError:c}})}function d(a,c){return l({data:a,path:b.path,errorMaps:[b.common.contextualErrorMap,b.schemaErrorMap,k(),i].filter(a=>!!a),issueData:{code:g.invalid_return_type,returnTypeError:c}})}let f={errorMap:b.common.contextualErrorMap},j=b.data;if(this._def.returns instanceof at){let a=this;return q(async function(...b){let e=new h([]),g=await a._def.args.parseAsync(b,f).catch(a=>{throw e.addIssue(c(b,a)),e}),i=await Reflect.apply(j,this,g);return await a._def.returns._def.type.parseAsync(i,f).catch(a=>{throw e.addIssue(d(i,a)),e})})}{let a=this;return q(function(...b){let e=a._def.args.safeParse(b,f);if(!e.success)throw new h([c(b,e.error)]);let g=Reflect.apply(j,this,e.data),i=a._def.returns.safeParse(g,f);if(!i.success)throw new h([d(g,i.error)]);return i.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...a){return new an({...this._def,args:aj.create(a).rest(aa.create())})}returns(a){return new an({...this._def,returns:a})}implement(a){return this.parse(a)}strictImplement(a){return this.parse(a)}static create(a,b,c){return new an({args:a||aj.create([]).rest(aa.create()),returns:b||aa.create(),typeName:bh.ZodFunction,...z(c)})}}class ao extends A{get schema(){return this._def.getter()}_parse(a){let{ctx:b}=this._processInputParams(a);return this._def.getter()._parse({data:b.data,path:b.path,parent:b})}}ao.create=(a,b)=>new ao({getter:a,typeName:bh.ZodLazy,...z(b)});class ap extends A{_parse(a){if(a.data!==this._def.value){let b=this._getOrReturnCtx(a);return m(b,{received:b.data,code:g.invalid_literal,expected:this._def.value}),o}return{status:"valid",value:a.data}}get value(){return this._def.value}}function aq(a,b){return new ar({values:a,typeName:bh.ZodEnum,...z(b)})}ap.create=(a,b)=>new ap({value:a,typeName:bh.ZodLiteral,...z(b)});class ar extends A{constructor(){super(...arguments),bf.set(this,void 0)}_parse(a){if("string"!=typeof a.data){let b=this._getOrReturnCtx(a),c=this._def.values;return m(b,{expected:bc.joinValues(c),received:b.parsedType,code:g.invalid_type}),o}if(v(this,bf,"f")||w(this,bf,new Set(this._def.values),"f"),!v(this,bf,"f").has(a.data)){let b=this._getOrReturnCtx(a),c=this._def.values;return m(b,{received:b.data,code:g.invalid_enum_value,options:c}),o}return q(a.data)}get options(){return this._def.values}get enum(){let a={};for(let b of this._def.values)a[b]=b;return a}get Values(){let a={};for(let b of this._def.values)a[b]=b;return a}get Enum(){let a={};for(let b of this._def.values)a[b]=b;return a}extract(a,b=this._def){return ar.create(a,{...this._def,...b})}exclude(a,b=this._def){return ar.create(this.options.filter(b=>!a.includes(b)),{...this._def,...b})}}bf=new WeakMap,ar.create=aq;class as extends A{constructor(){super(...arguments),bg.set(this,void 0)}_parse(a){let b=bc.getValidEnumValues(this._def.values),c=this._getOrReturnCtx(a);if(c.parsedType!==e.string&&c.parsedType!==e.number){let a=bc.objectValues(b);return m(c,{expected:bc.joinValues(a),received:c.parsedType,code:g.invalid_type}),o}if(v(this,bg,"f")||w(this,bg,new Set(bc.getValidEnumValues(this._def.values)),"f"),!v(this,bg,"f").has(a.data)){let a=bc.objectValues(b);return m(c,{received:c.data,code:g.invalid_enum_value,options:a}),o}return q(a.data)}get enum(){return this._def.values}}bg=new WeakMap,as.create=(a,b)=>new as({values:a,typeName:bh.ZodNativeEnum,...z(b)});class at extends A{unwrap(){return this._def.type}_parse(a){let{ctx:b}=this._processInputParams(a);return b.parsedType!==e.promise&&!1===b.common.async?(m(b,{code:g.invalid_type,expected:e.promise,received:b.parsedType}),o):q((b.parsedType===e.promise?b.data:Promise.resolve(b.data)).then(a=>this._def.type.parseAsync(a,{path:b.path,errorMap:b.common.contextualErrorMap})))}}at.create=(a,b)=>new at({type:a,typeName:bh.ZodPromise,...z(b)});class au extends A{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bh.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(a){let{status:b,ctx:c}=this._processInputParams(a),d=this._def.effect||null,e={addIssue:a=>{m(c,a),a.fatal?b.abort():b.dirty()},get path(){return c.path}};if(e.addIssue=e.addIssue.bind(e),"preprocess"===d.type){let a=d.transform(c.data,e);if(c.common.async)return Promise.resolve(a).then(async a=>{if("aborted"===b.value)return o;let d=await this._def.schema._parseAsync({data:a,path:c.path,parent:c});return"aborted"===d.status?o:"dirty"===d.status||"dirty"===b.value?p(d.value):d});{if("aborted"===b.value)return o;let d=this._def.schema._parseSync({data:a,path:c.path,parent:c});return"aborted"===d.status?o:"dirty"===d.status||"dirty"===b.value?p(d.value):d}}if("refinement"===d.type){let a=a=>{let b=d.refinement(a,e);if(c.common.async)return Promise.resolve(b);if(b instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(c=>"aborted"===c.status?o:("dirty"===c.status&&b.dirty(),a(c.value).then(()=>({status:b.value,value:c.value}))));{let d=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===d.status?o:("dirty"===d.status&&b.dirty(),a(d.value),{status:b.value,value:d.value})}}if("transform"===d.type)if(!1!==c.common.async)return this._def.schema._parseAsync({data:c.data,path:c.path,parent:c}).then(a=>t(a)?Promise.resolve(d.transform(a.value,e)).then(a=>({status:b.value,value:a})):a);else{let a=this._def.schema._parseSync({data:c.data,path:c.path,parent:c});if(!t(a))return a;let f=d.transform(a.value,e);if(f instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:b.value,value:f}}bc.assertNever(d)}}au.create=(a,b,c)=>new au({schema:a,typeName:bh.ZodEffects,effect:b,...z(c)}),au.createWithPreprocess=(a,b,c)=>new au({schema:b,effect:{type:"preprocess",transform:a},typeName:bh.ZodEffects,...z(c)});class av extends A{_parse(a){return this._getType(a)===e.undefined?q(void 0):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}av.create=(a,b)=>new av({innerType:a,typeName:bh.ZodOptional,...z(b)});class aw extends A{_parse(a){return this._getType(a)===e.null?q(null):this._def.innerType._parse(a)}unwrap(){return this._def.innerType}}aw.create=(a,b)=>new aw({innerType:a,typeName:bh.ZodNullable,...z(b)});class ax extends A{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return b.parsedType===e.undefined&&(c=this._def.defaultValue()),this._def.innerType._parse({data:c,path:b.path,parent:b})}removeDefault(){return this._def.innerType}}ax.create=(a,b)=>new ax({innerType:a,typeName:bh.ZodDefault,defaultValue:"function"==typeof b.default?b.default:()=>b.default,...z(b)});class ay extends A{_parse(a){let{ctx:b}=this._processInputParams(a),c={...b,common:{...b.common,issues:[]}},d=this._def.innerType._parse({data:c.data,path:c.path,parent:{...c}});return u(d)?d.then(a=>({status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new h(c.common.issues)},input:c.data})})):{status:"valid",value:"valid"===d.status?d.value:this._def.catchValue({get error(){return new h(c.common.issues)},input:c.data})}}removeCatch(){return this._def.innerType}}ay.create=(a,b)=>new ay({innerType:a,typeName:bh.ZodCatch,catchValue:"function"==typeof b.catch?b.catch:()=>b.catch,...z(b)});class az extends A{_parse(a){if(this._getType(a)!==e.nan){let b=this._getOrReturnCtx(a);return m(b,{code:g.invalid_type,expected:e.nan,received:b.parsedType}),o}return{status:"valid",value:a.data}}}az.create=a=>new az({typeName:bh.ZodNaN,...z(a)});let aA=Symbol("zod_brand");class aB extends A{_parse(a){let{ctx:b}=this._processInputParams(a),c=b.data;return this._def.type._parse({data:c,path:b.path,parent:b})}unwrap(){return this._def.type}}class aC extends A{_parse(a){let{status:b,ctx:c}=this._processInputParams(a);if(c.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?o:"dirty"===a.status?(b.dirty(),p(a.value)):this._def.out._parseAsync({data:a.value,path:c.path,parent:c})})();{let a=this._def.in._parseSync({data:c.data,path:c.path,parent:c});return"aborted"===a.status?o:"dirty"===a.status?(b.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:c.path,parent:c})}}static create(a,b){return new aC({in:a,out:b,typeName:bh.ZodPipeline})}}class aD extends A{_parse(a){let b=this._def.innerType._parse(a),c=a=>(t(a)&&(a.value=Object.freeze(a.value)),a);return u(b)?b.then(a=>c(a)):c(b)}unwrap(){return this._def.innerType}}function aE(a,b={},c){return a?_.create().superRefine((d,e)=>{var f,g;if(!a(d)){let a="function"==typeof b?b(d):"string"==typeof b?{message:b}:b,h=null==(g=null!=(f=a.fatal)?f:c)||g,i="string"==typeof a?{message:a}:a;e.addIssue({code:"custom",...i,fatal:h})}}):_.create()}aD.create=(a,b)=>new aD({innerType:a,typeName:bh.ZodReadonly,...z(b)});let aF={object:ae.lazycreate};!function(a){a.ZodString="ZodString",a.ZodNumber="ZodNumber",a.ZodNaN="ZodNaN",a.ZodBigInt="ZodBigInt",a.ZodBoolean="ZodBoolean",a.ZodDate="ZodDate",a.ZodSymbol="ZodSymbol",a.ZodUndefined="ZodUndefined",a.ZodNull="ZodNull",a.ZodAny="ZodAny",a.ZodUnknown="ZodUnknown",a.ZodNever="ZodNever",a.ZodVoid="ZodVoid",a.ZodArray="ZodArray",a.ZodObject="ZodObject",a.ZodUnion="ZodUnion",a.ZodDiscriminatedUnion="ZodDiscriminatedUnion",a.ZodIntersection="ZodIntersection",a.ZodTuple="ZodTuple",a.ZodRecord="ZodRecord",a.ZodMap="ZodMap",a.ZodSet="ZodSet",a.ZodFunction="ZodFunction",a.ZodLazy="ZodLazy",a.ZodLiteral="ZodLiteral",a.ZodEnum="ZodEnum",a.ZodEffects="ZodEffects",a.ZodNativeEnum="ZodNativeEnum",a.ZodOptional="ZodOptional",a.ZodNullable="ZodNullable",a.ZodDefault="ZodDefault",a.ZodCatch="ZodCatch",a.ZodPromise="ZodPromise",a.ZodBranded="ZodBranded",a.ZodPipeline="ZodPipeline",a.ZodReadonly="ZodReadonly"}(bh||(bh={}));let aG=T.create,aH=U.create,aI=az.create,aJ=V.create,aK=W.create,aL=X.create,aM=Y.create,aN=Z.create,aO=$.create,aP=_.create,aQ=aa.create,aR=ab.create,aS=ac.create,aT=ad.create,aU=ae.create,aV=ae.strictCreate,aW=af.create,aX=ah.create,aY=ai.create,aZ=aj.create,a$=ak.create,a_=al.create,a0=am.create,a1=an.create,a2=ao.create,a3=ap.create,a4=ar.create,a5=as.create,a6=at.create,a7=au.create,a8=av.create,a9=aw.create,ba=au.createWithPreprocess,bb=aC.create;var bc,bd,be,bf,bg,bh,bi=Object.freeze({__proto__:null,defaultErrorMap:i,setErrorMap:function(a){j=a},getErrorMap:k,makeIssue:l,EMPTY_PATH:[],addIssueToContext:m,ParseStatus:n,INVALID:o,DIRTY:p,OK:q,isAborted:r,isDirty:s,isValid:t,isAsync:u,get util(){return bc},get objectUtil(){return bd},ZodParsedType:e,getParsedType:f,ZodType:A,datetimeRegex:S,ZodString:T,ZodNumber:U,ZodBigInt:V,ZodBoolean:W,ZodDate:X,ZodSymbol:Y,ZodUndefined:Z,ZodNull:$,ZodAny:_,ZodUnknown:aa,ZodNever:ab,ZodVoid:ac,ZodArray:ad,ZodObject:ae,ZodUnion:af,ZodDiscriminatedUnion:ah,ZodIntersection:ai,ZodTuple:aj,ZodRecord:ak,ZodMap:al,ZodSet:am,ZodFunction:an,ZodLazy:ao,ZodLiteral:ap,ZodEnum:ar,ZodNativeEnum:as,ZodPromise:at,ZodEffects:au,ZodTransformer:au,ZodOptional:av,ZodNullable:aw,ZodDefault:ax,ZodCatch:ay,ZodNaN:az,BRAND:aA,ZodBranded:aB,ZodPipeline:aC,ZodReadonly:aD,custom:aE,Schema:A,ZodSchema:A,late:aF,get ZodFirstPartyTypeKind(){return bh},coerce:{string:a=>T.create({...a,coerce:!0}),number:a=>U.create({...a,coerce:!0}),boolean:a=>W.create({...a,coerce:!0}),bigint:a=>V.create({...a,coerce:!0}),date:a=>X.create({...a,coerce:!0})},any:aP,array:aT,bigint:aJ,boolean:aK,date:aL,discriminatedUnion:aX,effect:a7,enum:a4,function:a1,instanceof:(a,b={message:`Input not instance of ${a.name}`})=>aE(b=>b instanceof a,b),intersection:aY,lazy:a2,literal:a3,map:a_,nan:aI,nativeEnum:a5,never:aR,null:aO,nullable:a9,number:aH,object:aU,oboolean:()=>aK().optional(),onumber:()=>aH().optional(),optional:a8,ostring:()=>aG().optional(),pipeline:bb,preprocess:ba,promise:a6,record:a$,set:a0,strictObject:aV,string:aG,symbol:aM,transformer:a7,tuple:aZ,undefined:aN,union:aW,unknown:aQ,void:aS,NEVER:o,ZodIssueCode:g,quotelessJson:a=>JSON.stringify(a,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:h});let bj=bi.enum(["mint","maple","palm","willow","linden","almond","aspen","sequoia"]);function bk(a,b){if(a instanceof Promise)throw Error(b)}function bl(a){var b;return a?!(b=a.startsWith("/")?a:`/${a}`)||b.endsWith("/")?b.slice(0,-1):b:""}let bm=bi.enum(["true","false","1","0"]).or(bi.number()).optional().transform(a=>null!=a&&!!JSON.parse(String(a))),bn=bi.string().optional(),bo=bi.string().optional().transform(a=>a??""),bp=function(a){let b="object"==typeof a.client?a.client:{},c="object"==typeof a.server?a.server:{},d=a.shared,e=a.runtimeEnv?a.runtimeEnv:{...process.env,...a.experimental__runtimeEnv};return function(a){let b=a.runtimeEnvStrict??a.runtimeEnv??process.env;if(a.emptyStringAsUndefined)for(let[a,c]of Object.entries(b))""===c&&delete b[a];if(a.skipValidation){if(a.extends)for(let b of a.extends)b.skipValidation=!0;return b}let c="object"==typeof a.client?a.client:{},d="object"==typeof a.server?a.server:{},e="object"==typeof a.shared?a.shared:{},f=a.isServer??("undefined"==typeof window||"Deno"in window),g=f?{...d,...e,...c}:{...c,...e},h=a.createFinalSchema?.(g,f)?.["~standard"].validate(b)??function(a,b){let c={},d=[];for(let e in a){let f=a[e]["~standard"].validate(b[e]);if(bk(f,`Validation must be synchronous, but ${e} returned a Promise.`),f.issues){d.push(...f.issues.map(a=>({...a,message:a.message,path:[e,...a.path??[]]})));continue}c[e]=f.value}return d.length?{issues:d}:{value:c}}(g,b);bk(h,"Validation must be synchronous");let i=a.onValidationError??(a=>{throw console.error(" Invalid environment variables:",a),Error("Invalid environment variables")}),j=a.onInvalidAccess??(()=>{throw Error(" Attempted to access a server-side environment variable on the client")});return h.issues?i(h.issues):new Proxy(Object.assign((a.extends??[]).reduce((a,b)=>Object.assign(a,b),{}),h.value),{get(b,c){if("string"==typeof c&&"__esModule"!==c&&"$$typeof"!==c)return f||a.clientPrefix&&(c.startsWith(a.clientPrefix)||c in e)?Reflect.get(b,c):j(c)}})}({...a,shared:d,client:b,server:c,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:e})}({shared:{BASE_PATH:bn.transform(a=>bl(a)),HOST_NAME:bo,NODE_ENV:bi.enum(["development","production","test"]).optional().transform(a=>a??"development"),DEV_PROD:bm,TRACKED_ASSET_WORKER_URL:bn,SKILL_MD_EXCLUDE_SUBDOMAINS:bo,THEME:bj.optional(),STORYBOOK:bm,CACHE_TOOLBAR:bm,REACT_GRAB:bm},server:{CLOUDFRONT_IMAGE_URL:bn,REVALIDATION_TOKEN:bn,MDX_COMPILER_TOKEN:bo,API_PERF_TOKEN:bo,EXPORT_TOKEN:bn,SHIELD_SECRET:bo,VERCEL_DEPLOYMENT_ID:bn.transform(a=>a??"dpl_localhost"),VERCEL_PROJECT_ID:bn,VERCEL_URL:bn.transform(a=>a??"localhost"),IS_MULTI_TENANT:bm,VERCEL:bm,TRACKED_ASSET_WORKER_SIGNING_SECRET:bn,PROJECT_NAME:bo,ROOT_HOST:bo,DATADOG_API_KEY:bn,AXIOM_DOMAIN:bn,AXIOM_API_TOKEN:bn,AXIOM_DATASET_NAME:bn,OTEL_ENABLED:bm,END_USER_AUTH_PUBLIC_KEY:bn,ANALYTICS_AUTH_TOKEN:bn},client:{NEXT_PUBLIC_ENV:bn.transform(a=>a??"local"),NEXT_PUBLIC_TRIEVE_API_KEY:bn,NEXT_PUBLIC_POSTHOG_KEY:bn,NEXT_PUBLIC_AUTH_ENABLED:bn,NEXT_PUBLIC_CUSTOM_JS_DISABLED:bn,NEXT_PUBLIC_ASSET_PREFIX:bo,NEXT_PUBLIC_AI_MESSAGE_HOST:bn,NEXT_PUBLIC_BASE_PATH:bo,NEXT_PUBLIC_IS_LOCAL_CLIENT:bo},experimental__runtimeEnv:{NEXT_PUBLIC_ENV:"cli",NEXT_PUBLIC_TRIEVE_API_KEY:process.env.NEXT_PUBLIC_TRIEVE_API_KEY,NEXT_PUBLIC_POSTHOG_KEY:process.env.NEXT_PUBLIC_POSTHOG_KEY,NEXT_PUBLIC_AUTH_ENABLED:process.env.NEXT_PUBLIC_AUTH_ENABLED,NEXT_PUBLIC_CUSTOM_JS_DISABLED:process.env.NEXT_PUBLIC_CUSTOM_JS_DISABLED,NEXT_PUBLIC_ASSET_PREFIX:process.env.NEXT_PUBLIC_ASSET_PREFIX,NEXT_PUBLIC_AI_MESSAGE_HOST:process.env.NEXT_PUBLIC_AI_MESSAGE_HOST,NEXT_PUBLIC_BASE_PATH:process.env.NEXT_PUBLIC_BASE_PATH,NEXT_PUBLIC_IS_LOCAL_CLIENT:process.env.NEXT_PUBLIC_IS_LOCAL_CLIENT,BASE_PATH:process.env.BASE_PATH,HOST_NAME:process.env.HOST_NAME,NODE_ENV:"production",DEV_PROD:process.env.DEV_PROD,TRACKED_ASSET_WORKER_URL:process.env.TRACKED_ASSET_WORKER_URL,SKILL_MD_EXCLUDE_SUBDOMAINS:process.env.SKILL_MD_EXCLUDE_SUBDOMAINS,THEME:process.env.THEME,STORYBOOK:process.env.STORYBOOK,CACHE_TOOLBAR:process.env.CACHE_TOOLBAR,REACT_GRAB:process.env.REACT_GRAB},emptyStringAsUndefined:!0,skipValidation:!!process.env.SKIP_ENV_VALIDATION});c(4893),bp.NODE_ENV,bp.NODE_ENV,bp.NODE_ENV;let bq={HOSTNAME:bp.AXIOM_DOMAIN,API_TOKEN:bp.AXIOM_API_TOKEN,DATASET_NAME:bp.AXIOM_DATASET_NAME},br={ENV:bp.NEXT_PUBLIC_ENV,TRIEVE_API_KEY:bp.NEXT_PUBLIC_TRIEVE_API_KEY,POSTHOG_KEY:bp.NEXT_PUBLIC_POSTHOG_KEY,AUTH_ENABLED:bp.NEXT_PUBLIC_AUTH_ENABLED,CUSTOM_JS_DISABLED:bp.NEXT_PUBLIC_CUSTOM_JS_DISABLED,ASSET_PREFIX:bp.NEXT_PUBLIC_ASSET_PREFIX,AI_MESSAGE_HOST:bp.NEXT_PUBLIC_AI_MESSAGE_HOST,BASE_PATH:bl(bp.NEXT_PUBLIC_BASE_PATH),IS_LOCAL_CLIENT:"true"===bp.NEXT_PUBLIC_IS_LOCAL_CLIENT};async function bs(){}bp.OTEL_ENABLED&&br.ENV,bq.HOSTNAME},5521:a=>{"use strict";a.exports=require("node:async_hooks")},7003:(a,b,c)=>{"use strict";c.d(b,{OTLPHttpJsonTraceExporter:()=>fc,registerOTel:()=>fQ});var d,e,f,g,h,i,j,k,l,m,n,o={};c.r(o),c.d(o,{DiagConsoleLogger:()=>P,DiagLogLevel:()=>d,INVALID_SPANID:()=>as,INVALID_SPAN_CONTEXT:()=>au,INVALID_TRACEID:()=>at,ProxyTracer:()=>aM,ProxyTracerProvider:()=>aO,ROOT_CONTEXT:()=>N,SamplingDecision:()=>g,SpanKind:()=>h,SpanStatusCode:()=>i,TraceFlags:()=>f,ValueType:()=>e,baggageEntryMetadataFromString:()=>L,context:()=>aV,createContextKey:()=>M,createNoopMeter:()=>ah,createTraceState:()=>aU,default:()=>a9,defaultTextMapGetter:()=>ai,defaultTextMapSetter:()=>aj,diag:()=>aW,isSpanContextValid:()=>aH,isValidSpanId:()=>aG,isValidTraceId:()=>aF,metrics:()=>aZ,propagation:()=>a6,trace:()=>a8});var p={};c.r(p),c.d(p,{NOOP_LOGGER:()=>bf,NOOP_LOGGER_PROVIDER:()=>bh,NoopLogger:()=>be,NoopLoggerProvider:()=>bg,ProxyLogger:()=>bi,ProxyLoggerProvider:()=>bj,SeverityNumber:()=>j,logs:()=>bn});var q="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof c.g?c.g:{},r="1.9.0",s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,t=function(a){var b=new Set([a]),c=new Set,d=a.match(s);if(!d)return function(){return!1};var e={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=e.prerelease)return function(b){return b===a};function f(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;var d=a.match(s);if(!d)return f(a);var g={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=g.prerelease||e.major!==g.major)return f(a);if(0===e.major)return e.minor===g.minor&&e.patch<=g.patch?(b.add(a),!0):f(a);return e.minor<=g.minor?(b.add(a),!0):f(a)}}(r),u=Symbol.for("opentelemetry.js.api."+r.split(".")[0]);function v(a,b,c,d){void 0===d&&(d=!1);var e,f=q[u]=null!=(e=q[u])?e:{version:r};if(!d&&f[a]){var g=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return c.error(g.stack||g.message),!1}if(f.version!==r){var g=Error("@opentelemetry/api: Registration of version v"+f.version+" for "+a+" does not match previously registered API v"+r);return c.error(g.stack||g.message),!1}return f[a]=b,c.debug("@opentelemetry/api: Registered a global for "+a+" v"+r+"."),!0}function w(a){var b,c,d=null==(b=q[u])?void 0:b.version;if(d&&t(d))return null==(c=q[u])?void 0:c[a]}function x(a,b){b.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+r+".");var c=q[u];c&&delete c[a]}var y=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},z=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},A=function(){function a(a){this._namespace=a.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return B("debug",this._namespace,a)},a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return B("error",this._namespace,a)},a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return B("info",this._namespace,a)},a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return B("warn",this._namespace,a)},a.prototype.verbose=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return B("verbose",this._namespace,a)},a}();function B(a,b,c){var d=w("diag");if(d)return c.unshift(b),d[a].apply(d,z([],y(c),!1))}!function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(d||(d={}));var C=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},D=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},E=function(){function a(){function a(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var d=w("diag");if(d)return d[a].apply(d,D([],C(b),!1))}}var b=this;b.setLogger=function(a,c){if(void 0===c&&(c={logLevel:d.INFO}),a===b){var e,f,g,h=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(e=h.stack)?e:h.message),!1}"number"==typeof c&&(c={logLevel:c});var i=w("diag"),j=function(a,b){function c(c,d){var e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.NONE?a=d.NONE:a>d.ALL&&(a=d.ALL),b=b||{},{error:c("error",d.ERROR),warn:c("warn",d.WARN),info:c("info",d.INFO),debug:c("debug",d.DEBUG),verbose:c("verbose",d.VERBOSE)}}(null!=(f=c.logLevel)?f:d.INFO,a);if(i&&!c.suppressOverrideMessage){var k=null!=(g=Error().stack)?g:"<failed to generate stacktrace>";i.warn("Current logger will be overwritten from "+k),j.warn("Current logger will overwrite one already registered from "+k)}return v("diag",j,b,!0)},b.disable=function(){x("diag",b)},b.createComponentLogger=function(a){return new A(a)},b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}(),F=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},G=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},H=function(){function a(a){this._entries=a?new Map(a):new Map}return a.prototype.getEntry=function(a){var b=this._entries.get(a);if(b)return Object.assign({},b)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(a){var b=F(a,2);return[b[0],b[1]]})},a.prototype.setEntry=function(b,c){var d=new a(this._entries);return d._entries.set(b,c),d},a.prototype.removeEntry=function(b){var c=new a(this._entries);return c._entries.delete(b),c},a.prototype.removeEntries=function(){for(var b,c,d=[],e=0;e<arguments.length;e++)d[e]=arguments[e];var f=new a(this._entries);try{for(var g=G(d),h=g.next();!h.done;h=g.next()){var i=h.value;f._entries.delete(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}return f},a.prototype.clear=function(){return new a},a}(),I=Symbol("BaggageEntryMetadata"),J=E.instance();function K(a){return void 0===a&&(a={}),new H(new Map(Object.entries(a)))}function L(a){return"string"!=typeof a&&(J.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:I,toString:function(){return a}}}function M(a){return Symbol.for(a)}var N=new function a(b){var c=this;c._currentContext=b?new Map(b):new Map,c.getValue=function(a){return c._currentContext.get(a)},c.setValue=function(b,d){var e=new a(c._currentContext);return e._currentContext.set(b,d),e},c.deleteValue=function(b){var d=new a(c._currentContext);return d._currentContext.delete(b),d}},O=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],P=function(){for(var a=0;a<O.length;a++)this[O[a].n]=function(a){return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(console){var d=console[a];if("function"!=typeof d&&(d=console.log),"function"==typeof d)return d.apply(console,b)}}}(O[a].c)},Q=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),R=function(){function a(){}return a.prototype.createGauge=function(a,b){return ab},a.prototype.createHistogram=function(a,b){return ac},a.prototype.createCounter=function(a,b){return aa},a.prototype.createUpDownCounter=function(a,b){return ad},a.prototype.createObservableGauge=function(a,b){return af},a.prototype.createObservableCounter=function(a,b){return ae},a.prototype.createObservableUpDownCounter=function(a,b){return ag},a.prototype.addBatchObservableCallback=function(a,b){},a.prototype.removeBatchObservableCallback=function(a){},a}(),S=function(){},T=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b.prototype.add=function(a,b){},b}(S),U=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b.prototype.add=function(a,b){},b}(S),V=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b.prototype.record=function(a,b){},b}(S),W=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b.prototype.record=function(a,b){},b}(S),X=function(){function a(){}return a.prototype.addCallback=function(a){},a.prototype.removeCallback=function(a){},a}(),Y=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b}(X),Z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b}(X),$=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return Q(b,a),b}(X),_=new R,aa=new T,ab=new V,ac=new W,ad=new U,ae=new Y,af=new Z,ag=new $;function ah(){return _}!function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(e||(e={}));var ai={get:function(a,b){if(null!=a)return a[b]},keys:function(a){return null==a?[]:Object.keys(a)}},aj={set:function(a,b,c){null!=a&&(a[b]=c)}},ak=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},al=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},am=function(){function a(){}return a.prototype.active=function(){return N},a.prototype.with=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];return b.call.apply(b,al([c],ak(d),!1))},a.prototype.bind=function(a,b){return b},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),an=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ao=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},ap="context",aq=new am,ar=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(a){return v(ap,a,E.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(a,b,c){for(var d,e=[],f=3;f<arguments.length;f++)e[f-3]=arguments[f];return(d=this._getContextManager()).with.apply(d,ao([a,b,c],an(e),!1))},a.prototype.bind=function(a,b){return this._getContextManager().bind(a,b)},a.prototype._getContextManager=function(){return w(ap)||aq},a.prototype.disable=function(){this._getContextManager().disable(),x(ap,E.instance())},a}();!function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(f||(f={}));var as="0000000000000000",at="00000000000000000000000000000000",au={traceId:at,spanId:as,traceFlags:f.NONE},av=function(){function a(a){void 0===a&&(a=au),this._spanContext=a}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return this},a.prototype.setAttributes=function(a){return this},a.prototype.addEvent=function(a,b){return this},a.prototype.addLink=function(a){return this},a.prototype.addLinks=function(a){return this},a.prototype.setStatus=function(a){return this},a.prototype.updateName=function(a){return this},a.prototype.end=function(a){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(a,b){},a}(),aw=M("OpenTelemetry Context Key SPAN");function ax(a){return a.getValue(aw)||void 0}function ay(){return ax(ar.getInstance().active())}function az(a,b){return a.setValue(aw,b)}function aA(a){return a.deleteValue(aw)}function aB(a,b){return az(a,new av(b))}function aC(a){var b;return null==(b=ax(a))?void 0:b.spanContext()}var aD=/^([0-9a-f]{32})$/i,aE=/^[0-9a-f]{16}$/i;function aF(a){return aD.test(a)&&a!==at}function aG(a){return aE.test(a)&&a!==as}function aH(a){return aF(a.traceId)&&aG(a.spanId)}function aI(a){return new av(a)}var aJ=ar.getInstance(),aK=function(){function a(){}return a.prototype.startSpan=function(a,b,c){if(void 0===c&&(c=aJ.active()),null==b?void 0:b.root)return new av;var d,e=c&&aC(c);return"object"==typeof(d=e)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&aH(e)?new av(e):new av},a.prototype.startActiveSpan=function(a,b,c,d){if(!(arguments.length<2)){2==arguments.length?g=b:3==arguments.length?(e=b,g=c):(e=b,f=c,g=d);var e,f,g,h=null!=f?f:aJ.active(),i=this.startSpan(a,e,h),j=az(h,i);return aJ.with(j,g,void 0,i)}},a}(),aL=new aK,aM=function(){function a(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}return a.prototype.startSpan=function(a,b,c){return this._getTracer().startSpan(a,b,c)},a.prototype.startActiveSpan=function(a,b,c,d){var e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):aL},a}(),aN=new(function(){function a(){}return a.prototype.getTracer=function(a,b,c){return new aK},a}()),aO=function(){function a(){}return a.prototype.getTracer=function(a,b,c){var d;return null!=(d=this.getDelegateTracer(a,b,c))?d:new aM(this,a,b,c)},a.prototype.getDelegate=function(){var a;return null!=(a=this._delegate)?a:aN},a.prototype.setDelegate=function(a){this._delegate=a},a.prototype.getDelegateTracer=function(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)},a}();!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(g||(g={})),function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(h||(h={})),function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(i||(i={}));var aP="[_0-9a-z-*/]",aQ=RegExp("^(?:[a-z]"+aP+"{0,255}|"+("[a-z0-9]"+aP+"{0,240}@[a-z]")+aP+"{0,13})$"),aR=/^[ -~]{0,255}[!-~]$/,aS=/,|=/,aT=function(){function a(a){this._internalState=new Map,a&&this._parse(a)}return a.prototype.set=function(a,b){var c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c},a.prototype.unset=function(a){var b=this._clone();return b._internalState.delete(a),b},a.prototype.get=function(a){return this._internalState.get(a)},a.prototype.serialize=function(){var a=this;return this._keys().reduce(function(b,c){return b.push(c+"="+a.get(c)),b},[]).join(",")},a.prototype._parse=function(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce(function(a,b){var c=b.trim(),d=c.indexOf("=");if(-1!==d){var e=c.slice(0,d),f=c.slice(d+1,b.length);aQ.test(e)&&aR.test(f)&&!aS.test(f)&&a.set(e,f)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var b=new a;return b._internalState=new Map(this._internalState),b},a}();function aU(a){return new aT(a)}var aV=ar.getInstance(),aW=E.instance(),aX=new(function(){function a(){}return a.prototype.getMeter=function(a,b,c){return _},a}()),aY="metrics",aZ=(function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalMeterProvider=function(a){return v(aY,a,E.instance())},a.prototype.getMeterProvider=function(){return w(aY)||aX},a.prototype.getMeter=function(a,b,c){return this.getMeterProvider().getMeter(a,b,c)},a.prototype.disable=function(){x(aY,E.instance())},a})().getInstance(),a$=function(){function a(){}return a.prototype.inject=function(a,b){},a.prototype.extract=function(a,b){return a},a.prototype.fields=function(){return[]},a}(),a_=M("OpenTelemetry Baggage Key");function a0(a){return a.getValue(a_)||void 0}function a1(){return a0(ar.getInstance().active())}function a2(a,b){return a.setValue(a_,b)}function a3(a){return a.deleteValue(a_)}var a4="propagation",a5=new a$,a6=(function(){function a(){this.createBaggage=K,this.getBaggage=a0,this.getActiveBaggage=a1,this.setBaggage=a2,this.deleteBaggage=a3}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(a){return v(a4,a,E.instance())},a.prototype.inject=function(a,b,c){return void 0===c&&(c=aj),this._getGlobalPropagator().inject(a,b,c)},a.prototype.extract=function(a,b,c){return void 0===c&&(c=ai),this._getGlobalPropagator().extract(a,b,c)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){x(a4,E.instance())},a.prototype._getGlobalPropagator=function(){return w(a4)||a5},a})().getInstance(),a7="trace",a8=(function(){function a(){this._proxyTracerProvider=new aO,this.wrapSpanContext=aI,this.isSpanContextValid=aH,this.deleteSpan=aA,this.getSpan=ax,this.getActiveSpan=ay,this.getSpanContext=aC,this.setSpan=az,this.setSpanContext=aB}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(a){var b=v(a7,this._proxyTracerProvider,E.instance());return b&&this._proxyTracerProvider.setDelegate(a),b},a.prototype.getTracerProvider=function(){return w(a7)||this._proxyTracerProvider},a.prototype.getTracer=function(a,b){return this.getTracerProvider().getTracer(a,b)},a.prototype.disable=function(){x(a7,E.instance()),this._proxyTracerProvider=new aO},a})().getInstance();let a9={context:aV,diag:aW,metrics:aZ,propagation:a6,trace:a8};var ba=c(5521),bb=c.t(ba,2);let bc=require("node:events");var bd=c.t(bc,2);!function(a){a[a.UNSPECIFIED=0]="UNSPECIFIED",a[a.TRACE=1]="TRACE",a[a.TRACE2=2]="TRACE2",a[a.TRACE3=3]="TRACE3",a[a.TRACE4=4]="TRACE4",a[a.DEBUG=5]="DEBUG",a[a.DEBUG2=6]="DEBUG2",a[a.DEBUG3=7]="DEBUG3",a[a.DEBUG4=8]="DEBUG4",a[a.INFO=9]="INFO",a[a.INFO2=10]="INFO2",a[a.INFO3=11]="INFO3",a[a.INFO4=12]="INFO4",a[a.WARN=13]="WARN",a[a.WARN2=14]="WARN2",a[a.WARN3=15]="WARN3",a[a.WARN4=16]="WARN4",a[a.ERROR=17]="ERROR",a[a.ERROR2=18]="ERROR2",a[a.ERROR3=19]="ERROR3",a[a.ERROR4=20]="ERROR4",a[a.FATAL=21]="FATAL",a[a.FATAL2=22]="FATAL2",a[a.FATAL3=23]="FATAL3",a[a.FATAL4=24]="FATAL4"}(j||(j={}));class be{emit(a){}}let bf=new be;class bg{getLogger(a,b,c){return new be}}let bh=new bg;class bi{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}emit(a){this._getLogger().emit(a)}_getLogger(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateLogger(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):bf}}class bj{getLogger(a,b,c){var d;return null!=(d=this.getDelegateLogger(a,b,c))?d:new bi(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:bh}setDelegate(a){this._delegate=a}getDelegateLogger(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getLogger(a,b,c)}}let bk="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof c.g?c.g:{},bl=Symbol.for("io.opentelemetry.js.api.logs");class bm{constructor(){this._proxyLoggerProvider=new bj}static getInstance(){return this._instance||(this._instance=new bm),this._instance}setGlobalLoggerProvider(a){return bk[bl]?this.getLoggerProvider():(bk[bl]=b=>1===b?a:bh,this._proxyLoggerProvider.setDelegate(a),a)}getLoggerProvider(){var a,b;return null!=(b=null==(a=bk[bl])?void 0:a.call(bk,1))?b:this._proxyLoggerProvider}getLogger(a,b,c){return this.getLoggerProvider().getLogger(a,b,c)}disable(){delete bk[bl],this._proxyLoggerProvider=new bj}}let bn=bm.getInstance();void 0===globalThis.performance&&(globalThis.performance={timeOrigin:0,now:()=>Date.now()});var bo=Object.create,bp=Object.defineProperty,bq=Object.getOwnPropertyDescriptor,br=Object.getOwnPropertyNames,bs=Object.getPrototypeOf,bt=Object.prototype.hasOwnProperty,bu=(a=>"u">typeof require?require:"u">typeof Proxy?new Proxy(a,{get:(a,b)=>("u">typeof require?require:a)[b]}):a)(function(a){if("u">typeof require)return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')}),bv=(a,b)=>()=>(a&&(b=a(a=0)),b),bw=(a,b)=>()=>(b||a((b={exports:{}}).exports,b),b.exports),bx=(a,b,c,d)=>{if(b&&"object"==typeof b||"function"==typeof b)for(let e of br(b))bt.call(a,e)||e===c||bp(a,e,{get:()=>b[e],enumerable:!(d=bq(b,e))||d.enumerable});return a},by=(a,b,c)=>(bx(a,b,"default"),c&&bx(c,b,"default")),bz=(a,b,c)=>(c=null!=a?bo(bs(a)):{},bx(!b&&a&&a.__esModule?c:bp(c,"default",{value:a,enumerable:!0}),a)),bA=a=>bx(bp({},"__esModule",{value:!0}),a),bB={},bC=bv(()=>{by(bB,o)}),bD=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isTracingSuppressed=a.unsuppressTracing=a.suppressTracing=void 0;var b=(0,(bC(),bA(bB)).createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");a.suppressTracing=function(a){return a.setValue(b,!0)},a.unsuppressTracing=function(a){return a.deleteValue(b)},a.isTracingSuppressed=function(a){return!0===a.getValue(b)}}),bE=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BAGGAGE_MAX_TOTAL_LENGTH=a.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=a.BAGGAGE_MAX_NAME_VALUE_PAIRS=a.BAGGAGE_HEADER=a.BAGGAGE_ITEMS_SEPARATOR=a.BAGGAGE_PROPERTIES_SEPARATOR=a.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,a.BAGGAGE_KEY_PAIR_SEPARATOR="=",a.BAGGAGE_PROPERTIES_SEPARATOR=";",a.BAGGAGE_ITEMS_SEPARATOR=",",a.BAGGAGE_HEADER="baggage",a.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,a.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,a.BAGGAGE_MAX_TOTAL_LENGTH=8192}),bF=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseKeyPairsIntoRecord=a.parsePairKeyValue=a.getKeyPairs=a.serializeKeyPairs=void 0;var b=(bC(),bA(bB)),c=bE();function d(a){let d=a.split(c.BAGGAGE_PROPERTIES_SEPARATOR);if(d.length<=0)return;let e=d.shift();if(!e)return;let f=e.indexOf(c.BAGGAGE_KEY_PAIR_SEPARATOR);if(f<=0)return;let g=decodeURIComponent(e.substring(0,f).trim()),h=decodeURIComponent(e.substring(f+1).trim()),i;return d.length>0&&(i=(0,b.baggageEntryMetadataFromString)(d.join(c.BAGGAGE_PROPERTIES_SEPARATOR))),{key:g,value:h,metadata:i}}a.serializeKeyPairs=function(a){return a.reduce((a,b)=>{let d=`${a}${""!==a?c.BAGGAGE_ITEMS_SEPARATOR:""}${b}`;return d.length>c.BAGGAGE_MAX_TOTAL_LENGTH?a:d},"")},a.getKeyPairs=function(a){return a.getAllEntries().map(([a,b])=>{let d=`${encodeURIComponent(a)}=${encodeURIComponent(b.value)}`;return void 0!==b.metadata&&(d+=c.BAGGAGE_PROPERTIES_SEPARATOR+b.metadata.toString()),d})},a.parsePairKeyValue=d,a.parseKeyPairsIntoRecord=function(a){return"string"!=typeof a||0===a.length?{}:a.split(c.BAGGAGE_ITEMS_SEPARATOR).map(a=>d(a)).filter(a=>void 0!==a&&a.value.length>0).reduce((a,b)=>(a[b.key]=b.value,a),{})}}),bG=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.W3CBaggagePropagator=void 0;var b=(bC(),bA(bB)),c=bD(),d=bE(),e=bF();a.W3CBaggagePropagator=class{inject(a,f,g){let h=b.propagation.getBaggage(a);if(!h||(0,c.isTracingSuppressed)(a))return;let i=(0,e.getKeyPairs)(h).filter(a=>a.length<=d.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,d.BAGGAGE_MAX_NAME_VALUE_PAIRS),j=(0,e.serializeKeyPairs)(i);j.length>0&&g.set(f,d.BAGGAGE_HEADER,j)}extract(a,c,f){let g=f.get(c,d.BAGGAGE_HEADER),h=Array.isArray(g)?g.join(d.BAGGAGE_ITEMS_SEPARATOR):g;if(!h)return a;let i={};return 0===h.length||(h.split(d.BAGGAGE_ITEMS_SEPARATOR).forEach(a=>{let b=(0,e.parsePairKeyValue)(a);if(b){let a={value:b.value};b.metadata&&(a.metadata=b.metadata),i[b.key]=a}}),0===Object.entries(i).length)?a:b.propagation.setBaggage(a,b.propagation.createBaggage(i))}fields(){return[d.BAGGAGE_HEADER]}}}),bH=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AnchoredClock=void 0,a.AnchoredClock=class{constructor(a,b){this._monotonicClock=b,this._epochMillis=a.now(),this._performanceMillis=b.now()}now(){let a=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+a}}}),bI=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isAttributeValue=a.isAttributeKey=a.sanitizeAttributes=void 0;var b=(bC(),bA(bB));function c(a){return"string"==typeof a&&a.length>0}function d(a){return null==a||(Array.isArray(a)?function(a){let b;for(let c of a)if(null!=c){if(!b){if(e(c)){b=typeof c;continue}return!1}if(typeof c!==b)return!1}return!0}(a):e(a))}function e(a){switch(typeof a){case"number":case"boolean":case"string":return!0}return!1}a.sanitizeAttributes=function(a){let e={};if("object"!=typeof a||null==a)return e;for(let[f,g]of Object.entries(a)){if(!c(f)){b.diag.warn(`Invalid attribute key: ${f}`);continue}if(!d(g)){b.diag.warn(`Invalid attribute value set for key: ${f}`);continue}Array.isArray(g)?e[f]=g.slice():e[f]=g}return e},a.isAttributeKey=c,a.isAttributeValue=d}),bJ=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.loggingErrorHandler=void 0;var b=(bC(),bA(bB));a.loggingErrorHandler=function(){return a=>{var c;b.diag.error("string"==typeof(c=a)?c:JSON.stringify(function(a){let b={},c=a;for(;null!==c;)Object.getOwnPropertyNames(c).forEach(a=>{if(b[a])return;let d=c[a];d&&(b[a]=String(d))}),c=Object.getPrototypeOf(c);return b}(c)))}}}),bK=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.globalErrorHandler=a.setGlobalErrorHandler=void 0;var b=(0,bJ().loggingErrorHandler)();a.setGlobalErrorHandler=function(a){b=a},a.globalErrorHandler=function(a){try{b(a)}catch{}}}),bL=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TracesSamplerValues=void 0,function(a){a.AlwaysOff="always_off",a.AlwaysOn="always_on",a.ParentBasedAlwaysOff="parentbased_always_off",a.ParentBasedAlwaysOn="parentbased_always_on",a.ParentBasedTraceIdRatio="parentbased_traceidratio",a.TraceIdRatio="traceidratio"}(a.TracesSamplerValues||(a.TracesSamplerValues={}))}),bM=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a._globalThis=void 0,a._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{}}),bN=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getEnvWithoutDefaults=a.parseEnvironment=a.DEFAULT_ENVIRONMENT=a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=a.DEFAULT_ATTRIBUTE_COUNT_LIMIT=a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var b=(bC(),bA(bB)),c=bL(),d=bM(),e=["OTEL_SDK_DISABLED"],f=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"],g=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,a.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,a.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:b.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:a.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:a.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:a.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:a.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:c.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};var h={ALL:b.DiagLogLevel.ALL,VERBOSE:b.DiagLogLevel.VERBOSE,DEBUG:b.DiagLogLevel.DEBUG,INFO:b.DiagLogLevel.INFO,WARN:b.DiagLogLevel.WARN,ERROR:b.DiagLogLevel.ERROR,NONE:b.DiagLogLevel.NONE};function i(b){let c={};for(let d in a.DEFAULT_ENVIRONMENT)if("OTEL_LOG_LEVEL"===d)!function(a,b,c){let d=c[a];if("string"==typeof d){let c=h[d.toUpperCase()];null!=c&&(b[a]=c)}}(d,c,b);else if(e.indexOf(d)>-1)!function(a,b,c){if(typeof c[a]>"u")return;let d=String(c[a]);b[a]="true"===d.toLowerCase()}(d,c,b);else if(f.indexOf(d)>-1)!function(a,b,c,d=-1/0,e=1/0){if("u">typeof c[a]){let f=Number(c[a]);isNaN(f)||(f<d?b[a]=d:f>e?b[a]=e:b[a]=f)}}(d,c,b);else if(g.indexOf(d)>-1)!function(a,b,c,d=","){let e=c[a];"string"==typeof e&&(b[a]=e.split(d).map(a=>a.trim()))}(d,c,b);else{let a=b[d];"u">typeof a&&null!==a&&(c[d]=String(a))}return c}a.parseEnvironment=i,a.getEnvWithoutDefaults=function(){return"u">typeof process&&process&&process.env?i(process.env):i(d._globalThis)}}),bO=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getEnv=void 0;var b=bN(),c=bM();a.getEnv=function(){let a=(0,b.parseEnvironment)(c._globalThis);return Object.assign({},b.DEFAULT_ENVIRONMENT,a)}}),bP=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.hexToBase64=void 0,a.hexToBase64=function(a){let b=a.length,c="";for(let d=0;d<b;d+=2)c+=String.fromCharCode(parseInt(a.substring(d,d+2),16));return btoa(c)}}),bQ=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RandomIdGenerator=void 0,a.RandomIdGenerator=class{constructor(){this.generateTraceId=c(16),this.generateSpanId=c(8)}};var b=Array(32);function c(a){return function(){for(let c=0;c<2*a;c++)b[c]=Math.floor(16*Math.random())+48,b[c]>=58&&(b[c]+=39);return String.fromCharCode.apply(null,b.slice(0,2*a))}}}),bR=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.otperformance=void 0,a.otperformance=performance}),bS=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.VERSION=void 0,a.VERSION="1.19.0"}),bT=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.MessageTypeValues=a.RpcGrpcStatusCodeValues=a.MessagingOperationValues=a.MessagingDestinationKindValues=a.HttpFlavorValues=a.NetHostConnectionSubtypeValues=a.NetHostConnectionTypeValues=a.NetTransportValues=a.FaasInvokedProviderValues=a.FaasDocumentOperationValues=a.FaasTriggerValues=a.DbCassandraConsistencyLevelValues=a.DbSystemValues=a.SemanticAttributes=void 0,a.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},a.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},a.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},a.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},a.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},a.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},a.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},a.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},a.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},a.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},a.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},a.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},a.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},a.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}}),bU=bw(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(bT(),a)}),bV=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TelemetrySdkLanguageValues=a.OsTypeValues=a.HostArchValues=a.AwsEcsLaunchtypeValues=a.CloudPlatformValues=a.CloudProviderValues=a.SemanticResourceAttributes=void 0,a.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},a.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},a.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},a.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},a.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},a.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},a.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}}),bW=bw(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(bV(),a)}),bX=bw(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(bU(),a),c(bW(),a)}),bY=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SDK_INFO=void 0;var b=bS(),c=bX();a.SDK_INFO={[c.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[c.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[c.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:c.TelemetrySdkLanguageValues.WEBJS,[c.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:b.VERSION}}),bZ=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.unrefTimer=void 0,a.unrefTimer=function(a){}}),b$=bw(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),c(bO(),a),c(bM(),a),c(bP(),a),c(bQ(),a),c(bR(),a),c(bY(),a),c(bZ(),a)}),b_=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addHrTimes=a.isTimeInput=a.isTimeInputHrTime=a.hrTimeToMicroseconds=a.hrTimeToMilliseconds=a.hrTimeToNanoseconds=a.hrTimeToTimeStamp=a.hrTimeDuration=a.timeInputToHrTime=a.hrTime=a.getTimeOrigin=a.millisToHrTime=void 0;var b=b$();function c(a){return[Math.trunc(a/1e3),Math.round(a%1e3*1e6)]}function d(){let a=b.otperformance.timeOrigin;if("number"!=typeof a){let c=b.otperformance;a=c.timing&&c.timing.fetchStart}return a}function e(a){return g(c(d()),c("number"==typeof a?a:b.otperformance.now()))}function f(a){return Array.isArray(a)&&2===a.length&&"number"==typeof a[0]&&"number"==typeof a[1]}function g(a,b){let c=[a[0]+b[0],a[1]+b[1]];return c[1]>=1e9&&(c[1]-=1e9,c[0]+=1),c}a.millisToHrTime=c,a.getTimeOrigin=d,a.hrTime=e,a.timeInputToHrTime=function(a){if(f(a))return a;if("number"==typeof a)return a<d()?e(a):c(a);if(a instanceof Date)return c(a.getTime());throw TypeError("Invalid input type")},a.hrTimeDuration=function(a,b){let c=b[0]-a[0],d=b[1]-a[1];return d<0&&(c-=1,d+=1e9),[c,d]},a.hrTimeToTimeStamp=function(a){let b=`${"0".repeat(9)}${a[1]}Z`,c=b.substr(b.length-9-1);return new Date(1e3*a[0]).toISOString().replace("000Z",c)},a.hrTimeToNanoseconds=function(a){return 1e9*a[0]+a[1]},a.hrTimeToMilliseconds=function(a){return 1e3*a[0]+a[1]/1e6},a.hrTimeToMicroseconds=function(a){return 1e6*a[0]+a[1]/1e3},a.isTimeInputHrTime=f,a.isTimeInput=function(a){return f(a)||"number"==typeof a||a instanceof Date},a.addHrTimes=g}),b0=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),b1=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExportResultCode=void 0,function(a){a[a.SUCCESS=0]="SUCCESS",a[a.FAILED=1]="FAILED"}(a.ExportResultCode||(a.ExportResultCode={}))}),b2=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CompositePropagator=void 0;var b=(bC(),bA(bB));a.CompositePropagator=class{constructor(a={}){var b;this._propagators=null!=(b=a.propagators)?b:[],this._fields=Array.from(new Set(this._propagators.map(a=>"function"==typeof a.fields?a.fields():[]).reduce((a,b)=>a.concat(b),[])))}inject(a,c,d){for(let e of this._propagators)try{e.inject(a,c,d)}catch(a){b.diag.warn(`Failed to inject with ${e.constructor.name}. Err: ${a.message}`)}}extract(a,c,d){return this._propagators.reduce((a,e)=>{try{return e.extract(a,c,d)}catch(a){b.diag.warn(`Failed to inject with ${e.constructor.name}. Err: ${a.message}`)}return a},a)}fields(){return this._fields.slice()}}}),b3=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.validateValue=a.validateKey=void 0;var b="[_0-9a-z-*/]",c=`[a-z]${b}{0,255}`,d=`[a-z0-9]${b}{0,240}@[a-z]${b}{0,13}`,e=RegExp(`^(?:${c}|${d})$`),f=/^[ -~]{0,255}[!-~]$/,g=/,|=/;a.validateKey=function(a){return e.test(a)},a.validateValue=function(a){return f.test(a)&&!g.test(a)}}),b4=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceState=void 0;var b=b3();a.TraceState=class a{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){a.length>512||(this._internalState=a.split(",").reverse().reduce((a,c)=>{let d=c.trim(),e=d.indexOf("=");if(-1!==e){let f=d.slice(0,e),g=d.slice(e+1,c.length);(0,b.validateKey)(f)&&(0,b.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let b=new a;return b._internalState=new Map(this._internalState),b}}}),b5=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.W3CTraceContextPropagator=a.parseTraceParent=a.TRACE_STATE_HEADER=a.TRACE_PARENT_HEADER=void 0;var b=(bC(),bA(bB)),c=bD(),d=b4();a.TRACE_PARENT_HEADER="traceparent",a.TRACE_STATE_HEADER="tracestate";var e=RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function f(a){let b=e.exec(a);return!b||"00"===b[1]&&b[5]?null:{traceId:b[2],spanId:b[3],traceFlags:parseInt(b[4],16)}}a.parseTraceParent=f;var g=class{inject(d,e,f){let g=b.trace.getSpanContext(d);if(!g||(0,c.isTracingSuppressed)(d)||!(0,b.isSpanContextValid)(g))return;let h=`00-${g.traceId}-${g.spanId}-0${Number(g.traceFlags||b.TraceFlags.NONE).toString(16)}`;f.set(e,a.TRACE_PARENT_HEADER,h),g.traceState&&f.set(e,a.TRACE_STATE_HEADER,g.traceState.serialize())}extract(c,e,g){let h=g.get(e,a.TRACE_PARENT_HEADER);if(!h)return c;let i=Array.isArray(h)?h[0]:h;if("string"!=typeof i)return c;let j=f(i);if(!j)return c;j.isRemote=!0;let k=g.get(e,a.TRACE_STATE_HEADER);if(k){let a=Array.isArray(k)?k.join(","):k;j.traceState=new d.TraceState("string"==typeof a?a:void 0)}return b.trace.setSpanContext(c,j)}fields(){return[a.TRACE_PARENT_HEADER,a.TRACE_STATE_HEADER]}};a.W3CTraceContextPropagator=g}),b6=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0})}),b7=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRPCMetadata=a.deleteRPCMetadata=a.setRPCMetadata=a.RPCType=void 0;var b=(0,(bC(),bA(bB)).createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");(a.RPCType||(a.RPCType={})).HTTP="http",a.setRPCMetadata=function(a,c){return a.setValue(b,c)},a.deleteRPCMetadata=function(a){return a.deleteValue(b)},a.getRPCMetadata=function(a){return a.getValue(b)}}),b8=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOffSampler=void 0;var b=(bC(),bA(bB));a.AlwaysOffSampler=class{shouldSample(){return{decision:b.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}}}),b9=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AlwaysOnSampler=void 0;var b=(bC(),bA(bB));a.AlwaysOnSampler=class{shouldSample(){return{decision:b.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}}}),ca=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParentBasedSampler=void 0;var b=(bC(),bA(bB)),c=bK(),d=b8(),e=b9();a.ParentBasedSampler=class{constructor(a){var b,f,g,h;this._root=a.root,this._root||((0,c.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new e.AlwaysOnSampler),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new e.AlwaysOnSampler,this._remoteParentNotSampled=null!=(f=a.remoteParentNotSampled)?f:new d.AlwaysOffSampler,this._localParentSampled=null!=(g=a.localParentSampled)?g:new e.AlwaysOnSampler,this._localParentNotSampled=null!=(h=a.localParentNotSampled)?h:new d.AlwaysOffSampler}shouldSample(a,c,d,e,f,g){let h=b.trace.getSpanContext(a);return h&&(0,b.isSpanContextValid)(h)?h.isRemote?h.traceFlags&b.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(a,c,d,e,f,g):this._remoteParentNotSampled.shouldSample(a,c,d,e,f,g):h.traceFlags&b.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(a,c,d,e,f,g):this._localParentNotSampled.shouldSample(a,c,d,e,f,g):this._root.shouldSample(a,c,d,e,f,g)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}}}),cb=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TraceIdRatioBasedSampler=void 0;var b=(bC(),bA(bB));a.TraceIdRatioBasedSampler=class{constructor(a=0){this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}shouldSample(a,c){return{decision:(0,b.isValidTraceId)(c)&&this._accumulate(c)<this._upperBound?b.SamplingDecision.RECORD_AND_SAMPLED:b.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a}_accumulate(a){let b=0;for(let c=0;c<a.length/8;c++){let d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b}}}),cc=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isPlainObject=void 0;var b,c,d=Function.prototype.toString,e=d.call(Object),f=(b=Object.getPrototypeOf,c=Object,function(a){return b(c(a))}),g=Object.prototype,h=g.hasOwnProperty,i=Symbol?Symbol.toStringTag:void 0,j=g.toString;a.isPlainObject=function(a){var b,c,g;if(null==(b=a)||"object"!=typeof b||"[object Object]"!==(null==(c=a)?void 0===c?"[object Undefined]":"[object Null]":i&&i in Object(c)?function(a){let b=h.call(a,i),c=a[i],d=!1;try{a[i]=void 0,d=!0}catch{}let e=j.call(a);return d&&(b?a[i]=c:delete a[i]),e}(c):(g=c,j.call(g))))return!1;let k=f(a);if(null===k)return!0;let l=h.call(k,"constructor")&&k.constructor;return"function"==typeof l&&l instanceof l&&d.call(l)===e}}),cd=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.merge=void 0;var b=cc();function c(a){return e(a)?a.slice():a}function d(a,b,c){let d=c.get(a[b])||[];for(let c=0,e=d.length;c<e;c++){let e=d[c];if(e.key===b&&e.obj===a)return!0}return!1}function e(a){return Array.isArray(a)}function f(a){return"function"==typeof a}function g(a){return!h(a)&&!e(a)&&!f(a)&&"object"==typeof a}function h(a){return"string"==typeof a||"number"==typeof a||"boolean"==typeof a||typeof a>"u"||a instanceof Date||a instanceof RegExp||null===a}a.merge=function(...a){let i=a.shift(),j=new WeakMap;for(;a.length>0;)i=function a(i,j,k=0,l){let m;if(!(k>20)){if(k++,h(i)||h(j)||f(j))m=c(j);else if(e(i)){if(m=i.slice(),e(j))for(let a=0,b=j.length;a<b;a++)m.push(c(j[a]));else if(g(j)){let a=Object.keys(j);for(let b=0,d=a.length;b<d;b++){let d=a[b];m[d]=c(j[d])}}}else if(g(i))if(g(j)){var n,o;if(n=i,o=j,!(0,b.isPlainObject)(n)||!(0,b.isPlainObject)(o))return j;m=Object.assign({},i);let c=Object.keys(j);for(let b=0,e=c.length;b<e;b++){let e=c[b],f=j[e];if(h(f))typeof f>"u"?delete m[e]:m[e]=f;else{let b=m[e];if(d(i,e,l)||d(j,e,l))delete m[e];else{if(g(b)&&g(f)){let a=l.get(b)||[],c=l.get(f)||[];a.push({obj:i,key:e}),c.push({obj:j,key:e}),l.set(b,a),l.set(f,c)}m[e]=a(m[e],f,k,l)}}}}else m=j;return m}}(i,a.shift(),0,j);return i}}),ce=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.callWithTimeout=a.TimeoutError=void 0;var b=class a extends Error{constructor(b){super(b),Object.setPrototypeOf(this,a.prototype)}};a.TimeoutError=b,a.callWithTimeout=function(a,c){let d;return Promise.race([a,new Promise(function(a,e){d=setTimeout(function(){e(new b("Operation timed out."))},c)})]).then(a=>(clearTimeout(d),a),a=>{throw clearTimeout(d),a})}}),cf=bw(a=>{function b(a,b){return"string"==typeof b?a===b:!!a.match(b)}Object.defineProperty(a,"__esModule",{value:!0}),a.isUrlIgnored=a.urlMatches=void 0,a.urlMatches=b,a.isUrlIgnored=function(a,c){if(!c)return!1;for(let d of c)if(b(a,d))return!0;return!1}}),cg=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isWrapped=void 0,a.isWrapped=function(a){return"function"==typeof a&&"function"==typeof a.__original&&"function"==typeof a.__unwrap&&!0===a.__wrapped}}),ch=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Deferred=void 0,a.Deferred=class{constructor(){this._promise=new Promise((a,b)=>{this._resolve=a,this._reject=b})}get promise(){return this._promise}resolve(a){this._resolve(a)}reject(a){this._reject(a)}}}),ci=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BindOnceFuture=void 0;var b=ch();a.BindOnceFuture=class{constructor(a,c){this._callback=a,this._that=c,this._isCalled=!1,this._deferred=new b.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...a){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...a)).then(a=>this._deferred.resolve(a),a=>this._deferred.reject(a))}catch(a){this._deferred.reject(a)}}return this._deferred.promise}}}),cj=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a._export=void 0;var b=(bC(),bA(bB)),c=bD();a._export=function(a,d){return new Promise(e=>{b.context.with((0,c.suppressTracing)(b.context.active()),()=>{a.export(d,a=>{e(a)})})})}}),ck=bw(a=>{var b=a&&a.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),c=a&&a.__exportStar||function(a,c){for(var d in a)"default"===d||Object.prototype.hasOwnProperty.call(c,d)||b(c,a,d)};Object.defineProperty(a,"__esModule",{value:!0}),a.internal=a.baggageUtils=void 0,c(bG(),a),c(bH(),a),c(bI(),a),c(bK(),a),c(bJ(),a),c(b_(),a),c(b0(),a),c(b1(),a),a.baggageUtils=bF(),c(b$(),a),c(b2(),a),c(b5(),a),c(b6(),a),c(b7(),a),c(b8(),a),c(b9(),a),c(ca(),a),c(cb(),a),c(bD(),a),c(b4(),a),c(bN(),a),c(cd(),a),c(bL(),a),c(ce(),a),c(cf(),a),c(cg(),a),c(ci(),a),c(bS(),a),a.internal={_export:cj()._export}}),cl=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.disableInstrumentations=a.enableInstrumentations=a.parseInstrumentationOptions=void 0,a.parseInstrumentationOptions=function a(b=[]){let c=[];for(let d=0,e=b.length;d<e;d++){let e=b[d];if(Array.isArray(e)){let b=a(e);c=c.concat(b.instrumentations)}else"function"==typeof e?c.push(new e):e.instrumentationName&&c.push(e)}return{instrumentations:c}},a.enableInstrumentations=function(a,b,c){for(let d=0,e=a.length;d<e;d++){let e=a[d];b&&e.setTracerProvider(b),c&&e.setMeterProvider(c),e.getConfig().enabled||e.enable()}},a.disableInstrumentations=function(a){a.forEach(a=>a.disable())}}),cm=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.registerInstrumentations=void 0;var b=(bC(),bA(bB)),c=cl();a.registerInstrumentations=function(a){let{instrumentations:d}=(0,c.parseInstrumentationOptions)(a.instrumentations),e=a.tracerProvider||b.trace.getTracerProvider(),f=a.meterProvider||b.metrics.getMeterProvider();return(0,c.enableInstrumentations)(d,e,f),()=>{(0,c.disableInstrumentations)(d)}}}),cn={},co=bv(()=>{by(cn,bb)}),cp={},cq=bv(()=>{by(cp,bd)}),cr=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AbstractAsyncHooksContextManager=void 0;var b=(cq(),bA(cp)),c=["addListener","on","once","prependListener","prependOnceListener"];a.AbstractAsyncHooksContextManager=class{constructor(){this._kOtListeners=Symbol("OtListeners"),this._wrapped=!1}bind(a,c){return c instanceof b.EventEmitter?this._bindEventEmitter(a,c):"function"==typeof c?this._bindFunction(a,c):c}_bindFunction(a,b){let c=this,d=function(...d){return c.with(a,()=>b.apply(this,d))};return Object.defineProperty(d,"length",{enumerable:!1,configurable:!0,writable:!1,value:b.length}),d}_bindEventEmitter(a,b){return void 0!==this._getPatchMap(b)||(this._createPatchMap(b),c.forEach(c=>{void 0!==b[c]&&(b[c]=this._patchAddListener(b,b[c],a))}),"function"==typeof b.removeListener&&(b.removeListener=this._patchRemoveListener(b,b.removeListener)),"function"==typeof b.off&&(b.off=this._patchRemoveListener(b,b.off)),"function"==typeof b.removeAllListeners&&(b.removeAllListeners=this._patchRemoveAllListeners(b,b.removeAllListeners))),b}_patchRemoveListener(a,b){let c=this;return function(d,e){var f;let g=null==(f=c._getPatchMap(a))?void 0:f[d];if(void 0===g)return b.call(this,d,e);let h=g.get(e);return b.call(this,d,h||e)}}_patchRemoveAllListeners(a,b){let c=this;return function(d){let e=c._getPatchMap(a);return void 0!==e&&(0==arguments.length?c._createPatchMap(a):void 0!==e[d]&&delete e[d]),b.apply(this,arguments)}}_patchAddListener(a,b,c){let d=this;return function(e,f){if(d._wrapped)return b.call(this,e,f);let g=d._getPatchMap(a);void 0===g&&(g=d._createPatchMap(a));let h=g[e];void 0===h&&(h=new WeakMap,g[e]=h);let i=d.bind(c,f);h.set(f,i),d._wrapped=!0;try{return b.call(this,e,i)}finally{d._wrapped=!1}}}_createPatchMap(a){let b=Object.create(null);return a[this._kOtListeners]=b,b}_getPatchMap(a){return a[this._kOtListeners]}}}),cs=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AsyncLocalStorageContextManager=void 0;var b=(bC(),bA(bB)),c=(co(),bA(cn)),d=cr();a.AsyncLocalStorageContextManager=class extends d.AbstractAsyncHooksContextManager{constructor(){super(),this._asyncLocalStorage=new c.AsyncLocalStorage}active(){var a;return null!=(a=this._asyncLocalStorage.getStore())?a:b.ROOT_CONTEXT}with(a,b,c,...d){let e=null==c?b:b.bind(c);return this._asyncLocalStorage.run(a,e,...d)}enable(){return this}disable(){return this._asyncLocalStorage.disable(),this}}}),ct=bw(a=>{function b(a,b){return{key:a,value:c(b)}}function c(a){let d=typeof a;return"string"===d?{stringValue:a}:"number"===d?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:"boolean"===d?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(c)}}:"object"===d&&null!=a?{kvlistValue:{values:Object.entries(a).map(([a,c])=>b(a,c))}}:{}}Object.defineProperty(a,"__esModule",{value:!0}),a.toAnyValue=a.toKeyValue=a.toAttributes=void 0,a.toAttributes=function(a){return Object.keys(a).map(c=>b(c,a[c]))},a.toKeyValue=b,a.toAnyValue=c}),cu=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toOtlpSpanEvent=a.toOtlpLink=a.sdkSpanToOtlpSpan=void 0;var b=ct();function c(a,c){var d;return{attributes:a.attributes?(0,b.toAttributes)(a.attributes):[],spanId:c.encodeSpanContext(a.context.spanId),traceId:c.encodeSpanContext(a.context.traceId),traceState:null==(d=a.context.traceState)?void 0:d.serialize(),droppedAttributesCount:a.droppedAttributesCount||0}}function d(a,c){return{attributes:a.attributes?(0,b.toAttributes)(a.attributes):[],name:a.name,timeUnixNano:c.encodeHrTime(a.time),droppedAttributesCount:a.droppedAttributesCount||0}}a.sdkSpanToOtlpSpan=function(a,e){var f;let g=a.spanContext(),h=a.status;return{traceId:e.encodeSpanContext(g.traceId),spanId:e.encodeSpanContext(g.spanId),parentSpanId:e.encodeOptionalSpanContext(a.parentSpanId),traceState:null==(f=g.traceState)?void 0:f.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:e.encodeHrTime(a.startTime),endTimeUnixNano:e.encodeHrTime(a.endTime),attributes:(0,b.toAttributes)(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(a=>d(a,e)),droppedEventsCount:a.droppedEventsCount,status:{code:h.code,message:h.message},links:a.links.map(a=>c(a,e)),droppedLinksCount:a.droppedLinksCount}},a.toOtlpLink=c,a.toOtlpSpanEvent=d}),cv=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getOtlpEncoder=a.encodeAsString=a.encodeAsLongBits=a.toLongBits=a.hrTimeToNanos=void 0;var b=ck(),c=BigInt(1e9);function d(a){return BigInt(a[0])*c+BigInt(a[1])}function e(a){return{low:Number(BigInt.asUintN(32,a)),high:Number(BigInt.asUintN(32,a>>BigInt(32)))}}function f(a){return e(d(a))}function g(a){return d(a).toString()}a.hrTimeToNanos=d,a.toLongBits=e,a.encodeAsLongBits=f,a.encodeAsString=g;var h="u">typeof BigInt?g:b.hrTimeToNanoseconds;function i(a){return a}function j(a){if(void 0!==a)return(0,b.hexToBase64)(a)}var k={encodeHrTime:f,encodeSpanContext:b.hexToBase64,encodeOptionalSpanContext:j};a.getOtlpEncoder=function(a){var c,d;if(void 0===a)return k;let e=null==(c=a.useLongBits)||c,g=null!=(d=a.useHex)&&d;return{encodeHrTime:e?f:h,encodeSpanContext:g?i:b.hexToBase64,encodeOptionalSpanContext:g?i:j}}}),cw=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createExportTraceServiceRequest=void 0;var b=ct(),c=cu(),d=cv();a.createExportTraceServiceRequest=function(a,e){return{resourceSpans:function(a,d){let e=function(a){let b=new Map;for(let c of a){let a=b.get(c.resource);a||(a=new Map,b.set(c.resource,a));let d=`${c.instrumentationLibrary.name}@${c.instrumentationLibrary.version||""}:${c.instrumentationLibrary.schemaUrl||""}`,e=a.get(d);e||(e=[],a.set(d,e)),e.push(c)}return b}(a),f=[],g=e.entries(),h=g.next();for(;!h.done;){let[a,e]=h.value,i=[],j=e.values(),k=j.next();for(;!k.done;){let a=k.value;if(a.length>0){let{name:b,version:e,schemaUrl:f}=a[0].instrumentationLibrary,g=a.map(a=>(0,c.sdkSpanToOtlpSpan)(a,d));i.push({scope:{name:b,version:e},spans:g,schemaUrl:f})}k=j.next()}let l={resource:{attributes:(0,b.toAttributes)(a.attributes),droppedAttributesCount:0},scopeSpans:i,schemaUrl:void 0};f.push(l),h=g.next()}return f}(a,(0,d.getOtlpEncoder)(e))}}}),cx=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseRetryAfterToMills=a.isExportRetryable=a.invalidTimeout=a.configureExporterTimeout=a.appendRootPathToUrlIfNeeded=a.appendResourcePathToUrl=a.parseHeaders=a.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=a.DEFAULT_EXPORT_MAX_BACKOFF=a.DEFAULT_EXPORT_INITIAL_BACKOFF=a.DEFAULT_EXPORT_MAX_ATTEMPTS=void 0;var b=(bC(),bA(bB)),c=ck();function d(a,c){return b.diag.warn("Timeout must be greater than 0",a),c}a.DEFAULT_EXPORT_MAX_ATTEMPTS=5,a.DEFAULT_EXPORT_INITIAL_BACKOFF=1e3,a.DEFAULT_EXPORT_MAX_BACKOFF=5e3,a.DEFAULT_EXPORT_BACKOFF_MULTIPLIER=1.5,a.parseHeaders=function(a={}){let c={};return Object.entries(a).forEach(([a,d])=>{"u">typeof d?c[a]=String(d):b.diag.warn(`Header "${a}" has wrong value and will be ignored`)}),c},a.appendResourcePathToUrl=function(a,b){return a.endsWith("/")||(a+="/"),a+b},a.appendRootPathToUrlIfNeeded=function(a){try{let b=new URL(a);return""===b.pathname&&(b.pathname=b.pathname+"/"),b.toString()}catch{return b.diag.warn(`Could not parse export URL: '${a}'`),a}},a.configureExporterTimeout=function(a){var b;let e;return"number"==typeof a?a<=0?d(a,1e4):a:(e=Number(null!=(b=(0,c.getEnv)().OTEL_EXPORTER_OTLP_TRACES_TIMEOUT)?b:(0,c.getEnv)().OTEL_EXPORTER_OTLP_TIMEOUT))<=0?d(e,1e4):e},a.invalidTimeout=d,a.isExportRetryable=function(a){return[429,502,503,504].includes(a)},a.parseRetryAfterToMills=function(a){if(null==a)return -1;let b=Number.parseInt(a,10);if(Number.isInteger(b))return b>0?1e3*b:-1;let c=new Date(a).getTime()-Date.now();return c>=0?c:0}}),cy=bw(a=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OTLPExporterBase=void 0;var b=(bC(),bA(bB)),c=ck(),d=cx();a.OTLPExporterBase=class{constructor(a={}){this._sendingPromises=[],this.url=this.getDefaultUrl(a),"string"==typeof a.hostname&&(this.hostname=a.hostname),this.shutdown=this.shutdown.bind(this),this._shutdownOnce=new c.BindOnceFuture(this._shutdown,this),this._concurrencyLimit="number"==typeof a.concurrencyLimit?a.concurrencyLimit:30,this.timeoutMillis=(0,d.configureExporterTimeout)(a.timeoutMillis),this.onInit(a)}export(a,b){return this._shutdownOnce.isCalled?void b({code:c.ExportResultCode.FAILED,error:Error("Exporter has been shutdown")}):this._sendingPromises.length>=this._concurrencyLimit?void b({code:c.ExportResultCode.FAILED,error:Error("Concurrent export limit reached")}):void this._export(a).then(()=>{b({code:c.ExportResultCode.SUCCESS})}).catch(a=>{b({code:c.ExportResultCode.FAILED,error:a})})}_export(a){return new Promise((c,d)=>{try{b.diag.debug("items to be sent",a),this.send(a,c,d)}catch(a){d(a)}})}shutdown(){return this._shutdownOnce.call()}forceFlush(){return Promise.all(this._sendingPromises).then(()=>{})}_shutdown(){return b.diag.debug("shutdown started"),this.onShutdown(),this.forceFlush()}}}),cz=bw((a,b)=>{b.exports=function(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}}),cA=bw(a=>{a.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};var b,c=Array(64),d=Array(123);for(b=0;b<64;)d[c[b]=b<26?b+65:b<52?b+71:b<62?b-4:b-59|43]=b++;a.encode=function(a,b,d){for(var e,f=null,g=[],h=0,i=0;b<d;){var j=a[b++];switch(i){case 0:g[h++]=c[j>>2],e=(3&j)<<4,i=1;break;case 1:g[h++]=c[e|j>>4],e=(15&j)<<2,i=2;break;case 2:g[h++]=c[e|j>>6],g[h++]=c[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return i&&(g[h++]=c[e],g[h++]=61,1===i&&(g[h++]=61)),f?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var e="invalid encoding";a.decode=function(a,b,c){for(var f,g=c,h=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&h>1)break;if(void 0===(j=d[j]))throw Error(e);switch(h){case 0:f=j,h=1;break;case 1:b[c++]=f<<2|(48&j)>>4,f=j,h=2;break;case 2:b[c++]=(15&f)<<4|(60&j)>>2,f=j,h=3;break;case 3:b[c++]=(3&f)<<6|j,h=0}}if(1===h)throw Error(e);return c-g},a.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}}),cB=bw((a,b)=>{function c(){this._listeners={}}b.exports=c,c.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},c.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},c.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}}),cC=bw((a,b)=>{function c(a){return"u">typeof Float32Array?function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,d),a.writeFloatBE=b.bind(null,e),a.readFloatLE=c.bind(null,f),a.readFloatBE=c.bind(null,g)}(),"u">typeof Float64Array?function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,d,0,4),a.writeDoubleBE=b.bind(null,e,4,0),a.readDoubleLE=c.bind(null,f,0,4),a.readDoubleBE=c.bind(null,g,4,0)}(),a}function d(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function e(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function f(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function g(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=c(c)}),cD=bw((a,b)=>{b.exports=function(a){return null}}),cE=bw(a=>{a.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},a.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},a.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}}),cF=bw((a,b)=>{b.exports=function(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}}),cG=bw((a,b)=>{b.exports=d;var c=cH();function d(a,b){this.lo=a>>>0,this.hi=b>>>0}var e=d.zero=new d(0,0);e.toNumber=function(){return 0},e.zzEncode=e.zzDecode=function(){return this},e.length=function(){return 1};var f=d.zeroHash="\0\0\0\0\0\0\0\0";d.fromNumber=function(a){if(0===a)return e;var b=a<0;b&&(a=-a);var c=a>>>0,f=(a-c)/0x100000000>>>0;return b&&(f=~f>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++f>0xffffffff&&(f=0))),new d(c,f)},d.from=function(a){if("number"==typeof a)return d.fromNumber(a);if(c.isString(a))if(!c.Long)return d.fromNumber(parseInt(a,10));else a=c.Long.fromString(a);return a.low||a.high?new d(a.low>>>0,a.high>>>0):e},d.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},d.prototype.toLong=function(a){return c.Long?new c.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var g=String.prototype.charCodeAt;d.fromHash=function(a){return a===f?e:new d((g.call(a,0)|g.call(a,1)<<8|g.call(a,2)<<16|g.call(a,3)<<24)>>>0,(g.call(a,4)|g.call(a,5)<<8|g.call(a,6)<<16|g.call(a,7)<<24)>>>0)},d.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},d.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},d.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},d.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}}),cH=bw(a=>{function b(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function c(a){function c(a,d){if(!(this instanceof c))return new c(a,d);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,c):Object.defineProperty(this,"stack",{value:Error().stack||""}),d&&b(this,d)}return c.prototype=Object.create(Error.prototype,{constructor:{value:c,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),c}a.asPromise=cz(),a.base64=cA(),a.EventEmitter=cB(),a.float=cC(),a.inquire=cD(),a.utf8=cE(),a.pool=cF(),a.LongBits=cG(),a.isNode=!!("u">typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),a.global=a.isNode&&global||"u">typeof window&&window||"u">typeof self&&self||a,a.emptyArray=Object.freeze?Object.freeze([]):[],a.emptyObject=Object.freeze?Object.freeze({}):{},a.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},a.isString=function(a){return"string"==typeof a||a instanceof String},a.isObject=function(a){return a&&"object"==typeof a},a.isset=a.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},a.Buffer=function(){try{var b=a.inquire("buffer").Buffer;return b.prototype.utf8Write?b:null}catch{return null}}(),a._Buffer_from=null,a._Buffer_allocUnsafe=null,a.newBuffer=function(b){return"number"==typeof b?a.Buffer?a._Buffer_allocUnsafe(b):new a.Array(b):a.Buffer?a._Buffer_from(b):typeof Uint8Array>"u"?b:new Uint8Array(b)},a.Array="u">typeof Uint8Array?Uint8Array:Array,a.Long=a.global.dcodeIO&&a.global.dcodeIO.Long||a.global.Long||a.inquire("long"),a.key2Re=/^true|false|0|1$/,a.key32Re=/^-?(?:0|[1-9][0-9]*)$/,a.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,a.longToHash=function(b){return b?a.LongBits.from(b).toHash():a.LongBits.zeroHash},a.longFromHash=function(b,c){var d=a.LongBits.fromHash(b);return a.Long?a.Long.fromBits(d.lo,d.hi,c):d.toNumber(!!c)},a.merge=b,a.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},a.newError=c,a.ProtocolError=c("ProtocolError"),a.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},a.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},a.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},a._configure=function(){var b=a.Buffer;if(!b){a._Buffer_from=a._Buffer_allocUnsafe=null;return}a._Buffer_from=b.from!==Uint8Array.from&&b.from||function(a,c){return new b(a,c)},a._Buffer_allocUnsafe=b.allocUnsafe||function(a){return new b(a)}}}),cI=bw((a,b)=>{b.exports=k;var c,d=cH(),e=d.LongBits,f=d.base64,g=d.utf8;function h(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function i(){}function j(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function k(){this.len=0,this.head=new h(i,0,0),this.tail=this.head,this.states=null}var l=function(){return d.Buffer?function(){return(k.create=function(){return new c})()}:function(){return new k}};function m(a,b,c){b[c]=255&a}function n(a,b){this.len=a,this.next=void 0,this.val=b}function o(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function p(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}k.create=l(),k.alloc=function(a){return new d.Array(a)},d.Array!==Array&&(k.alloc=d.pool(k.alloc,d.Array.prototype.subarray)),k.prototype._push=function(a,b,c){return this.tail=this.tail.next=new h(a,b,c),this.len+=b,this},n.prototype=Object.create(h.prototype),n.prototype.fn=function(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a},k.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new n((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},k.prototype.int32=function(a){return a<0?this._push(o,10,e.fromNumber(a)):this.uint32(a)},k.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},k.prototype.uint64=function(a){var b=e.from(a);return this._push(o,b.length(),b)},k.prototype.int64=k.prototype.uint64,k.prototype.sint64=function(a){var b=e.from(a).zzEncode();return this._push(o,b.length(),b)},k.prototype.bool=function(a){return this._push(m,1,+!!a)},k.prototype.fixed32=function(a){return this._push(p,4,a>>>0)},k.prototype.sfixed32=k.prototype.fixed32,k.prototype.fixed64=function(a){var b=e.from(a);return this._push(p,4,b.lo)._push(p,4,b.hi)},k.prototype.sfixed64=k.prototype.fixed64,k.prototype.float=function(a){return this._push(d.float.writeFloatLE,4,a)},k.prototype.double=function(a){return this._push(d.float.writeDoubleLE,8,a)};var q=d.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};k.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(m,1,0);if(d.isString(a)){var c=k.alloc(b=f.length(a));f.decode(a,c,0),a=c}return this.uint32(b)._push(q,b,a)},k.prototype.string=function(a){var b=g.length(a);return b?this.uint32(b)._push(g.write,b,a):this._push(m,1,0)},k.prototype.fork=function(){return this.states=new j(this),this.head=this.tail=new h(i,0,0),this.len=0,this},k.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new h(i,0,0),this.len=0),this},k.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},k.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},k._configure=function(a){c=a,k.create=l(),c._configure()}}),cJ=bw((a,b)=>{b.exports=e;var c=cI();(e.prototype=Object.create(c.prototype)).constructor=e;var d=cH();function e(){c.call(this)}function f(a,b,c){a.length<40?d.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}e._configure=function(){e.alloc=d._Buffer_allocUnsafe,e.writeBytesBuffer=d.Buffer&&d.Buffer.prototype instanceof Uint8Array&&"set"===d.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},e.prototype.bytes=function(a){d.isString(a)&&(a=d._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(e.writeBytesBuffer,b,a),this},e.prototype.string=function(a){var b=d.Buffer.byteLength(a);return this.uint32(b),b&&this._push(f,b,a),this},e._configure()}),cK=bw((a,b)=>{b.exports=h;var c,d=cH(),e=d.LongBits,f=d.utf8;function g(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function h(a){this.buf=a,this.pos=0,this.len=a.length}var i="u">typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new h(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new h(a);throw Error("illegal buffer")},j=function(){return d.Buffer?function(a){return(h.create=function(a){return d.Buffer.isBuffer(a)?new c(a):i(a)})(a)}:i};function k(){var a=new e(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw g(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw g(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function l(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw g(this,8);return new e(l(this.buf,this.pos+=4),l(this.buf,this.pos+=4))}h.create=j(),h.prototype._slice=d.Array.prototype.subarray||d.Array.prototype.slice,h.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,g(this,10);return a}}(),h.prototype.int32=function(){return 0|this.uint32()},h.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},h.prototype.bool=function(){return 0!==this.uint32()},h.prototype.fixed32=function(){if(this.pos+4>this.len)throw g(this,4);return l(this.buf,this.pos+=4)},h.prototype.sfixed32=function(){if(this.pos+4>this.len)throw g(this,4);return 0|l(this.buf,this.pos+=4)},h.prototype.float=function(){if(this.pos+4>this.len)throw g(this,4);var a=d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},h.prototype.double=function(){if(this.pos+8>this.len)throw g(this,4);var a=d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},h.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw g(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var e=d.Buffer;return e?e.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},h.prototype.string=function(){var a=this.bytes();return f.read(a,0,a.length)},h.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw g(this,a);this.pos+=a}else do if(this.pos>=this.len)throw g(this);while(128&this.buf[this.pos++]);return this},h.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},h._configure=function(a){c=a,h.create=j(),c._configure();var b=d.Long?"toLong":"toNumber";d.merge(h.prototype,{int64:function(){return k.call(this)[b](!1)},uint64:function(){return k.call(this)[b](!0)},sint64:function(){return k.call(this).zzDecode()[b](!1)},fixed64:function(){return m.call(this)[b](!0)},sfixed64:function(){return m.call(this)[b](!1)}})}}),cL=bw((a,b)=>{b.exports=e;var c=cK();(e.prototype=Object.create(c.prototype)).constructor=e;var d=cH();function e(a){c.call(this,a)}e._configure=function(){d.Buffer&&(e.prototype._slice=d.Buffer.prototype.slice)},e.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},e._configure()}),cM=bw((a,b)=>{b.exports=d;var c=cH();function d(a,b,d){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!d}(d.prototype=Object.create(c.EventEmitter.prototype)).constructor=d,d.prototype.rpcCall=function a(b,d,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return c.asPromise(a,h,b,d,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,d[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},d.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),cN=bw(a=>{a.Service=cM()}),cO=bw((a,b)=>{b.exports={}}),cP=bw(a=>{function b(){a.util._configure(),a.Writer._configure(a.BufferWriter),a.Reader._configure(a.BufferReader)}a.build="minimal",a.Writer=cI(),a.BufferWriter=cJ(),a.Reader=cK(),a.BufferReader=cL(),a.util=cH(),a.rpc=cN(),a.roots=cO(),a.configure=b,b()}),cQ=bw((a,b)=>{b.exports=cP()});bC();var cR=bz(ck());bC();var cS=bz(ck()),cT=bz(bX()),cU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},cV=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},cW=function(){function a(a,b,c,d,e,f,g,h,i,j){void 0===g&&(g=[]),this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:bB.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=d,this.parentSpanId=f,this.kind=e,this.links=g;var k=Date.now();this._performanceStartTime=cS.otperformance.now(),this._performanceOffset=k-(this._performanceStartTime+(0,cS.getTimeOrigin)()),this._startTimeProvided=null!=h,this.startTime=this._getTime(h??k),this.resource=a.resource,this.instrumentationLibrary=a.instrumentationLibrary,this._spanLimits=a.getSpanLimits(),null!=j&&this.setAttributes(j),this._spanProcessor=a.getActiveSpanProcessor(),this._spanProcessor.onStart(this,b),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(a,b){return null==b||this._isSpanEnded()||(0===a.length?bB.diag.warn("Invalid attribute key: "+a):(0,cS.isAttributeValue)(b)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)?this._droppedAttributesCount++:this.attributes[a]=this._truncateToSize(b):bB.diag.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=cU(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=cV(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.addEvent=function(a,b,c){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return bB.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(bB.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,cS.isTimeInput)(b)&&((0,cS.isTimeInput)(c)||(c=b),b=void 0);var d=(0,cS.sanitizeAttributes)(b);return this.events.push({name:a,attributes:d,time:this._getTime(c),droppedAttributesCount:0}),this},a.prototype.setStatus=function(a){return this._isSpanEnded()||(this.status=a),this},a.prototype.updateName=function(a){return this._isSpanEnded()||(this.name=a),this},a.prototype.end=function(a){if(this._isSpanEnded())return void bB.diag.error(this.name+" "+this._spanContext.traceId+"-"+this._spanContext.spanId+" - You can only call end() on a span once.");this._ended=!0,this.endTime=this._getTime(a),this._duration=(0,cS.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(bB.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)},a.prototype._getTime=function(a){if("number"==typeof a&&a<cS.otperformance.now())return(0,cS.hrTime)(a+this._performanceOffset);if("number"==typeof a)return(0,cS.millisToHrTime)(a);if(a instanceof Date)return(0,cS.millisToHrTime)(a.getTime());if((0,cS.isTimeInputHrTime)(a))return a;if(this._startTimeProvided)return(0,cS.millisToHrTime)(Date.now());var b=cS.otperformance.now()-this._performanceStartTime;return(0,cS.addHrTimes)(this.startTime,(0,cS.millisToHrTime)(b))},a.prototype.isRecording=function(){return!1===this._ended},a.prototype.recordException=function(a,b){var c={};"string"==typeof a?c[cT.SemanticAttributes.EXCEPTION_MESSAGE]=a:a&&(a.code?c[cT.SemanticAttributes.EXCEPTION_TYPE]=a.code.toString():a.name&&(c[cT.SemanticAttributes.EXCEPTION_TYPE]=a.name),a.message&&(c[cT.SemanticAttributes.EXCEPTION_MESSAGE]=a.message),a.stack&&(c[cT.SemanticAttributes.EXCEPTION_STACKTRACE]=a.stack)),c[cT.SemanticAttributes.EXCEPTION_TYPE]||c[cT.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent("exception",c,b):bB.diag.warn("Failed to record an exception "+a)},Object.defineProperty(a.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this._droppedAttributesCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedEventsCount",{get:function(){return this._droppedEventsCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedLinksCount",{get:function(){return this._droppedLinksCount},enumerable:!1,configurable:!0}),a.prototype._isSpanEnded=function(){return this._ended&&bB.diag.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substr(0,b)},a.prototype._truncateToSize=function(a){var b=this,c=this._attributeValueLengthLimit;return c<=0?(bB.diag.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a}();bC();var cX=bz(ck());!function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(k||(k={}));var cY=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:k.NOT_RECORD}},a.prototype.toString=function(){return"AlwaysOffSampler"},a}(),cZ=function(){function a(){}return a.prototype.shouldSample=function(){return{decision:k.RECORD_AND_SAMPLED}},a.prototype.toString=function(){return"AlwaysOnSampler"},a}();bC();var c$=bz(ck()),c_=function(){function a(a){var b,c,d,e;this._root=a.root,this._root||((0,c$.globalErrorHandler)(Error("ParentBasedSampler must have a root sampler configured")),this._root=new cZ),this._remoteParentSampled=null!=(b=a.remoteParentSampled)?b:new cZ,this._remoteParentNotSampled=null!=(c=a.remoteParentNotSampled)?c:new cY,this._localParentSampled=null!=(d=a.localParentSampled)?d:new cZ,this._localParentNotSampled=null!=(e=a.localParentNotSampled)?e:new cY}return a.prototype.shouldSample=function(a,b,c,d,e,f){var g=bB.trace.getSpanContext(a);return g&&(0,bB.isSpanContextValid)(g)?g.isRemote?g.traceFlags&bB.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(a,b,c,d,e,f):this._remoteParentNotSampled.shouldSample(a,b,c,d,e,f):g.traceFlags&bB.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(a,b,c,d,e,f):this._localParentNotSampled.shouldSample(a,b,c,d,e,f):this._root.shouldSample(a,b,c,d,e,f)},a.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},a}();bC();var c0=function(){function a(a){void 0===a&&(a=0),this._ratio=a,this._ratio=this._normalize(a),this._upperBound=Math.floor(0xffffffff*this._ratio)}return a.prototype.shouldSample=function(a,b){return{decision:(0,bB.isValidTraceId)(b)&&this._accumulate(b)<this._upperBound?k.RECORD_AND_SAMPLED:k.NOT_RECORD}},a.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},a.prototype._normalize=function(a){return"number"!=typeof a||isNaN(a)?0:a>=1?1:a<=0?0:a},a.prototype._accumulate=function(a){for(var b=0,c=0;c<a.length/8;c++){var d=8*c;b=(b^parseInt(a.slice(d,d+8),16))>>>0}return b},a}(),c1=(0,cX.getEnv)(),c2=cX.TracesSamplerValues.AlwaysOn;function c3(){return{sampler:c4(c1),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,cX.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,cX.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,cX.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,cX.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,cX.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,cX.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,cX.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,cX.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}function c4(a){switch(void 0===a&&(a=(0,cX.getEnv)()),a.OTEL_TRACES_SAMPLER){case cX.TracesSamplerValues.AlwaysOn:return new cZ;case cX.TracesSamplerValues.AlwaysOff:return new cY;case cX.TracesSamplerValues.ParentBasedAlwaysOn:return new c_({root:new cZ});case cX.TracesSamplerValues.ParentBasedAlwaysOff:return new c_({root:new cY});case cX.TracesSamplerValues.TraceIdRatio:return new c0(c5(a));case cX.TracesSamplerValues.ParentBasedTraceIdRatio:return new c_({root:new c0(c5(a))});default:return bB.diag.error('OTEL_TRACES_SAMPLER value "'+a.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+c2+'".'),new cZ}}function c5(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return bB.diag.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;var b=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(b)?(bB.diag.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to 1."),1):b<0||b>1?(bB.diag.error("OTEL_TRACES_SAMPLER_ARG="+a.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to 1."),1):b}var c6=bz(ck());bC();var c7=bz(ck()),c8=function(){function a(a,b){this._exporter=a,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;var c=(0,c7.getEnv)();this._maxExportBatchSize="number"==typeof b?.maxExportBatchSize?b.maxExportBatchSize:c.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof b?.maxQueueSize?b.maxQueueSize:c.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof b?.scheduledDelayMillis?b.scheduledDelayMillis:c.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof b?.exportTimeoutMillis?b.exportTimeoutMillis:c.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new c7.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(bB.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){this._shutdownOnce.isCalled||a.spanContext().traceFlags&bB.TraceFlags.SAMPLED&&this._addToBuffer(a)},a.prototype.shutdown=function(){return this._shutdownOnce.call()},a.prototype._shutdown=function(){var a=this;return Promise.resolve().then(function(){return a.onShutdown()}).then(function(){return a._flushAll()}).then(function(){return a._exporter.shutdown()})},a.prototype._addToBuffer=function(a){if(this._finishedSpans.length>=this._maxQueueSize){0===this._droppedSpansCount&&bB.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(bB.diag.warn("Dropped "+this._droppedSpansCount+" spans because maxQueueSize reached"),this._droppedSpansCount=0),this._finishedSpans.push(a),this._maybeStartTimer()},a.prototype._flushAll=function(){var a=this;return new Promise(function(b,c){for(var d=[],e=Math.ceil(a._finishedSpans.length/a._maxExportBatchSize),f=0;f<e;f++)d.push(a._flushOneBatch());Promise.all(d).then(function(){b()}).catch(c)})},a.prototype._flushOneBatch=function(){var a=this;return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(function(b,c){var d=setTimeout(function(){c(Error("Timeout"))},a._exportTimeoutMillis);bB.context.with((0,c7.suppressTracing)(bB.context.active()),function(){var e=a._finishedSpans.splice(0,a._maxExportBatchSize),f=function(){return a._exporter.export(e,function(a){var e;clearTimeout(d),a.code===c7.ExportResultCode.SUCCESS?b():c(null!=(e=a.error)?e:Error("BatchSpanProcessor: span export failed"))})},g=e.map(function(a){return a.resource}).filter(function(a){return a.asyncAttributesPending});0===g.length?f():Promise.all(g.map(function(a){var b;return null==(b=a.waitForAsyncAttributes)?void 0:b.call(a)})).then(f,function(a){(0,c7.globalErrorHandler)(a),c(a)})})})},a.prototype._maybeStartTimer=function(){var a=this;if(!this._isExporting){var b=function(){a._isExporting=!0,a._flushOneBatch().then(function(){a._isExporting=!1,a._finishedSpans.length>0&&(a._clearTimer(),a._maybeStartTimer())}).catch(function(b){a._isExporting=!1,(0,c7.globalErrorHandler)(b)})};if(this._finishedSpans.length>=this._maxExportBatchSize)return b();void 0===this._timer&&(this._timer=setTimeout(function(){return b()},this._scheduledDelayMillis),(0,c7.unrefTimer)(this._timer))}},a.prototype._clearTimer=function(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)},a}(),c9=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),da=function(a){function b(b,c){var d=a.call(this,b,c)||this;return d.onInit(c),d}return c9(b,a),b.prototype.onInit=function(a){var b=this;a?.disableAutoFlushOnDocumentHide!==!0&&"u">typeof document&&(this._visibilityChangeListener=function(){"hidden"===document.visibilityState&&b.forceFlush()},this._pageHideListener=function(){b.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))},b.prototype.onShutdown=function(){"u">typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))},b}(c8),db=function(){this.generateTraceId=dd(16),this.generateSpanId=dd(8)},dc=Array(32);function dd(a){return function(){for(var b=0;b<2*a;b++)dc[b]=Math.floor(16*Math.random())+48,dc[b]>=58&&(dc[b]+=39);return String.fromCharCode.apply(null,dc.slice(0,2*a))}}var de=function(){function a(a,b,c){this._tracerProvider=c;var d,e,f,g=(d={sampler:c4()},(f=Object.assign({},e=c3(),d,b)).generalLimits=Object.assign({},e.generalLimits,b.generalLimits||{}),f.spanLimits=Object.assign({},e.spanLimits,b.spanLimits||{}),f);this._sampler=g.sampler,this._generalLimits=g.generalLimits,this._spanLimits=g.spanLimits,this._idGenerator=b.idGenerator||new db,this.resource=c.resource,this.instrumentationLibrary=a}return a.prototype.startSpan=function(a,b,c){void 0===b&&(b={}),void 0===c&&(c=bB.context.active()),b.root&&(c=bB.trace.deleteSpan(c));var d=bB.trace.getSpan(c);if((0,cR.isTracingSuppressed)(c)){bB.diag.debug("Instrumentation suppressed, returning Noop Span");var e=bB.trace.wrapSpanContext(bB.INVALID_SPAN_CONTEXT);return e}var f,g,h,i,j,k,l=d?.spanContext(),m=this._idGenerator.generateSpanId();l&&bB.trace.isSpanContextValid(l)?(i=l.traceId,j=l.traceState,k=l.spanId):i=this._idGenerator.generateTraceId();var n=null!=(f=b.kind)?f:bB.SpanKind.INTERNAL,o=(null!=(g=b.links)?g:[]).map(function(a){return{context:a.context,attributes:(0,cR.sanitizeAttributes)(a.attributes)}}),p=(0,cR.sanitizeAttributes)(b.attributes),q=this._sampler.shouldSample(c,i,a,n,p,o);j=null!=(h=q.traceState)?h:j;var r={traceId:i,spanId:m,traceFlags:q.decision===bB.SamplingDecision.RECORD_AND_SAMPLED?bB.TraceFlags.SAMPLED:bB.TraceFlags.NONE,traceState:j};if(q.decision===bB.SamplingDecision.NOT_RECORD){bB.diag.debug("Recording is off, propagating context in a non-recording span");var e=bB.trace.wrapSpanContext(r);return e}var s=(0,cR.sanitizeAttributes)(Object.assign(p,q.attributes));return new cW(this,c,a,r,n,k,o,b.startTime,void 0,s)},a.prototype.startActiveSpan=function(a,b,c,d){var e,f,g;if(!(arguments.length<2)){2==arguments.length?g=b:3==arguments.length?(e=b,g=c):(e=b,f=c,g=d);var h=f??bB.context.active(),i=this.startSpan(a,e,h),j=bB.trace.setSpan(h,i);return bB.context.with(j,g,void 0,i)}},a.prototype.getGeneralLimits=function(){return this._generalLimits},a.prototype.getSpanLimits=function(){return this._spanLimits},a.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},a}();bC();var df=bz(ck());bC();var dg=bz(bX()),dh=bz(ck()),di=function(){return(di=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},dj=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},dk=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},dl=function(){function a(a,b){var c,d=this;this._attributes=a,this.asyncAttributesPending=null!=b,this._syncAttributes=null!=(c=this._attributes)?c:{},this._asyncAttributesPromise=b?.then(function(a){return d._attributes=Object.assign({},d._attributes,a),d.asyncAttributesPending=!1,a},function(a){return bB.diag.debug("a resource's async attributes promise rejected: %s",a),d.asyncAttributesPending=!1,{}})}return a.empty=function(){return a.EMPTY},a.default=function(){var b;return new a(((b={})[dg.SemanticResourceAttributes.SERVICE_NAME]="unknown_service",b[dg.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=dh.SDK_INFO[dg.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],b[dg.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=dh.SDK_INFO[dg.SemanticResourceAttributes.TELEMETRY_SDK_NAME],b[dg.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=dh.SDK_INFO[dg.SemanticResourceAttributes.TELEMETRY_SDK_VERSION],b))},Object.defineProperty(a.prototype,"attributes",{get:function(){var a;return this.asyncAttributesPending&&bB.diag.error("Accessing resource attributes before async attributes settled"),null!=(a=this._attributes)?a:{}},enumerable:!1,configurable:!0}),a.prototype.waitForAsyncAttributes=function(){var a,b,c,d;return a=this,b=void 0,c=void 0,d=function(){return dj(this,function(a){switch(a.label){case 0:return this.asyncAttributesPending?[4,this._asyncAttributesPromise]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})},new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},a.prototype.merge=function(b){var c,d=this;if(!b)return this;var e=di(di({},this._syncAttributes),null!=(c=b._syncAttributes)?c:b.attributes);return this._asyncAttributesPromise||b._asyncAttributesPromise?new a(e,Promise.all([this._asyncAttributesPromise,b._asyncAttributesPromise]).then(function(a){var c,e=dk(a,2),f=e[0],g=e[1];return di(di(di(di({},d._syncAttributes),f),null!=(c=b._syncAttributes)?c:b.attributes),g)})):new a(e)},a.EMPTY=new a({}),a}();bC();var dm=bz(ck()),dn=bz(bX()),dp=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dq=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},dr=new(function(){function a(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return a.prototype.detect=function(a){var b={},c=(0,dm.getEnv)(),d=c.OTEL_RESOURCE_ATTRIBUTES,e=c.OTEL_SERVICE_NAME;if(d)try{var f=this._parseResourceAttributes(d);Object.assign(b,f)}catch(a){bB.diag.debug("EnvDetector failed: "+a.message)}return e&&(b[dn.SemanticResourceAttributes.SERVICE_NAME]=e),new dl(b)},a.prototype._parseResourceAttributes=function(a){if(!a)return{};var b,c,d={},e=a.split(this._COMMA_SEPARATOR,-1);try{for(var f=dp(e),g=f.next();!g.done;g=f.next()){var h=g.value.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2===h.length){var i=dq(h,2),j=i[0],k=i[1];if(j=j.trim(),k=k.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(j))throw Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(k))throw Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);d[j]=decodeURIComponent(k)}}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}return d},a.prototype._isValid=function(a){return a.length<=this._MAX_LENGTH&&this._isBaggageOctetString(a)},a.prototype._isBaggageOctetString=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(c<33||44===c||59===c||92===c||c>126)return!1}return!0},a.prototype._isValidAndNotEmpty=function(a){return a.length>0&&this._isValid(a)},a}());bC();var ds=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},dt=function(a){void 0===a&&(a={});var b,c=(null!=(b=a.detectors)?b:[]).map(function(b){try{var c,d,e,f,g,h=b.detect(a);return(g=null!==h&&"object"==typeof h&&"function"==typeof h.then?new dl({},(c=void 0,d=void 0,e=void 0,f=function(){var a;return ds(this,function(b){switch(b.label){case 0:return[4,h];case 1:return a=b.sent(),[2,a.attributes]}})},new(e||(e=Promise))(function(a,b){function g(a){try{i(f.next(a))}catch(a){b(a)}}function h(a){try{i(f.throw(a))}catch(a){b(a)}}function i(b){var c;b.done?a(b.value):((c=b.value)instanceof e?c:new e(function(a){a(c)})).then(g,h)}i((f=f.apply(c,d||[])).next())}))):h).waitForAsyncAttributes?g.waitForAsyncAttributes().then(function(){return bB.diag.debug(b.constructor.name+" found resource.",g)}):bB.diag.debug(b.constructor.name+" found resource.",g),g}catch(a){return bB.diag.error(b.constructor.name+" failed: "+a.message),dl.empty()}}),d=c.reduce(function(a,b){return a.merge(b)},dl.empty());return d.waitForAsyncAttributes&&d.waitForAsyncAttributes().then(function(){du(c)}),d},du=function(a){a.forEach(function(a){if(Object.keys(a.attributes).length>0){var b=JSON.stringify(a.attributes,null,4);bB.diag.verbose(b)}})},dv=bz(ck()),dw=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dx=function(){function a(a){this._spanProcessors=a}return a.prototype.forceFlush=function(){var a,b,c=[];try{for(var d=dw(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.forceFlush())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a){Promise.all(c).then(function(){a()}).catch(function(b){(0,dv.globalErrorHandler)(b||Error("MultiSpanProcessor: forceFlush failed")),a()})})},a.prototype.onStart=function(a,b){var c,d;try{for(var e=dw(this._spanProcessors),f=e.next();!f.done;f=e.next())f.value.onStart(a,b)}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}},a.prototype.onEnd=function(a){var b,c;try{for(var d=dw(this._spanProcessors),e=d.next();!e.done;e=d.next())e.value.onEnd(a)}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}},a.prototype.shutdown=function(){var a,b,c=[];try{for(var d=dw(this._spanProcessors),e=d.next();!e.done;e=d.next()){var f=e.value;c.push(f.shutdown())}}catch(b){a={error:b}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(a)throw a.error}}return new Promise(function(a,b){Promise.all(c).then(function(){a()},b)})},a}(),dy=function(){function a(){}return a.prototype.onStart=function(a,b){},a.prototype.onEnd=function(a){},a.prototype.shutdown=function(){return Promise.resolve()},a.prototype.forceFlush=function(){return Promise.resolve()},a}();!function(a){a[a.resolved=0]="resolved",a[a.timeout=1]="timeout",a[a.error=2]="error",a[a.unresolved=3]="unresolved"}(l||(l={}));var dz=function(){function a(a){void 0===a&&(a={}),this._registeredSpanProcessors=[],this._tracers=new Map;var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=(0,df.merge)({},c3(),(o=Object.assign({},(b=a).spanLimits),p=(0,c6.getEnvWithoutDefaults)(),o.attributeCountLimit=null!=(h=null!=(g=null!=(f=null!=(d=null==(c=b.spanLimits)?void 0:c.attributeCountLimit)?d:null==(e=b.generalLimits)?void 0:e.attributeCountLimit)?f:p.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)?g:p.OTEL_ATTRIBUTE_COUNT_LIMIT)?h:c6.DEFAULT_ATTRIBUTE_COUNT_LIMIT,o.attributeValueLengthLimit=null!=(n=null!=(m=null!=(l=null!=(j=null==(i=b.spanLimits)?void 0:i.attributeValueLengthLimit)?j:null==(k=b.generalLimits)?void 0:k.attributeValueLengthLimit)?l:p.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)?m:p.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?n:c6.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},b,{spanLimits:o})));this.resource=null!=(q=r.resource)?q:dl.empty(),this.resource=dl.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var s=this._buildExporterFromEnv();if(void 0!==s){var t=new da(s);this.activeSpanProcessor=t}else this.activeSpanProcessor=new dy}return a.prototype.getTracer=function(a,b,c){var d=a+"@"+(b||"")+":"+(c?.schemaUrl||"");return this._tracers.has(d)||this._tracers.set(d,new de({name:a,version:b,schemaUrl:c?.schemaUrl},this._config,this)),this._tracers.get(d)},a.prototype.addSpanProcessor=function(a){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch(function(a){return bB.diag.error("Error while trying to shutdown current span processor",a)}),this._registeredSpanProcessors.push(a),this.activeSpanProcessor=new dx(this._registeredSpanProcessors)},a.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},a.prototype.register=function(a){void 0===a&&(a={}),bB.trace.setGlobalTracerProvider(this),void 0===a.propagator&&(a.propagator=this._buildPropagatorFromEnv()),a.contextManager&&bB.context.setGlobalContextManager(a.contextManager),a.propagator&&bB.propagation.setGlobalPropagator(a.propagator)},a.prototype.forceFlush=function(){var a=this._config.forceFlushTimeoutMillis,b=this._registeredSpanProcessors.map(function(b){return new Promise(function(c){var d,e=setTimeout(function(){c(Error("Span processor did not completed within timeout period of "+a+" ms")),d=l.timeout},a);b.forceFlush().then(function(){clearTimeout(e),d!==l.timeout&&c(d=l.resolved)}).catch(function(a){clearTimeout(e),d=l.error,c(a)})})});return new Promise(function(a,c){Promise.all(b).then(function(b){var d=b.filter(function(a){return a!==l.resolved});d.length>0?c(d):a()}).catch(function(a){return c([a])})})},a.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},a.prototype._getPropagator=function(a){var b;return null==(b=this.constructor._registeredPropagators.get(a))?void 0:b()},a.prototype._getSpanExporter=function(a){var b;return null==(b=this.constructor._registeredExporters.get(a))?void 0:b()},a.prototype._buildPropagatorFromEnv=function(){var a=this,b=Array.from(new Set((0,df.getEnv)().OTEL_PROPAGATORS)),c=b.map(function(b){var c=a._getPropagator(b);return c||bB.diag.warn('Propagator "'+b+'" requested through environment variable is unavailable.'),c}).reduce(function(a,b){return b&&a.push(b),a},[]);if(0!==c.length)return 1===b.length?c[0]:new df.CompositePropagator({propagators:c})},a.prototype._buildExporterFromEnv=function(){var a=(0,df.getEnv)().OTEL_TRACES_EXPORTER;if("none"!==a&&""!==a){var b=this._getSpanExporter(a);return b||bB.diag.error('Exporter "'+a+'" requested through environment variable is unavailable.'),b}},a._registeredPropagators=new Map([["tracecontext",function(){return new df.W3CTraceContextPropagator}],["baggage",function(){return new df.W3CBaggagePropagator}]]),a._registeredExporters=new Map,a}();bC();var dA={};by(dA,p);var dB=bz(cm(),1);bC();var dC=bz(ck());bC(),bC(),bC();var dD=bz(ck()),dE=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},dF=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},dG=function(){function a(a,b,c){this.attributes={},this.totalAttributesCount=0,this._isReadonly=!1;var d=c.timestamp,e=c.observedTimestamp,f=c.severityNumber,g=c.severityText,h=c.body,i=c.attributes,j=c.context,k=Date.now();if(this.hrTime=(0,dD.timeInputToHrTime)(d??k),this.hrTimeObserved=(0,dD.timeInputToHrTime)(e??k),j){var l=bB.trace.getSpanContext(j);l&&bB.isSpanContextValid(l)&&(this.spanContext=l)}this.severityNumber=f,this.severityText=g,this.body=h,this.resource=a.resource,this.instrumentationScope=b,this._logRecordLimits=a.logRecordLimits,this.setAttributes(void 0===i?{}:i)}return Object.defineProperty(a.prototype,"severityText",{get:function(){return this._severityText},set:function(a){this._isLogRecordReadonly()||(this._severityText=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"severityNumber",{get:function(){return this._severityNumber},set:function(a){this._isLogRecordReadonly()||(this._severityNumber=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"body",{get:function(){return this._body},set:function(a){this._isLogRecordReadonly()||(this._body=a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"droppedAttributesCount",{get:function(){return this.totalAttributesCount-Object.keys(this.attributes).length},enumerable:!1,configurable:!0}),a.prototype.setAttribute=function(a,b){return this._isLogRecordReadonly()||null===b||(0===a.length?bB.diag.warn("Invalid attribute key: "+a):(0,dD.isAttributeValue)(b)||"object"==typeof b&&!Array.isArray(b)&&Object.keys(b).length>0?(this.totalAttributesCount+=1,Object.keys(this.attributes).length>=this._logRecordLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,a)||((0,dD.isAttributeValue)(b)?this.attributes[a]=this._truncateToSize(b):this.attributes[a]=b)):bB.diag.warn("Invalid attribute value set for key: "+a)),this},a.prototype.setAttributes=function(a){var b,c;try{for(var d=dE(Object.entries(a)),e=d.next();!e.done;e=d.next()){var f=dF(e.value,2),g=f[0],h=f[1];this.setAttribute(g,h)}}catch(a){b={error:a}}finally{try{e&&!e.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}return this},a.prototype.setBody=function(a){return this.body=a,this},a.prototype.setSeverityNumber=function(a){return this.severityNumber=a,this},a.prototype.setSeverityText=function(a){return this.severityText=a,this},a.prototype._makeReadonly=function(){this._isReadonly=!0},a.prototype._truncateToSize=function(a){var b=this,c=this._logRecordLimits.attributeValueLengthLimit;return c<=0?(bB.diag.warn("Attribute value limit must be positive, got "+c),a):"string"==typeof a?this._truncateToLimitUtil(a,c):Array.isArray(a)?a.map(function(a){return"string"==typeof a?b._truncateToLimitUtil(a,c):a}):a},a.prototype._truncateToLimitUtil=function(a,b){return a.length<=b?a:a.substring(0,b)},a.prototype._isLogRecordReadonly=function(){return this._isReadonly&&bB.diag.warn("Can not execute the operation on emitted log record"),this._isReadonly},a}(),dH=function(){return(dH=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},dI=function(){function a(a,b){this.instrumentationScope=a,this._sharedState=b}return a.prototype.emit=function(a){var b=a.context||bB.context.active(),c=new dG(this._sharedState,this.instrumentationScope,dH({context:b},a));this._sharedState.activeProcessor.onEmit(c,b),c._makeReadonly()},a}(),dJ=bz(ck()),dK=bz(ck()),dL=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},dM=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},dN=function(){function a(a,b){this.processors=a,this.forceFlushTimeoutMillis=b}return a.prototype.forceFlush=function(){return dL(this,void 0,void 0,function(){var a;return dM(this,function(b){switch(b.label){case 0:return a=this.forceFlushTimeoutMillis,[4,Promise.all(this.processors.map(function(b){return(0,dK.callWithTimeout)(b.forceFlush(),a)}))];case 1:return b.sent(),[2]}})})},a.prototype.onEmit=function(a,b){this.processors.forEach(function(c){return c.onEmit(a,b)})},a.prototype.shutdown=function(){return dL(this,void 0,void 0,function(){return dM(this,function(a){switch(a.label){case 0:return[4,Promise.all(this.processors.map(function(a){return a.shutdown()}))];case 1:return a.sent(),[2]}})})},a}(),dO=function(){function a(){}return a.prototype.forceFlush=function(){return Promise.resolve()},a.prototype.onEmit=function(a,b){},a.prototype.shutdown=function(){return Promise.resolve()},a}(),dP=function(a,b,c){this.resource=a,this.forceFlushTimeoutMillis=b,this.logRecordLimits=c,this.loggers=new Map,this.registeredLogRecordProcessors=[],this.activeProcessor=new dO},dQ=function(){function a(a){void 0===a&&(a={});var b,c,d,e,f,g,h,i=(0,dC.merge)({},{forceFlushTimeoutMillis:3e4,logRecordLimits:{attributeValueLengthLimit:(0,dJ.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,dJ.getEnv)().OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT},includeTraceContext:!0},a),j=i.resource,k=void 0===j?dl.default():j,l=i.logRecordLimits,m=i.forceFlushTimeoutMillis;this._sharedState=new dP(k,m,(h=(0,dJ.getEnvWithoutDefaults)(),{attributeCountLimit:null!=(d=null!=(c=null!=(b=l.attributeCountLimit)?b:h.OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT)?c:h.OTEL_ATTRIBUTE_COUNT_LIMIT)?d:dJ.DEFAULT_ATTRIBUTE_COUNT_LIMIT,attributeValueLengthLimit:null!=(g=null!=(f=null!=(e=l.attributeValueLengthLimit)?e:h.OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT)?f:h.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)?g:dJ.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT})),this._shutdownOnce=new dC.BindOnceFuture(this._shutdown,this)}return a.prototype.getLogger=function(a,b,c){if(this._shutdownOnce.isCalled)return bB.diag.warn("A shutdown LoggerProvider cannot provide a Logger"),dA.NOOP_LOGGER;a||bB.diag.warn("Logger requested without instrumentation scope name.");var d=a||"unknown",e=d+"@"+(b||"")+":"+(c?.schemaUrl||"");return this._sharedState.loggers.has(e)||this._sharedState.loggers.set(e,new dI({name:d,version:b,schemaUrl:c?.schemaUrl},this._sharedState)),this._sharedState.loggers.get(e)},a.prototype.addLogRecordProcessor=function(a){0===this._sharedState.registeredLogRecordProcessors.length&&this._sharedState.activeProcessor.shutdown().catch(function(a){return bB.diag.error("Error while trying to shutdown current log record processor",a)}),this._sharedState.registeredLogRecordProcessors.push(a),this._sharedState.activeProcessor=new dN(this._sharedState.registeredLogRecordProcessors,this._sharedState.forceFlushTimeoutMillis)},a.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?(bB.diag.warn("invalid attempt to force flush after LoggerProvider shutdown"),this._shutdownOnce.promise):this._sharedState.activeProcessor.forceFlush()},a.prototype.shutdown=function(){return this._shutdownOnce.isCalled?(bB.diag.warn("shutdown may only be called once per LoggerProvider"),this._shutdownOnce.promise):this._shutdownOnce.call()},a.prototype._shutdown=function(){return this._sharedState.activeProcessor.shutdown()},a}();!function(a){a[a.DELTA=0]="DELTA",a[a.CUMULATIVE=1]="CUMULATIVE"}(m||(m={}));var dR=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dS=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},dT=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},dU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")};function dV(a){return null!=a}function dW(a){var b=Object.keys(a);return 0===b.length?"":JSON.stringify((b=b.sort()).map(function(b){return[b,a[b]]}))}var dX=function(a){function b(c){var d=a.call(this,c)||this;return Object.setPrototypeOf(d,b.prototype),d}return dR(b,a),b}(Error);function dY(a,b){var c;return Promise.race([a,new Promise(function(a,d){c=setTimeout(function(){d(new dX("Operation timed out."))},b)})]).then(function(a){return clearTimeout(c),a},function(a){throw clearTimeout(c),a})}function dZ(a){return"rejected"===a.status}function d$(a,b,c){var d,e,f,g;return null!=a.match(d_)||bB.diag.warn('Invalid metric name: "'+a+'". The metric name should be a ASCII string with a length no greater than 255 characters.'),{name:a,type:b,description:null!=(d=c?.description)?d:"",unit:null!=(e=c?.unit)?e:"",valueType:null!=(f=c?.valueType)?f:bB.ValueType.DOUBLE,advice:null!=(g=c?.advice)?g:{}}}bC(),function(a){a.COUNTER="COUNTER",a.HISTOGRAM="HISTOGRAM",a.UP_DOWN_COUNTER="UP_DOWN_COUNTER",a.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",a.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",a.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER"}(n||(n={}));var d_=/^[a-z][a-z0-9_.\-/]{0,254}$/i;bC();var d0=function(){function a(){this._registeredViews=[]}return a.prototype.addView=function(a){this._registeredViews.push(a)},a.prototype.findViews=function(a,b){var c=this;return this._registeredViews.filter(function(d){return c._matchInstrument(d.instrumentSelector,a)&&c._matchMeter(d.meterSelector,b)})},a.prototype._matchInstrument=function(a,b){return(void 0===a.getType()||b.type===a.getType())&&a.getNameFilter().match(b.name)&&a.getUnitFilter().match(b.unit)},a.prototype._matchMeter=function(a,b){return a.getNameFilter().match(b.name)&&(void 0===b.version||a.getVersionFilter().match(b.version))&&(void 0===b.schemaUrl||a.getSchemaUrlFilter().match(b.schemaUrl))},a}();bC();var d1=bz(ck()),d2=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),d3=function(){function a(a,b){this._writableMetricStorage=a,this._descriptor=b}return a.prototype._record=function(a,b,c){if(void 0===b&&(b={}),void 0===c&&(c=bB.context.active()),"number"!=typeof a)return void bB.diag.warn("non-number value provided to metric "+this._descriptor.name+": "+a);(this._descriptor.valueType!==bB.ValueType.INT||Number.isInteger(a)||(bB.diag.warn("INT value type cannot accept a floating-point value for "+this._descriptor.name+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._writableMetricStorage.record(a,b,c,(0,d1.millisToHrTime)(Date.now()))},a}(),d4=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b.prototype.add=function(a,b,c){this._record(a,b,c)},b}(d3),d5=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b.prototype.add=function(a,b,c){if(a<0)return void bB.diag.warn("negative value provided to counter "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(d3),d6=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b.prototype.record=function(a,b,c){if(a<0)return void bB.diag.warn("negative value provided to histogram "+this._descriptor.name+": "+a);this._record(a,b,c)},b}(d3),d7=function(){function a(a,b,c){this._observableRegistry=c,this._descriptor=a,this._metricStorages=b}return a.prototype.addCallback=function(a){this._observableRegistry.addCallback(a,this)},a.prototype.removeCallback=function(a){this._observableRegistry.removeCallback(a,this)},a}(),d8=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b}(d7),d9=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b}(d7),ea=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d2(b,a),b}(d7);function eb(a){return a instanceof d7}var ec=function(){function a(a){this._meterSharedState=a}return a.prototype.createHistogram=function(a,b){var c=d$(a,n.HISTOGRAM,b);return new d6(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createCounter=function(a,b){var c=d$(a,n.COUNTER,b);return new d5(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createUpDownCounter=function(a,b){var c=d$(a,n.UP_DOWN_COUNTER,b);return new d4(this._meterSharedState.registerMetricStorage(c),c)},a.prototype.createObservableGauge=function(a,b){var c=d$(a,n.OBSERVABLE_GAUGE,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new d9(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableCounter=function(a,b){var c=d$(a,n.OBSERVABLE_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new d8(c,d,this._meterSharedState.observableRegistry)},a.prototype.createObservableUpDownCounter=function(a,b){var c=d$(a,n.OBSERVABLE_UP_DOWN_COUNTER,b),d=this._meterSharedState.registerAsyncMetricStorage(c);return new ea(c,d,this._meterSharedState.observableRegistry)},a.prototype.addBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.addBatchCallback(a,b)},a.prototype.removeBatchObservableCallback=function(a,b){this._meterSharedState.observableRegistry.removeBatchCallback(a,b)},a}(),ed=function(){function a(a){this._instrumentDescriptor=a}return a.prototype.getInstrumentDescriptor=function(){return this._instrumentDescriptor},a.prototype.updateDescription=function(a){this._instrumentDescriptor=d$(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:a,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})},a}(),ee=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),ef=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},eg=function(a){function b(){return a.call(this,dW)||this}return ee(b,a),b}(function(){function a(a){this._hash=a,this._valueMap=new Map,this._keyMap=new Map}return a.prototype.get=function(a,b){return b??(b=this._hash(a)),this._valueMap.get(b)},a.prototype.getOrDefault=function(a,b){var c=this._hash(a);if(this._valueMap.has(c))return this._valueMap.get(c);var d=b();return this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,d),d},a.prototype.set=function(a,b,c){c??(c=this._hash(a)),this._keyMap.has(c)||this._keyMap.set(c,a),this._valueMap.set(c,b)},a.prototype.has=function(a,b){return b??(b=this._hash(a)),this._valueMap.has(b)},a.prototype.keys=function(){var a,b;return ef(this,function(c){switch(c.label){case 0:b=(a=this._keyMap.entries()).next(),c.label=1;case 1:return!0===b.done?[3,3]:[4,[b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},a.prototype.entries=function(){var a,b;return ef(this,function(c){switch(c.label){case 0:b=(a=this._valueMap.entries()).next(),c.label=1;case 1:return!0===b.done?[3,3]:[4,[this._keyMap.get(b.value[0]),b.value[1],b.value[0]]];case 2:return c.sent(),b=a.next(),[3,1];case 3:return[2]}})},Object.defineProperty(a.prototype,"size",{get:function(){return this._valueMap.size},enumerable:!1,configurable:!0}),a}()),eh=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ei=function(){function a(a){this._aggregator=a,this._activeCollectionStorage=new eg,this._cumulativeMemoStorage=new eg}return a.prototype.record=function(a,b,c,d){var e=this,f=this._activeCollectionStorage.getOrDefault(b,function(){return e._aggregator.createAccumulation(d)});f?.record(a)},a.prototype.batchCumulate=function(a,b){var c=this;Array.from(a.entries()).forEach(function(a){var d=eh(a,3),e=d[0],f=d[1],g=d[2],h=c._aggregator.createAccumulation(b);h?.record(f);var i=h;if(c._cumulativeMemoStorage.has(e,g)){var j=c._cumulativeMemoStorage.get(e,g);i=c._aggregator.diff(j,h)}if(c._activeCollectionStorage.has(e,g)){var k=c._activeCollectionStorage.get(e,g);i=c._aggregator.merge(k,i)}c._cumulativeMemoStorage.set(e,h,g),c._activeCollectionStorage.set(e,i,g)})},a.prototype.collect=function(){var a=this._activeCollectionStorage;return this._activeCollectionStorage=new eg,a},a}(),ej=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},ek=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},el=function(){function a(a,b){var c=this;this._aggregator=a,this._unreportedAccumulations=new Map,this._reportHistory=new Map,b.forEach(function(a){c._unreportedAccumulations.set(a,[])})}return a.prototype.buildMetrics=function(b,c,d,e){this._stashAccumulations(d);var f,g=this._getMergedUnreportedAccumulations(b),h=g;if(this._reportHistory.has(b)){var i=this._reportHistory.get(b),j=i.collectionTime;h=(f=i.aggregationTemporality)===m.CUMULATIVE?a.merge(i.accumulations,g,this._aggregator):a.calibrateStartTime(i.accumulations,g,j)}else f=b.selectAggregationTemporality(c.type);this._reportHistory.set(b,{accumulations:h,collectionTime:e,aggregationTemporality:f});var k=Array.from(h.entries());if(0!==k.length)return this._aggregator.toMetricData(c,f,k,e)},a.prototype._stashAccumulations=function(a){var b,c,d=this._unreportedAccumulations.keys();try{for(var e=ej(d),f=e.next();!f.done;f=e.next()){var g=f.value,h=this._unreportedAccumulations.get(g);void 0===h&&(h=[],this._unreportedAccumulations.set(g,h)),h.push(a)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}},a.prototype._getMergedUnreportedAccumulations=function(b){var c,d,e=new eg,f=this._unreportedAccumulations.get(b);if(this._unreportedAccumulations.set(b,[]),void 0===f)return e;try{for(var g=ej(f),h=g.next();!h.done;h=g.next()){var i=h.value;e=a.merge(e,i,this._aggregator)}}catch(a){c={error:a}}finally{try{h&&!h.done&&(d=g.return)&&d.call(g)}finally{if(c)throw c.error}}return e},a.merge=function(a,b,c){for(var d=b.entries(),e=d.next();!0!==e.done;){var f=ek(e.value,3),g=f[0],h=f[1],i=f[2];if(a.has(g,i)){var j=a.get(g,i),k=c.merge(j,h);a.set(g,k,i)}else a.set(g,h,i);e=d.next()}return a},a.calibrateStartTime=function(a,b,c){var d,e;try{for(var f=ej(a.keys()),g=f.next();!g.done;g=f.next()){var h=ek(g.value,2),i=h[0],j=h[1],k=b.get(i,j);k?.setStartTime(c)}}catch(a){d={error:a}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(d)throw d.error}}return b},a}(),em=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),en=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},eo=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new ei(c),f._temporalMetricStorage=new el(c,e),f}return em(b,a),b.prototype.record=function(a,b){var c=this,d=new eg;Array.from(a.entries()).forEach(function(a){var b=en(a,2),e=b[0],f=b[1];d.set(c._attributesProcessor.process(e),f)}),this._deltaMetricStorage.batchCumulate(d,b)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(ed);function ep(a,b){var c="";return a.unit!==b.unit&&(c+="	- Unit '"+a.unit+"' does not match '"+b.unit+`'
`),a.type!==b.type&&(c+="	- Type '"+a.type+"' does not match '"+b.type+`'
`),a.valueType!==b.valueType&&(c+="	- Value Type '"+a.valueType+"' does not match '"+b.valueType+`'
`),a.description!==b.description&&(c+="	- Description '"+a.description+"' does not match '"+b.description+`'
`),c}function eq(a,b){var c,d;return a.valueType!==b.valueType?"	- use valueType '"+a.valueType+"' on instrument creation or use an instrument name other than '"+b.name+"'":a.unit!==b.unit?"	- use unit '"+a.unit+"' on instrument creation or use an instrument name other than '"+b.name+"'":a.type!==b.type?(c=JSON.stringify({name:b.name,type:b.type,unit:b.unit}),"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+c+"'"):a.description!==b.description?(d=JSON.stringify({name:b.name,type:b.type,unit:b.unit}),"	- create a new view with a name other than '"+a.name+"' and InstrumentSelector '"+d+`'
    	- OR - create a new view with the name `+a.name+" and description '"+a.description+"' and InstrumentSelector "+d+`
    	- OR - create a new view with the name `+b.name+" and description '"+a.description+"' and InstrumentSelector "+d):""}bC();var er=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},es=function(){function a(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}return a.create=function(){return new a},a.prototype.getStorages=function(a){var b,c,d,e,f=[];try{for(var g=er(this._sharedRegistry.values()),h=g.next();!h.done;h=g.next()){var i=h.value;f=f.concat(i)}}catch(a){b={error:a}}finally{try{h&&!h.done&&(c=g.return)&&c.call(g)}finally{if(b)throw b.error}}var j=this._perCollectorRegistry.get(a);if(null!=j)try{for(var k=er(j.values()),l=k.next();!l.done;l=k.next()){var i=l.value;f=f.concat(i)}}catch(a){d={error:a}}finally{try{l&&!l.done&&(e=k.return)&&e.call(k)}finally{if(d)throw d.error}}return f},a.prototype.register=function(a){this._registerStorage(a,this._sharedRegistry)},a.prototype.registerForCollector=function(a,b){var c=this._perCollectorRegistry.get(a);null==c&&(c=new Map,this._perCollectorRegistry.set(a,c)),this._registerStorage(b,c)},a.prototype.findOrUpdateCompatibleStorage=function(a){var b=this._sharedRegistry.get(a.name);return void 0===b?null:this._findOrUpdateCompatibleStorage(a,b)},a.prototype.findOrUpdateCompatibleCollectorStorage=function(a,b){var c=this._perCollectorRegistry.get(a);if(void 0===c)return null;var d=c.get(b.name);return void 0===d?null:this._findOrUpdateCompatibleStorage(b,d)},a.prototype._registerStorage=function(a,b){var c=a.getInstrumentDescriptor(),d=b.get(c.name);if(void 0===d)return void b.set(c.name,[a]);d.push(a)},a.prototype._findOrUpdateCompatibleStorage=function(a,b){var c,d,e=null;try{for(var f=er(b),g=f.next();!g.done;g=f.next()){var h=g.value,i=h.getInstrumentDescriptor();!function(a,b){var c,d;return c=a.name,d=b.name,c.toLowerCase()===d.toLowerCase()&&a.unit===b.unit&&a.type===b.type&&a.valueType===b.valueType}(i,a)?bB.diag.warn("A view or instrument with the name ",a.name,` has already been registered and is incompatible with another registered view.
`,`Details:
`,ep(i,a),`To resolve the conflict:
`,eq(i,a)):(i.description!==a.description&&(a.description.length>i.description.length&&h.updateDescription(a.description),bB.diag.warn("A view or instrument with the name ",a.name,` has already been registered, but has a different description and is incompatible with another registered view.
`,`Details:
`,ep(i,a),`The longer description will be used.
To resolve the conflict:`,eq(i,a))),e=h)}}catch(a){c={error:a}}finally{try{g&&!g.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}return e},a}(),et=function(){function a(a){this._backingStorages=a}return a.prototype.record=function(a,b,c,d){this._backingStorages.forEach(function(e){e.record(a,b,c,d)})},a}();bC(),bC();var eu=function(){function a(a,b){this._instrumentName=a,this._valueType=b,this._buffer=new eg}return a.prototype.observe=function(a,b){if(void 0===b&&(b={}),"number"!=typeof a)return void bB.diag.warn("non-number value provided to metric "+this._instrumentName+": "+a);(this._valueType!==bB.ValueType.INT||Number.isInteger(a)||(bB.diag.warn("INT value type cannot accept a floating-point value for "+this._instrumentName+", ignoring the fractional digits."),Number.isInteger(a=Math.trunc(a))))&&this._buffer.set(b,a)},a}(),ev=function(){function a(){this._buffer=new Map}return a.prototype.observe=function(a,b,c){if(void 0===c&&(c={}),eb(a)){var d=this._buffer.get(a);if(null==d&&(d=new eg,this._buffer.set(a,d)),"number"!=typeof b)return void bB.diag.warn("non-number value provided to metric "+a._descriptor.name+": "+b);(a._descriptor.valueType!==bB.ValueType.INT||Number.isInteger(b)||(bB.diag.warn("INT value type cannot accept a floating-point value for "+a._descriptor.name+", ignoring the fractional digits."),Number.isInteger(b=Math.trunc(b))))&&d.set(c,b)}},a}(),ew=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},ex=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},ey=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},ez=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},eA=function(){function a(){this._callbacks=[],this._batchCallbacks=[]}return a.prototype.addCallback=function(a,b){this._findCallback(a,b)>=0||this._callbacks.push({callback:a,instrument:b})},a.prototype.removeCallback=function(a,b){var c=this._findCallback(a,b);c<0||this._callbacks.splice(c,1)},a.prototype.addBatchCallback=function(a,b){var c=new Set(b.filter(eb));if(0===c.size)return void bB.diag.error("BatchObservableCallback is not associated with valid instruments",b);this._findBatchCallback(a,c)>=0||this._batchCallbacks.push({callback:a,instruments:c})},a.prototype.removeBatchCallback=function(a,b){var c=new Set(b.filter(eb)),d=this._findBatchCallback(a,c);d<0||this._batchCallbacks.splice(d,1)},a.prototype.observe=function(a,b){return ew(this,void 0,void 0,function(){var c,d;return ex(this,function(e){switch(e.label){case 0:return c=this._observeCallbacks(a,b),d=this._observeBatchCallbacks(a,b),[4,function(a){return dS(this,void 0,void 0,function(){var b=this;return dT(this,function(c){return[2,Promise.all(a.map(function(a){return dS(b,void 0,void 0,function(){return dT(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,a];case 1:return[2,{status:"fulfilled",value:b.sent()}];case 2:return[2,{status:"rejected",reason:b.sent()}];case 3:return[2]}})})}))]})})}(ez(ez([],ey(c),!1),ey(d),!1))];case 1:return[2,e.sent().filter(dZ).map(function(a){return a.reason})]}})})},a.prototype._observeCallbacks=function(a,b){var c=this;return this._callbacks.map(function(d){var e=d.callback,f=d.instrument;return ew(c,void 0,void 0,function(){var c,d;return ex(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new eu(f._descriptor.name,f._descriptor.valueType))),null!=b&&(d=dY(d,b)),[4,d];case 1:return g.sent(),f._metricStorages.forEach(function(b){b.record(c._buffer,a)}),[2]}})})})},a.prototype._observeBatchCallbacks=function(a,b){var c=this;return this._batchCallbacks.map(function(d){var e=d.callback,f=d.instruments;return ew(c,void 0,void 0,function(){var c,d;return ex(this,function(g){switch(g.label){case 0:return d=Promise.resolve(e(c=new ev)),null!=b&&(d=dY(d,b)),[4,d];case 1:return g.sent(),f.forEach(function(b){var d=c._buffer.get(b);null!=d&&b._metricStorages.forEach(function(b){b.record(d,a)})}),[2]}})})})},a.prototype._findCallback=function(a,b){return this._callbacks.findIndex(function(c){return c.callback===a&&c.instrument===b})},a.prototype._findBatchCallback=function(a,b){return this._batchCallbacks.findIndex(function(c){return c.callback===a&&function(a,b){var c,d;if(a.size!==b.size)return!1;try{for(var e=dU(a),f=e.next();!f.done;f=e.next()){var g=f.value;if(!b.has(g))return!1}}catch(a){c={error:a}}finally{try{f&&!f.done&&(d=e.return)&&d.call(e)}finally{if(c)throw c.error}}return!0}(c.instruments,b)})},a}(),eB=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),eC=function(a){function b(b,c,d,e){var f=a.call(this,b)||this;return f._attributesProcessor=d,f._deltaMetricStorage=new ei(c),f._temporalMetricStorage=new el(c,e),f}return eB(b,a),b.prototype.record=function(a,b,c,d){b=this._attributesProcessor.process(b,c),this._deltaMetricStorage.record(a,b,c,d)},b.prototype.collect=function(a,b){var c=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(a,this._instrumentDescriptor,c,b)},b}(ed),eD=function(){var a=function(b,c){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(b,c)};return function(b,c){if("function"!=typeof c&&null!==c)throw TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),eE=function(){function a(){}return a.Noop=function(){return eG},a}(),eF=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return eD(b,a),b.prototype.process=function(a,b){return a},b}(eE);!function(a){function b(b){var c=a.call(this)||this;return c._allowedAttributeNames=b,c}eD(b,a),b.prototype.process=function(a,b){var c=this,d={};return Object.keys(a).filter(function(a){return c._allowedAttributeNames.includes(a)}).forEach(function(b){return d[b]=a[b]}),d}}(eE);var eG=new eF,eH=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},eI=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},eJ=function(){function a(a,b){this._meterProviderSharedState=a,this._instrumentationScope=b,this.metricStorageRegistry=new es,this.observableRegistry=new eA,this.meter=new ec(this)}return a.prototype.registerMetricStorage=function(a){var b=this._registerMetricStorage(a,eC);return 1===b.length?b[0]:new et(b)},a.prototype.registerAsyncMetricStorage=function(a){return this._registerMetricStorage(a,eo)},a.prototype.collect=function(a,b,c){var d,e,f,g;return d=this,e=void 0,f=void 0,g=function(){var d,e,f;return eH(this,function(g){switch(g.label){case 0:return[4,this.observableRegistry.observe(b,c?.timeoutMillis)];case 1:return d=g.sent(),0===(e=this.metricStorageRegistry.getStorages(a)).length?[2,null]:0===(f=e.map(function(c){return c.collect(a,b)}).filter(dV)).length?[2,{errors:d}]:[2,{scopeMetrics:{scope:this._instrumentationScope,metrics:f},errors:d}]}})},new(f||(f=Promise))(function(a,b){function c(a){try{i(g.next(a))}catch(a){b(a)}}function h(a){try{i(g.throw(a))}catch(a){b(a)}}function i(b){var d;b.done?a(b.value):((d=b.value)instanceof f?d:new f(function(a){a(d)})).then(c,h)}i((g=g.apply(d,e||[])).next())})},a.prototype._registerMetricStorage=function(a,b){var c=this,d=this._meterProviderSharedState.viewRegistry.findViews(a,this._instrumentationScope).map(function(d){var e,f,g={name:null!=(e=d.name)?e:a.name,description:null!=(f=d.description)?f:a.description,type:a.type,unit:a.unit,valueType:a.valueType,advice:a.advice},h=c.metricStorageRegistry.findOrUpdateCompatibleStorage(g);if(null!=h)return h;var i=d.aggregation.createAggregator(g),j=new b(g,i,d.attributesProcessor,c._meterProviderSharedState.metricCollectors);return c.metricStorageRegistry.register(j),j});if(0===d.length){var e=this._meterProviderSharedState.selectAggregations(a.type).map(function(d){var e=eI(d,2),f=e[0],g=e[1],h=c.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(f,a);if(null!=h)return h;var i=g.createAggregator(a),j=new b(a,i,eE.Noop(),[f]);return c.metricStorageRegistry.registerForCollector(f,j),j});d=d.concat(e)}return d},a}(),eK=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eL=function(){function a(a){this.resource=a,this.viewRegistry=new d0,this.metricCollectors=[],this.meterSharedStates=new Map}return a.prototype.getMeterSharedState=function(a){var b,c,d=a.name+":"+(null!=(b=a.version)?b:"")+":"+(null!=(c=a.schemaUrl)?c:""),e=this.meterSharedStates.get(d);return null==e&&(e=new eJ(this,a),this.meterSharedStates.set(d,e)),e},a.prototype.selectAggregations=function(a){var b,c,d=[];try{for(var e=eK(this.metricCollectors),f=e.next();!f.done;f=e.next()){var g=f.value;d.push([g,g.selectAggregation(a)])}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d},a}(),eM=bz(ck()),eN=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},eO=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},eP=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},eQ=function(a,b,c){if(c||2==arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))},eR=function(){function a(a,b){this._sharedState=a,this._metricReader=b}return a.prototype.collect=function(a){return eN(this,void 0,void 0,function(){var b,c,d,e=this;return eO(this,function(f){switch(f.label){case 0:return b=(0,eM.millisToHrTime)(Date.now()),c=[],d=[],[4,Promise.all(Array.from(this._sharedState.meterSharedStates.values()).map(function(f){return eN(e,void 0,void 0,function(){var e;return eO(this,function(g){switch(g.label){case 0:return[4,f.collect(this,b,a)];case 1:return e=g.sent(),e?.scopeMetrics!=null&&c.push(e.scopeMetrics),e?.errors!=null&&d.push.apply(d,eQ([],eP(e.errors),!1)),[2]}})})}))];case 1:return f.sent(),[2,{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:c},errors:d}]}})})},a.prototype.forceFlush=function(a){return eN(this,void 0,void 0,function(){return eO(this,function(b){switch(b.label){case 0:return[4,this._metricReader.forceFlush(a)];case 1:return b.sent(),[2]}})})},a.prototype.shutdown=function(a){return eN(this,void 0,void 0,function(){return eO(this,function(b){switch(b.label){case 0:return[4,this._metricReader.shutdown(a)];case 1:return b.sent(),[2]}})})},a.prototype.selectAggregationTemporality=function(a){return this._metricReader.selectAggregationTemporality(a)},a.prototype.selectAggregation=function(a){return this._metricReader.selectAggregation(a)},a}(),eS=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})},eT=function(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}},eU=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},eV=function(){function a(a){this._shutdown=!1;var b,c,d,e=dl.default().merge(null!=(d=a?.resource)?d:dl.empty());if(this._sharedState=new eL(e),a?.views!=null&&a.views.length>0)try{for(var f=eU(a.views),g=f.next();!g.done;g=f.next()){var h=g.value;this._sharedState.viewRegistry.addView(h)}}catch(a){b={error:a}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(b)throw b.error}}}return a.prototype.getMeter=function(a,b,c){return void 0===b&&(b=""),void 0===c&&(c={}),this._shutdown?(bB.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,bB.createNoopMeter)()):this._sharedState.getMeterSharedState({name:a,version:b,schemaUrl:c.schemaUrl}).meter},a.prototype.addMetricReader=function(a){var b=new eR(this._sharedState,a);a.setMetricProducer(b),this._sharedState.metricCollectors.push(b)},a.prototype.shutdown=function(a){return eS(this,void 0,void 0,function(){return eT(this,function(b){switch(b.label){case 0:return this._shutdown?(bB.diag.warn("shutdown may only be called once per MeterProvider"),[2]):(this._shutdown=!0,[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.shutdown(a)}))]);case 1:return b.sent(),[2]}})})},a.prototype.forceFlush=function(a){return eS(this,void 0,void 0,function(){return eT(this,function(b){switch(b.label){case 0:return this._shutdown?(bB.diag.warn("invalid attempt to force flush after MeterProvider shutdown"),[2]):[4,Promise.all(this._sharedState.metricCollectors.map(function(b){return b.forceFlush(a)}))];case 1:return b.sent(),[2]}})})},a}(),eW=bz(bN(),1),eX=bz(cs(),1),eY=bz(ck(),1),eZ="http.host",e$="http.status_code",e_="http.response_content_length_uncompressed";bC();var e0=Symbol.for("@vercel/request-context");function e1(){return globalThis[e0]?.get()}function e2(a){return Object.fromEntries(Object.entries(a).filter(([a,b])=>void 0!==b))}var e3={keys:a=>[],get:(a,b)=>a[b.toLocaleLowerCase()]};function e4(a){return(a&bB.TraceFlags.SAMPLED)!=0}bC();var e5=class{constructor(a,b){this.processors=a,this.attributesFromHeaders=b,this.rootSpanIds=new Map,this.waitSpanEnd=new Map}forceFlush(){return Promise.all(this.processors.map(a=>a.forceFlush().catch(a=>{bB.diag.error("@vercel/otel: forceFlush failed:",a)}))).then(()=>{})}shutdown(){return Promise.all(this.processors.map(a=>a.shutdown().catch(()=>{}))).then(()=>{})}onStart(a,b){let{traceId:c,spanId:d,traceFlags:e}=a.spanContext(),f=!a.parentSpanId||!this.rootSpanIds.has(c);if(f?this.rootSpanIds.set(c,{rootSpanId:d,open:[]}):this.rootSpanIds.get(c)?.open.push(a),f&&e4(e)){let b=e1(),d=function(a=e1(),b){var c;if(!a)return;let d=b?function(a,b){if("function"==typeof a)return a(b,e3);let c={};for(let[d,e]of Object.entries(a)){let a=b[e.toLocaleLowerCase()];void 0!==a&&(c[d]=a)}return c}(b,a.headers):void 0;return e2({[eZ]:a.headers.host,"http.user_agent":a.headers["user-agent"],"http.referer":a.headers.referer,"vercel.request_id":(c=a.headers["x-vercel-id"])?c.split("::").at(-1):void 0,"vercel.matched_path":a.headers["x-matched-path"],"vercel.edge_region":process.env.VERCEL_REGION,...d})}(b,this.attributesFromHeaders);d&&a.setAttributes(d),b&&b.waitUntil(async()=>{if(this.rootSpanIds.has(c)){let a=new Promise(a=>{this.waitSpanEnd.set(c,a)}),b;await Promise.race([a,new Promise(a=>{b=setTimeout(()=>{this.waitSpanEnd.delete(c),a(void 0)},50)})]),b&&clearTimeout(b)}return this.forceFlush()})}for(let c of this.processors)c.onStart(a,b)}onEnd(a){let{traceId:b,spanId:c,traceFlags:d}=a.spanContext(),e=e4(d),f=this.rootSpanIds.get(b),g=f?.rootSpanId===c;if(e){let b=function(a){let{kind:b,attributes:c}=a,{"operation.name":d,"resource.name":e,"span.type":f,"next.span_type":g,"http.method":h,"http.route":i}=c;if(d)return;let j=e??(h&&"string"==typeof h&&i&&"string"==typeof i?`${h} ${i}`:i);if(a.kind===bB.SpanKind.SERVER&&h&&i&&"string"==typeof h&&"string"==typeof i)return{"operation.name":"web.request","resource.name":j};let k=a.instrumentationLibrary.name,l=g??f;if(l&&"string"==typeof l){let a=e7(k,l);return i?{"operation.name":a,"resource.name":j}:{"operation.name":a}}return{"operation.name":e7(k,b===bB.SpanKind.INTERNAL?"":e6[b])}}(a);b&&Object.assign(a.attributes,b)}if(g){if(this.rootSpanIds.delete(b),f.open.length>0){for(let a of f.open)if(!a.ended&&a.spanContext().spanId!==c)try{a.end()}catch(a){bB.diag.error("@vercel/otel: onEnd failed:",a)}}}else if(f)for(let a=0;a<f.open.length;a++)f.open[a]?.spanContext().spanId===c&&f.open.splice(a,1);for(let b of this.processors)b.onEnd(a);if(g){let a=this.waitSpanEnd.get(b);a&&(this.waitSpanEnd.delete(b),a())}}},e6={[bB.SpanKind.INTERNAL]:"internal",[bB.SpanKind.SERVER]:"server",[bB.SpanKind.CLIENT]:"client",[bB.SpanKind.PRODUCER]:"producer",[bB.SpanKind.CONSUMER]:"consumer"};function e7(a,b){if(!a)return b;let c=a.replace(/[ @./]/g,"_");return c.startsWith("_")&&(c=c.slice(1)),b?`${c}.${b}`:c}var e8=bz(cw(),1),e9=bz(cy(),1);bC();var fa=class extends e9.OTLPExporterBase{constructor(a={}){super(a),a.headers&&(this._headers=a.headers)}onShutdown(){bB.diag.debug("@vercel/otel/otlp: onShutdown")}onInit(){bB.diag.debug("@vercel/otel/otlp: onInit")}send(a,b,c){if(this._shutdownOnce.isCalled)return void bB.diag.debug("@vercel/otel/otlp: Shutdown already started. Cannot send objects");let d=this.convert(a),e,f,g;try{({body:e,contentType:f,headers:g}=this.toMessage(d))}catch(a){bB.diag.warn("@vercel/otel/otlp: no proto",a);return}let h=fetch(this.url,{method:"POST",body:e,headers:{...this._headers,...g,"Content-Type":f,"User-Agent":"OTel-OTLP-Exporter-JavaScript/0.46.0"},next:{internal:!0}}).then(a=>{bB.diag.debug("@vercel/otel/otlp: onSuccess",a.status,a.statusText),b(),a.arrayBuffer().catch(()=>{})}).catch(a=>{bB.diag.error("@vercel/otel/otlp: onError",a),c(a)}).finally(()=>{let a=this._sendingPromises.indexOf(h);this._sendingPromises.splice(a,1)});this._sendingPromises.push(h)}getDefaultUrl(a){throw Error("Method not implemented.")}};function fb(a){return"string"==typeof a.url?a.url:"http://localhost:4318/v1/traces"}var fc=class{constructor(a={}){this.impl=new fd(a)}export(a,b){this.impl.export(a,b)}shutdown(){return this.impl.shutdown()}forceFlush(){return this.impl.forceFlush()}},fd=class extends fa{convert(a){return(0,e8.createExportTraceServiceRequest)(a,{useHex:!0,useLongBits:!1})}toMessage(a){return{body:JSON.stringify(a),contentType:"application/json"}}getDefaultUrl(a){return fb(a)}},fe=bz(cw(),1),ff=bz(cQ(),1);function fg(a,b){return null!=a.key&&b.uint32(10).string(a.key),null!=a.value&&(function a(b,c){return null!=b.stringValue&&c.uint32(10).string(b.stringValue),null!=b.boolValue&&c.uint32(16).bool(b.boolValue),null!=b.intValue&&c.uint32(24).int64(b.intValue),null!=b.doubleValue&&c.uint32(33).double(b.doubleValue),null!=b.arrayValue&&(function(b,c){if(null!=b.values&&b.values.length)for(let d=0;d<b.values.length;++d)a(b.values[d],c.uint32(10).fork()).ldelim();return c})(b.arrayValue,c.uint32(42).fork()).ldelim(),null!=b.kvlistValue&&(function(a,b){if(null!=a.values&&a.values.length)for(let c=0;c<a.values.length;++c)fg(a.values[c],b.uint32(10).fork()).ldelim();return b})(b.kvlistValue,c.uint32(50).fork()).ldelim(),null!=b.bytesValue&&c.uint32(58).bytes(b.bytesValue),c})(a.value,b.uint32(18).fork()).ldelim(),b}var fh=class{constructor(a={}){this.impl=new fi(a)}export(a,b){this.impl.export(a,b)}shutdown(){return this.impl.shutdown()}forceFlush(){return this.impl.forceFlush()}},fi=class extends fa{convert(a){return(0,fe.createExportTraceServiceRequest)(a,void 0)}toMessage(a){let b;return{body:(function(a,b){if(null!=a.resourceSpans&&a.resourceSpans.length)for(let c=0;c<a.resourceSpans.length;++c)(function(a,b){if(null!=a.resource&&(function(a,b){if(null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)fg(a.attributes[c],b.uint32(10).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(16).uint32(a.droppedAttributesCount),b})(a.resource,b.uint32(10).fork()).ldelim(),null!=a.scopeSpans&&a.scopeSpans.length)for(let c=0;c<a.scopeSpans.length;++c)(function(a,b){if(null!=a.scope&&(function(a,b){if(null!=a.name&&b.uint32(10).string(a.name),null!=a.version&&b.uint32(18).string(a.version),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)fg(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(32).uint32(a.droppedAttributesCount),b})(a.scope,b.uint32(10).fork()).ldelim(),null!=a.spans&&a.spans.length)for(let c=0;c<a.spans.length;++c)(function(a,b){var c,d;if(null!=a.traceId&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&b.uint32(26).string(a.traceState),null!=a.parentSpanId&&b.uint32(34).bytes(a.parentSpanId),null!=a.name&&b.uint32(42).string(a.name),null!=a.kind&&b.uint32(48).int32(a.kind),null!=a.startTimeUnixNano&&b.uint32(57).fixed64(a.startTimeUnixNano),null!=a.endTimeUnixNano&&b.uint32(65).fixed64(a.endTimeUnixNano),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)fg(a.attributes[c],b.uint32(74).fork()).ldelim();if(null!=a.droppedAttributesCount&&b.uint32(80).uint32(a.droppedAttributesCount),null!=a.events&&a.events.length)for(let c=0;c<a.events.length;++c)(function(a,b){if(null!=a.timeUnixNano&&b.uint32(9).fixed64(a.timeUnixNano),null!=a.name&&b.uint32(18).string(a.name),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)fg(a.attributes[c],b.uint32(26).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(32).uint32(a.droppedAttributesCount),b})(a.events[c],b.uint32(90).fork()).ldelim();if(null!=a.droppedEventsCount&&b.uint32(96).uint32(a.droppedEventsCount),null!=a.links&&a.links.length)for(let c=0;c<a.links.length;++c)(function(a,b){if(null!=a.traceId&&b.uint32(10).bytes(a.traceId),null!=a.spanId&&b.uint32(18).bytes(a.spanId),null!=a.traceState&&b.uint32(26).string(a.traceState),null!=a.attributes&&a.attributes.length)for(let c=0;c<a.attributes.length;++c)fg(a.attributes[c],b.uint32(34).fork()).ldelim();return null!=a.droppedAttributesCount&&b.uint32(40).uint32(a.droppedAttributesCount),b})(a.links[c],b.uint32(106).fork()).ldelim();return null!=a.droppedLinksCount&&b.uint32(112).uint32(a.droppedLinksCount),null!=a.status&&(c=a.status,d=b.uint32(122).fork(),null!=c.message&&d.uint32(18).string(c.message),null!=c.code&&d.uint32(24).int32(c.code),d).ldelim(),b})(a.spans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&b.uint32(26).string(a.schemaUrl),b})(a.scopeSpans[c],b.uint32(18).fork()).ldelim();return null!=a.schemaUrl&&b.uint32(26).string(a.schemaUrl),b})(a.resourceSpans[c],b.uint32(10).fork()).ldelim()}(a,b=new ff.Writer),b.finish()),contentType:"application/x-protobuf",headers:{accept:"application/x-protobuf"}}}getDefaultUrl(a){return fb(a)}};bC();var fj=class{constructor(a={}){this.instrumentationName="@vercel/otel/fetch",this.instrumentationVersion="1.0.0",this.config=a}getConfig(){return this.config}setConfig(){}setTracerProvider(a){this.tracerProvider=a}setMeterProvider(){}shouldIgnore(a,b){let c=this.config.ignoreUrls??[];if(b?.opentelemetry?.ignore!==void 0)return b.opentelemetry.ignore;if(0===c.length)return!1;let d=a.toString();return c.some(a=>"string"==typeof a?"*"===a||d.startsWith(a):a.test(d))}shouldPropagate(a,b){let c=process.env.VERCEL_URL||process.env.NEXT_PUBLIC_VERCEL_URL||null,d=process.env.VERCEL_BRANCH_URL||process.env.NEXT_PUBLIC_VERCEL_BRANCH_URL||null,e=this.config.propagateContextUrls??[],f=this.config.dontPropagateContextUrls??[];if(b?.opentelemetry?.propagateContext)return b.opentelemetry.propagateContext;let g=a.toString();return!(f.length>0&&f.some(a=>"string"==typeof a?"*"===a||g.startsWith(a):a.test(g)))&&(!!c&&"https:"===a.protocol&&(a.host===c||a.host===d||a.host===e1()?.headers.host)||!c&&"http:"===a.protocol&&"localhost"===a.hostname||e.some(a=>"string"==typeof a?"*"===a||g.startsWith(a):a.test(g)))}startSpan({tracer:a,url:b,fetchType:c,method:d="GET",name:e,attributes:f={}}){var g;let h,i=this.config.resourceNameTemplate,j={"http.method":d,"http.url":b.toString(),[eZ]:b.host,"http.scheme":b.protocol.replace(":",""),"net.peer.name":b.hostname,"net.peer.port":b.port},k=i?i.replace(/\{(?<temp1>[^{}]+)\}/g,(a,b)=>{let c=j[b];return void 0!==c?String(c):a}):-1===(h=(g=b.toString()).indexOf("?"))?g:g.substring(0,h),l=e??`${c} ${d} ${b.toString()}`,m=bB.context.active();return a.startSpan(l,{kind:bB.SpanKind.CLIENT,attributes:{...j,"operation.name":`${c}.${d}`,"http.client.name":c,"resource.name":k,...f}},m)}instrumentHttp(a,b){let{tracerProvider:c}=this;if(!c)return;let d=c.getTracer(this.instrumentationName,this.instrumentationVersion),{attributesFromRequestHeaders:e,attributesFromResponseHeaders:f}=this.config,g=a.request,h=a.get,i=a=>(c,g,h)=>{let i,j={},k;if("string"==typeof c||c instanceof URL?(i=new URL(c.toString()),"function"==typeof g?k=g:g&&"function"==typeof h?(j=g,k=h):g&&(j=g)):(j=c,"function"==typeof g&&(k=g),i=function(a,b){let c;if(a.socketPath)throw Error("Cannot construct a network URL: options.socketPath is specified, indicating a Unix domain socket.");let d=a.protocol??b;d&&!d.endsWith(":")&&(d+=":");let e=a.hostname,f=a.port??a.defaultPort;if(!e&&a.host){let b=a.host.split(":");e=b[0];let c=b[1];if(b.length>1&&c&&void 0===f){let a=parseInt(c,10);isNaN(a)||(f=a)}}if(e||(e="localhost"),void 0!==f&&""!==f){let a=parseInt(String(f),10);c=isNaN(a)?"https:"===d?443:80:a}else c="https:"===d?443:80;let g=new URL(a.path||"/",`${d}//${e}:${c}`);if(a.auth){let b=a.auth.split(":");g.username=decodeURIComponent(b[0]||""),b.length>1&&(g.password=decodeURIComponent(b[1]||""))}return g}(j,b)),this.shouldIgnore(i))return a.apply(this,[i,j,k]);let l=this.startSpan({tracer:d,url:i,fetchType:"http",method:j.method||"GET"});if(!l.isRecording()||!e4(l.spanContext().traceFlags))return l.end(),a.apply(this,[i,j,k]);if(this.shouldPropagate(i)){let a=bB.context.active(),b=bB.trace.setSpan(a,l);bB.propagation.inject(b,j.headers||{},fm)}e&&fp(l,e,j.headers||{},fn);try{let b=Date.now(),c=a.apply(this,[i,j,k]);return c.prependListener("response",a=>{let d=Date.now()-b;l.setAttribute("http.response_time",d),void 0!==a.statusCode?(l.setAttribute(e$,a.statusCode),a.statusCode>=500&&fo(l,`Status: ${a.statusCode}`)):fo(l,"Response status code is undefined"),f&&fp(l,f,a.headers,fn),1>=c.listenerCount("response")&&a.resume(),a.on("end",()=>{let b,c=a.statusCode;b=a.aborted&&!a.complete?{code:bB.SpanStatusCode.ERROR}:c&&c>=100&&c<500?{code:bB.SpanStatusCode.UNSET}:{code:bB.SpanStatusCode.ERROR},l.setStatus(b),l.isRecording()&&(a.headers["content-length"]&&l.setAttribute(e_,a.headers["content-length"]),l.end())})}),c.on("error",a=>{l.isRecording()&&(fo(l,a),l.end())}),c.on("close",()=>{l.isRecording()&&l.end()}),c}catch(a){throw fo(l,a),l.end(),a}};a.request=i(g),a.get=i(h)}instrumentFetch(){let{tracerProvider:a}=this;if(!a)return;let b=a.getTracer(this.instrumentationName,this.instrumentationVersion),{attributesFromRequestHeaders:c,attributesFromResponseHeaders:d}=this.config;process.env.NEXT_OTEL_FETCH_DISABLED="1";let e=globalThis.fetch;this.originalFetch=e;let f=async(a,f)=>{if(f?.next?.internal)return e(a,f);let g=new Request(a instanceof Request?a.clone():a,f),h=new URL(g.url);if(this.shouldIgnore(h,f))return e(a,f);let i=this.startSpan({tracer:b,url:h,fetchType:"fetch",method:g.method,name:f?.opentelemetry?.spanName,attributes:f?.opentelemetry?.attributes});if(!i.isRecording()||!e4(i.spanContext().traceFlags))return i.end(),e(a,f);if(this.shouldPropagate(h,f)){let a=bB.context.active(),b=bB.trace.setSpan(a,i);bB.propagation.inject(b,g.headers,fk)}c&&fp(i,c,g.headers,fl);try{let b=Date.now();f?.body&&f.body instanceof FormData&&g.headers.delete("content-type");let c=await e(a,{...f,headers:g.headers}),h=Date.now()-b;return i.setAttribute(e$,c.status),i.setAttribute("http.response_time",h),d&&fp(i,d,c.headers,fl),c.status>=500&&fo(i,`Status: ${c.status} (${c.statusText})`),c.body?(function(a){let b=0,c=a.clone().body?.getReader();if(!c)return Promise.resolve(0);let d=()=>c.read().then(({done:a,value:c})=>{if(!a)return b+=c.byteLength,d()});return d().then(()=>b)})(c).then(a=>{i.isRecording()&&(i.setAttribute(e_,a),i.end())},a=>{i.isRecording()&&(fo(i,a),i.end())}):i.end(),c}catch(a){throw fo(i,a),i.end(),a}};globalThis.fetch=f}enable(){this.disable(),this.instrumentFetch();try{let a=bu("node:http"),b=bu("node:https");this.instrumentHttp(a,"http:"),this.instrumentHttp(b,"https:")}catch{}}disable(){this.originalFetch&&(globalThis.fetch=this.originalFetch)}},fk={set(a,b,c){a.set(b,c)}},fl={get(a,b){let c=a.get(b);if(null!==c)return c.includes(",")?c.split(",").map(a=>a.trimStart()):c},keys(a){let b=[];return a.forEach((a,c)=>{b.push(c)}),b}},fm={set(a,b,c){a[b.toLowerCase()]=c}},fn={get:(a,b)=>a[b.toLowerCase()],keys:a=>Object.keys(a)};function fo(a,b){if(b instanceof Error)a.recordException(b),a.setStatus({code:bB.SpanStatusCode.ERROR,message:b.message});else{let c=String(b);a.setStatus({code:bB.SpanStatusCode.ERROR,message:c})}}function fp(a,b,c,d){for(let[e,f]of Object.entries(b)){let b=d.get(c,f);void 0!==b&&a.setAttribute(e,b)}}bC();var fq=bz(ck(),1),fr="traceparent",fs="tracestate",ft=class{fields(){return[fr,fs]}inject(a,b,c){let d=bB.trace.getSpanContext(a);if(!d||(0,fq.isTracingSuppressed)(a)||!(0,bB.isSpanContextValid)(d))return;let e=`00-${d.traceId}-${d.spanId}-0${Number(d.traceFlags||0).toString(16)}`;c.set(b,fr,e),d.traceState&&c.set(b,fs,d.traceState.serialize())}extract(a,b,c){let d=c.get(b,fr);if(!d)return a;let e=Array.isArray(d)?d[0]:d;if("string"!=typeof e)return a;let f=function(a){let[b,c,d,e,f]=a.split("-");return b&&c&&d&&e&&2===b.length&&32===c.length&&16===d.length&&2===e.length&&("00"!==b||!f)?{traceId:c,spanId:d,traceFlags:parseInt(e,16)}:null}(e);if(!f)return a;f.isRemote=!0;let g=c.get(b,fs);if(g){let a=Array.isArray(g)?g.join(","):g;f.traceState=(0,bB.createTraceState)("string"==typeof a?a:void 0)}return bB.trace.setSpanContext(a,f)}};bC();var fu=class{fields(){return[]}inject(){}extract(a){let b=e1();if(!b?.telemetry)return bB.diag.warn("@vercel/otel: Vercel telemetry extension not found."),a;let{rootSpanContext:c}=b.telemetry;return c?(bB.diag.debug("@vercel/otel: Extracted root SpanContext from Vercel request context.",c),bB.trace.setSpanContext(a,{...c,isRemote:!0,traceFlags:c.traceFlags||bB.TraceFlags.SAMPLED})):a}};bC();var fv=bz(ck(),1),fw=bz(ck()),fx=BigInt(1e9);function fy(a){return BigInt(a[0])*fx+BigInt(a[1])}function fz(a){var b;return{low:Number(BigInt.asUintN(32,b=fy(a))),high:Number(BigInt.asUintN(32,b>>BigInt(32)))}}var fA="u">typeof BigInt?function(a){return fy(a).toString()}:fw.hrTimeToNanoseconds;function fB(a){return a}function fC(a){if(void 0!==a)return(0,fw.hexToBase64)(a)}var fD={encodeHrTime:fz,encodeSpanContext:fw.hexToBase64,encodeOptionalSpanContext:fC},fE=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g};function fF(a){return Object.keys(a).map(function(b){return function a(b,c){return{key:b,value:function b(c){var d=typeof c;return"string"===d?{stringValue:c}:"number"===d?Number.isInteger(c)?{intValue:c}:{doubleValue:c}:"boolean"===d?{boolValue:c}:c instanceof Uint8Array?{bytesValue:c}:Array.isArray(c)?{arrayValue:{values:c.map(b)}}:"object"===d&&null!=c?{kvlistValue:{values:Object.entries(c).map(function(b){var c=fE(b,2);return a(c[0],c[1])})}}:{}}(c)}}(b,a[b])})}var fG=function(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")},fH=function(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g},fI=class{export(a,b){let c=e1();if(!c?.telemetry){bB.diag.warn("@vercel/otel: no telemetry context found"),b({code:fv.ExportResultCode.SUCCESS,error:void 0});return}try{var d;let e=(d={useHex:!0,useLongBits:!1},{resourceSpans:function(a,b){for(var c=function(a){var b,c,d=new Map;try{for(var e=fG(a),f=e.next();!f.done;f=e.next()){var g=f.value,h=d.get(g.resource);h||(h=new Map,d.set(g.resource,h));var i=g.instrumentationLibrary.name+"@"+(g.instrumentationLibrary.version||"")+":"+(g.instrumentationLibrary.schemaUrl||""),j=h.get(i);j||(j=[],h.set(i,j)),j.push(g)}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return d}(a),d=[],e=c.entries(),f=e.next();!f.done;){for(var g=fH(f.value,2),h=g[0],i=g[1],j=[],k=i.values(),l=k.next();!l.done;){var m=l.value;if(m.length>0){var n=m[0].instrumentationLibrary,o=n.name,p=n.version,q=n.schemaUrl,r=m.map(function(a){return function(a,b){var c,d=a.spanContext(),e=a.status;return{traceId:b.encodeSpanContext(d.traceId),spanId:b.encodeSpanContext(d.spanId),parentSpanId:b.encodeOptionalSpanContext(a.parentSpanId),traceState:null==(c=d.traceState)?void 0:c.serialize(),name:a.name,kind:null==a.kind?0:a.kind+1,startTimeUnixNano:b.encodeHrTime(a.startTime),endTimeUnixNano:b.encodeHrTime(a.endTime),attributes:fF(a.attributes),droppedAttributesCount:a.droppedAttributesCount,events:a.events.map(function(a){var c,d;return c=a,d=b,{attributes:c.attributes?fF(c.attributes):[],name:c.name,timeUnixNano:d.encodeHrTime(c.time),droppedAttributesCount:c.droppedAttributesCount||0}}),droppedEventsCount:a.droppedEventsCount,status:{code:e.code,message:e.message},links:a.links.map(function(a){return function(a,b){var c;return{attributes:a.attributes?fF(a.attributes):[],spanId:b.encodeSpanContext(a.context.spanId),traceId:b.encodeSpanContext(a.context.traceId),traceState:null==(c=a.context.traceState)?void 0:c.serialize(),droppedAttributesCount:a.droppedAttributesCount||0}}(a,b)}),droppedLinksCount:a.droppedLinksCount}}(a,b)});j.push({scope:{name:o,version:p},spans:r,schemaUrl:q})}l=k.next()}var s={resource:{attributes:fF(h.attributes),droppedAttributesCount:0},scopeSpans:j,schemaUrl:void 0};d.push(s),f=e.next()}return d}(a,function(a){if(void 0===a)return fD;var b,c,d=null==(b=a.useLongBits)||b,e=null!=(c=a.useHex)&&c;return{encodeHrTime:d?fz:fA,encodeSpanContext:e?fB:fw.hexToBase64,encodeOptionalSpanContext:e?fB:fC}}(d))});c.telemetry.reportSpans(e),b({code:fv.ExportResultCode.SUCCESS,error:void 0})}catch(a){b({code:fv.ExportResultCode.FAILED,error:a instanceof Error?a:Error(String(a))})}}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}},fJ={ALL:bB.DiagLogLevel.ALL,VERBOSE:bB.DiagLogLevel.VERBOSE,DEBUG:bB.DiagLogLevel.DEBUG,INFO:bB.DiagLogLevel.INFO,WARN:bB.DiagLogLevel.WARN,ERROR:bB.DiagLogLevel.ERROR,NONE:bB.DiagLogLevel.NONE},fK=class{constructor(a={}){this.configuration=a}start(){var a,b,c,d,e,f,g,h;let i,j,k=(i=(0,eW.parseEnvironment)(process.env),{...eW.DEFAULT_ENVIRONMENT,...i}),l=this.configuration,m="edge",n=!!k.OTEL_SDK_DISABLED;if(process.env.OTEL_LOG_LEVEL&&bB.diag.setLogger(new bB.DiagConsoleLogger,{logLevel:fJ[process.env.OTEL_LOG_LEVEL.toUpperCase()]}),n)return;let o=l.idGenerator??new db,p=l.contextManager??new eX.AsyncLocalStorageContextManager;p.enable(),this.contextManager=p;let q=k.OTEL_SERVICE_NAME||l.serviceName||"app",r=new dl(e2({"service.name":q,"node.ci":!!process.env.CI||void 0,"node.env":"production",env:process.env.VERCEL_ENV||process.env.NEXT_PUBLIC_VERCEL_ENV,"vercel.region":process.env.VERCEL_REGION,"vercel.runtime":m,"vercel.sha":process.env.VERCEL_GIT_COMMIT_SHA||process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA,"vercel.host":process.env.VERCEL_URL||process.env.NEXT_PUBLIC_VERCEL_URL||void 0,"vercel.branch_host":process.env.VERCEL_BRANCH_URL||process.env.NEXT_PUBLIC_VERCEL_BRANCH_URL||void 0,"vercel.deployment_id":process.env.VERCEL_DEPLOYMENT_ID||void 0,"service.version":process.env.VERCEL_DEPLOYMENT_ID,...l.attributes})),s=l.resourceDetectors??[dr];(l.autoDetectResources??!0)&&(r=r.merge(dt({detectors:s})));let t=(a=l.propagators,b=0,c=k,j=process.env.OTEL_PROPAGATORS&&c.OTEL_PROPAGATORS&&c.OTEL_PROPAGATORS.length>0?c.OTEL_PROPAGATORS:void 0,(a??j??["auto"]).map(a=>{if("none"===a)return[];if("auto"===a){let a=[];return a.push({name:"tracecontext",propagator:new ft}),a.push({name:"baggage",propagator:new eY.W3CBaggagePropagator}),a.push({name:"vercel-runtime",propagator:new fu}),bB.diag.debug(`@vercel/otel: Configure propagators: ${a.map(a=>a.name).join(", ")}`),a.map(a=>a.propagator)}if("tracecontext"===a)return bB.diag.debug("@vercel/otel: Configure propagator: tracecontext"),new ft;if("baggage"===a)return bB.diag.debug("@vercel/otel: Configure propagator: baggage"),new eY.W3CBaggagePropagator;if("string"==typeof a)throw Error(`Unknown propagator: "${a}"`);return a}).flat()),u=function(a,b){if(a&&"string"!=typeof a)return a;let c=a&&"auto"!==a?a:b.OTEL_TRACES_SAMPLER||fL;switch(bB.diag.debug("@vercel/otel: Configure sampler: ",c),c){case"always_on":return new cZ;case"always_off":return new cY;case"parentbased_always_on":return new c_({root:new cZ});case"parentbased_always_off":return new c_({root:new cY});case"traceidratio":return new c0(fM(b));case"parentbased_traceidratio":return new c_({root:new c0(fM(b))});default:return bB.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER value "${String(b.OTEL_TRACES_SAMPLER)} invalid, defaulting to ${fL}".`),new cZ}}(l.traceSampler,k),v=(d=l.spanProcessors,e=l,f=k,[...(d??["auto"]).flatMap(a=>{if("auto"===a){let a=[new da(new fI)];if(process.env.VERCEL_OTEL_ENDPOINTS){let b=process.env.VERCEL_OTEL_ENDPOINTS_PORT||"4318",c=process.env.VERCEL_OTEL_ENDPOINTS_PROTOCOL||"http/protobuf";bB.diag.debug("@vercel/otel: Configure vercel otel collector on port: ",b,c);let d={url:`http://localhost:${b}/v1/traces`,headers:{}},e="http/protobuf"===c?new fh(d):new fc(d);a.push(new da(e))}else(!e.traceExporter||"auto"===e.traceExporter||f.OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||f.OTEL_EXPORTER_OTLP_ENDPOINT)&&a.push(new da(function(a){let b=process.env.OTEL_EXPORTER_OTLP_TRACES_PROTOCOL??process.env.OTEL_EXPORTER_OTLP_PROTOCOL??"http/protobuf",c=function(a){let b=a.OTEL_EXPORTER_OTLP_TRACES_ENDPOINT;if(b&&"string"==typeof b)return b;let c=a.OTEL_EXPORTER_OTLP_ENDPOINT;return c&&"string"==typeof c?`${c}/${fN}`:fO}(a),d={...eY.baggageUtils.parseKeyPairsIntoRecord(a.OTEL_EXPORTER_OTLP_HEADERS),...eY.baggageUtils.parseKeyPairsIntoRecord(a.OTEL_EXPORTER_OTLP_TRACES_HEADERS)};switch(bB.diag.debug("@vercel/otel: Configure trace exporter: ",b,c,`headers: ${Object.keys(d).join(",")||"<none>"}`),b){case"http/json":return new fc({url:c,headers:d});case"http/protobuf":return new fh({url:c,headers:d});default:return bB.diag.warn(`@vercel/otel: Unsupported OTLP traces protocol: ${b}. Using http/protobuf.`),new fh}}(f)));return a}return a}).filter(fP),...e.traceExporter&&"auto"!==e.traceExporter?[new da(e.traceExporter)]:[]]);0===v.length&&bB.diag.warn("@vercel/otel: No span processors configured. No spans will be exported.");let w=new dz({resource:r,idGenerator:o,sampler:u,spanLimits:l.spanLimits});if(w.addSpanProcessor(new e5(v,l.attributesFromHeaders)),w.register({contextManager:p,propagator:new eY.CompositePropagator({propagators:t})}),this.tracerProvider=w,l.logRecordProcessor){let a=new dQ({resource:r});this.loggerProvider=a,a.addLogRecordProcessor(l.logRecordProcessor),dA.logs.setGlobalLoggerProvider(a)}if(l.metricReader||l.views){let a=new eV({resource:r,views:l.views??[]});l.metricReader&&a.addMetricReader(l.metricReader),bB.metrics.setGlobalMeterProvider(a),this.meterProvider=a}let x=(g=l.instrumentations,h=l.instrumentationConfig,(g??["auto"]).map(a=>"auto"===a?(bB.diag.debug("@vercel/otel: Configure instrumentations: fetch",h?.fetch),[new fj(h?.fetch)]):"fetch"===a?(bB.diag.debug("@vercel/otel: Configure instrumentations: fetch",h?.fetch),new fj(h?.fetch)):a).flat());this.disableInstrumentations=(0,dB.registerInstrumentations)({instrumentations:x}),bB.diag.info("@vercel/otel: started",q,m)}async shutdown(){let a=[];this.tracerProvider&&a.push(this.tracerProvider.shutdown()),this.loggerProvider&&a.push(this.loggerProvider.shutdown()),this.meterProvider&&a.push(this.meterProvider.shutdown()),bB.diag.info("@vercel/otel: shutting down",a.length,"edge"),await Promise.all(a),this.contextManager&&this.contextManager.disable();let{disableInstrumentations:b}=this;b&&b()}},fL="always_on";function fM(a){if(void 0===a.OTEL_TRACES_SAMPLER_ARG||""===a.OTEL_TRACES_SAMPLER_ARG)return bB.diag.error("@vercel/otel: OTEL_TRACES_SAMPLER_ARG is blank, defaulting to 1."),1;bB.diag.debug("@vercel/otel: Configure sampler probability: ",a.OTEL_TRACES_SAMPLER_ARG);let b=Number(a.OTEL_TRACES_SAMPLER_ARG);return isNaN(b)?(bB.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to 1.`),1):b<0||b>1?(bB.diag.error(`@vercel/otel: OTEL_TRACES_SAMPLER_ARG=${a.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to 1.`),1):b}var fN="v1/traces",fO=`http://localhost:4318/${fN}`;function fP(a){return null!=a}function fQ(a){new fK(a?"string"==typeof a?{serviceName:a}:a:{}).start()}}},a=>{var b=a(a.s=4942);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_instrumentation=b}]);
//# sourceMappingURL=edge-instrumentation.js.map